!function(t,i,e){"use strict";function s(t,i){this.element=t,this.layers=t.getElementsByClassName("layer");var e={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,"friction-y"),originX:this.data(this.element,"origin-x"),originY:this.data(this.element,"origin-y")};for(var s in e)null===e[s]&&delete e[s];this.extend(this,r,i,e),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.bounds=null,this.ex=0,this.ey=0,this.ew=0,this.eh=0,this.ecx=0,this.ecy=0,this.erx=0,this.ery=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}var n="Parallax",o=30,r={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};s.prototype.extend=function(){if(arguments.length>1)for(var t=arguments[0],i=1,e=arguments.length;i<e;i++){var s=arguments[i];for(var n in s)t[n]=s[n]}},s.prototype.data=function(t,i){return this.deserialize(t.getAttribute("data-"+i))},s.prototype.deserialize=function(t){return"true"===t||"false"!==t&&("null"===t?null:!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(t):t)},s.prototype.camelCase=function(t){return t.replace(/-+(.)?/g,function(t,i){return i?i.toUpperCase():""})},s.prototype.transformSupport=function(s){for(var n=i.createElement("div"),o=!1,r=null,a=!1,h=null,l=null,p=0,c=this.vendors.length;p<c;p++)if(null!==this.vendors[p]?(h=this.vendors[p][0]+"transform",l=this.vendors[p][1]+"Transform"):(h="transform",l="transform"),n.style[l]!==e){o=!0;break}switch(s){case"2D":a=o;break;case"3D":if(o){var m=i.body||i.createElement("body"),u=i.documentElement,y=u.style.overflow;i.body||(u.style.overflow="hidden",u.appendChild(m),m.style.overflow="hidden",m.style.background=""),m.appendChild(n),n.style[l]="translate3d(1px,1px,1px)",r=t.getComputedStyle(n).getPropertyValue(h),a=r!==e&&r.length>0&&"none"!==r,u.style.overflow=y,m.removeChild(n)}}return a},s.prototype.ww=null,s.prototype.wh=null,s.prototype.wcx=null,s.prototype.wcy=null,s.prototype.wrx=null,s.prototype.wry=null,s.prototype.portrait=null,s.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),s.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],s.prototype.motionSupport=!!t.DeviceMotionEvent,s.prototype.orientationSupport=!!t.DeviceOrientationEvent,s.prototype.orientationStatus=0,s.prototype.propertyCache={},s.prototype.initialise=function(){s.prototype.transform2DSupport===e&&(s.prototype.transform2DSupport=s.prototype.transformSupport("2D"),s.prototype.transform3DSupport=s.prototype.transformSupport("3D")),this.transform3DSupport&&this.accelerate(this.element);var i=t.getComputedStyle(this.element);"static"===i.getPropertyValue("position")&&(this.element.style.position="relative"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},s.prototype.updateLayers=function(){this.layers=this.element.getElementsByClassName("layer"),this.depths=[];for(var t=0,i=this.layers.length;t<i;t++){var e=this.layers[t];this.transform3DSupport&&this.accelerate(e),e.style.position=t?"absolute":"relative",e.style.display="block",this.depths.push(this.data(e,"depth")||0)}},s.prototype.updateDimensions=function(){this.ww=t.innerWidth,this.wh=t.innerHeight,this.wcx=this.ww*this.originX,this.wcy=this.wh*this.originY,this.wrx=Math.max(this.wcx,this.ww-this.wcx),this.wry=Math.max(this.wcy,this.wh-this.wcy)},s.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect(),this.ex=this.bounds.left,this.ey=this.bounds.top,this.ew=this.bounds.width,this.eh=this.bounds.height,this.ecx=this.ew*this.originX,this.ecy=this.eh*this.originY,this.erx=Math.max(this.ecx,this.ew-this.ecx),this.ery=Math.max(this.ecy,this.eh-this.ecy)},s.prototype.queueCalibration=function(t){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,t)},s.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,t.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,t.addEventListener("mousemove",this.onMouseMove)),t.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},s.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?t.removeEventListener("deviceorientation",this.onDeviceOrientation):t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},s.prototype.calibrate=function(t,i){this.calibrateX=t===e?this.calibrateX:t,this.calibrateY=i===e?this.calibrateY:i},s.prototype.invert=function(t,i){this.invertX=t===e?this.invertX:t,this.invertY=i===e?this.invertY:i},s.prototype.friction=function(t,i){this.frictionX=t===e?this.frictionX:t,this.frictionY=i===e?this.frictionY:i},s.prototype.scalar=function(t,i){this.scalarX=t===e?this.scalarX:t,this.scalarY=i===e?this.scalarY:i},s.prototype.limit=function(t,i){this.limitX=t===e?this.limitX:t,this.limitY=i===e?this.limitY:i},s.prototype.origin=function(t,i){this.originX=t===e?this.originX:t,this.originY=i===e?this.originY:i},s.prototype.clamp=function(t,i,e){return t=Math.max(t,i),t=Math.min(t,e)},s.prototype.css=function(t,i,s){var n=this.propertyCache[i];if(!n)for(var o=0,r=this.vendors.length;o<r;o++)if(n=null!==this.vendors[o]?this.camelCase(this.vendors[o][1]+"-"+i):i,t.style[n]!==e){this.propertyCache[i]=n;break}t.style[n]=s},s.prototype.accelerate=function(t){this.css(t,"transform","translate3d(0,0,0)"),this.css(t,"transform-style","preserve-3d"),this.css(t,"backface-visibility","hidden")},s.prototype.setPosition=function(t,i,e){i+="px",e+="px",this.transform3DSupport?this.css(t,"transform","translate3d("+i+","+e+",0)"):this.transform2DSupport?this.css(t,"transform","translate("+i+","+e+")"):t.style.top=e},s.prototype.onOrientationTimer=function(){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())},s.prototype.onCalibrationTimer=function(){this.calibrationFlag=!0},s.prototype.onWindowResize=function(){this.updateDimensions()},s.prototype.onAnimationFrame=function(){this.updateBounds();var t=this.ix-this.cx,i=this.iy-this.cy;(Math.abs(t)>this.calibrationThreshold||Math.abs(i)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?i:this.iy,this.my=this.calibrateY?t:this.ix):(this.mx=this.calibrateX?t:this.ix,this.my=this.calibrateY?i:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var e=0,s=this.layers.length;e<s;e++){var n=this.layers[e],o=this.depths[e],r=this.vx*o*(this.invertX?-1:1),a=this.vy*o*(this.invertY?-1:1);this.setPosition(n,r,a)}this.raf=requestAnimationFrame(this.onAnimationFrame)},s.prototype.onDeviceOrientation=function(t){if(!this.desktop&&null!==t.beta&&null!==t.gamma){this.orientationStatus=1;var i=(t.beta||0)/o,e=(t.gamma||0)/o,s=this.wh>this.ww;this.portrait!==s&&(this.portrait=s,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=i,this.cy=e),this.ix=i,this.iy=e}},s.prototype.onMouseMove=function(t){var i=t.clientX,e=t.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(i=Math.max(i,this.ex),i=Math.min(i,this.ex+this.ew),e=Math.max(e,this.ey),e=Math.min(e,this.ey+this.eh)),this.ix=(i-this.ex-this.ecx)/this.erx,this.iy=(e-this.ey-this.ecy)/this.ery):(this.ix=(i-this.wcx)/this.wrx,this.iy=(e-this.wcy)/this.wry)},t[n]=s}(window,document),function(){for(var t=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var s=(new Date).getTime(),n=Math.max(0,16-(s-t)),o=window.setTimeout(function(){i(s+n)},n);return t=s+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcmFsbGF4LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiUGFyYWxsYXgiLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCJsYXllcnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZGF0YSIsImNhbGlicmF0ZVgiLCJjYWxpYnJhdGVZIiwiaW52ZXJ0WCIsImludmVydFkiLCJsaW1pdFgiLCJsaW1pdFkiLCJzY2FsYXJYIiwic2NhbGFyWSIsImZyaWN0aW9uWCIsImZyaWN0aW9uWSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwia2V5IiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJjYWxpYnJhdGlvblRpbWVyIiwiY2FsaWJyYXRpb25GbGFnIiwiZW5hYmxlZCIsImRlcHRocyIsInJhZiIsImJvdW5kcyIsImV4IiwiZXkiLCJldyIsImVoIiwiZWN4IiwiZWN5IiwiZXJ4IiwiZXJ5IiwiY3giLCJjeSIsIml4IiwiaXkiLCJteCIsIm15IiwidngiLCJ2eSIsIm9uTW91c2VNb3ZlIiwiYmluZCIsIm9uRGV2aWNlT3JpZW50YXRpb24iLCJvbk9yaWVudGF0aW9uVGltZXIiLCJvbkNhbGlicmF0aW9uVGltZXIiLCJvbkFuaW1hdGlvbkZyYW1lIiwib25XaW5kb3dSZXNpemUiLCJpbml0aWFsaXNlIiwiTkFNRSIsIk1BR0lDX05VTUJFUiIsInJlbGF0aXZlSW5wdXQiLCJjbGlwUmVsYXRpdmVJbnB1dCIsImNhbGlicmF0aW9uVGhyZXNob2xkIiwiY2FsaWJyYXRpb25EZWxheSIsInN1cHBvcnREZWxheSIsInByb3RvdHlwZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm1hc3RlciIsImkiLCJsIiwib2JqZWN0IiwibmFtZSIsImRlc2VyaWFsaXplIiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsImNhbWVsQ2FzZSIsInJlcGxhY2UiLCJtYXRjaCIsImNoYXJhY3RlciIsInRvVXBwZXJDYXNlIiwidHJhbnNmb3JtU3VwcG9ydCIsImNyZWF0ZUVsZW1lbnQiLCJwcm9wZXJ0eVN1cHBvcnQiLCJwcm9wZXJ0eVZhbHVlIiwiZmVhdHVyZVN1cHBvcnQiLCJjc3NQcm9wZXJ0eSIsImpzUHJvcGVydHkiLCJ2ZW5kb3JzIiwic3R5bGUiLCJib2R5IiwiZG9jdW1lbnRFbGVtZW50IiwiZG9jdW1lbnRPdmVyZmxvdyIsIm92ZXJmbG93IiwiYXBwZW5kQ2hpbGQiLCJiYWNrZ3JvdW5kIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZW1vdmVDaGlsZCIsInd3Iiwid2giLCJ3Y3giLCJ3Y3kiLCJ3cngiLCJ3cnkiLCJwb3J0cmFpdCIsImRlc2t0b3AiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtb3Rpb25TdXBwb3J0IiwiRGV2aWNlTW90aW9uRXZlbnQiLCJvcmllbnRhdGlvblN1cHBvcnQiLCJEZXZpY2VPcmllbnRhdGlvbkV2ZW50Iiwib3JpZW50YXRpb25TdGF0dXMiLCJwcm9wZXJ0eUNhY2hlIiwidHJhbnNmb3JtMkRTdXBwb3J0IiwidHJhbnNmb3JtM0RTdXBwb3J0IiwiYWNjZWxlcmF0ZSIsInBvc2l0aW9uIiwidXBkYXRlTGF5ZXJzIiwidXBkYXRlRGltZW5zaW9ucyIsImVuYWJsZSIsInF1ZXVlQ2FsaWJyYXRpb24iLCJsYXllciIsImRpc3BsYXkiLCJwdXNoIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiTWF0aCIsIm1heCIsInVwZGF0ZUJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkaXNhYmxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2FsaWJyYXRlIiwieCIsInkiLCJpbnZlcnQiLCJmcmljdGlvbiIsInNjYWxhciIsImxpbWl0Iiwib3JpZ2luIiwiY2xhbXAiLCJtaW4iLCJjc3MiLCJwcm9wZXJ0eSIsInNldFBvc2l0aW9uIiwiZHgiLCJkeSIsImFicyIsImRlcHRoIiwieE9mZnNldCIsInlPZmZzZXQiLCJldmVudCIsImJldGEiLCJnYW1tYSIsImNsaWVudFgiLCJjbGllbnRZIiwibGFzdFRpbWUiLCJjYWxsYmFjayIsImN1cnJUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJ0aW1lVG9DYWxsIiwiaWQiXSwibWFwcGluZ3MiOiJDQXNDQyxTQUFVQSxFQUFRQyxFQUFVQyxHQUczQixZQXlCQSxTQUFTQyxHQUFTQyxFQUFTQyxHQUd6QkMsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0MsT0FBU0gsRUFBUUksdUJBQXVCLFFBRzdDLElBQUlDLElBQ0ZDLFdBQVlKLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsZUFDcENPLFdBQVlMLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsZUFDcENRLFFBQVNOLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNTLFFBQVNQLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNVLE9BQVFSLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsV0FDaENXLE9BQVFULEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsV0FDaENZLFFBQVNWLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNhLFFBQVNYLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNjLFVBQVdaLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsY0FDbkNlLFVBQVdiLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsY0FDbkNnQixRQUFTZCxLQUFLRyxLQUFLSCxLQUFLRixRQUFTLFlBQ2pDaUIsUUFBU2YsS0FBS0csS0FBS0gsS0FBS0YsUUFBUyxZQUluQyxLQUFLLEdBQUlrQixLQUFPYixHQUNJLE9BQWRBLEVBQUthLFVBQXNCYixHQUFLYSxFQUl0Q2hCLE1BQUtpQixPQUFPakIsS0FBTWtCLEVBQVVuQixFQUFTSSxHQUdyQ0gsS0FB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LE9BQU93RixFQUFReUQsR0FBRyw4QkFHMUZqSixRQUFPNEksd0JBQ1Y1SSxPQUFPNEksc0JBQXdCLFNBQVM2QixFQUFVckssR0FDaEQsR0FBSXNLLElBQVcsR0FBSUMsT0FBT0MsVUFDdEJDLEVBQWE3QyxLQUFLQyxJQUFJLEVBQUcsSUFBTXlDLEVBQVdGLElBQzFDTSxFQUFLOUssT0FBTzBJLFdBQVcsV0FBYStCLEVBQVNDLEVBQVdHLElBQzFEQSxFQUVGLE9BREFMLEdBQVdFLEVBQVdHLEVBQ2ZDLElBSU45SyxPQUFPK0ksdUJBQ1YvSSxPQUFPK0kscUJBQXVCLFNBQVMrQixHQUNyQ3JDLGFBQWFxQyIsImZpbGUiOiJwYXJhbGxheC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIFRoZSBNSVQgTGljZW5zZVxyXG4vL1xyXG4vLyBDb3B5cmlnaHQgKEMpIDIwMTQgTWF0dGhldyBXYWdlcmZpZWxkIC0gQHdhZ2VyZmllbGRcclxuLy9cclxuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueVxyXG4vLyBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkXHJcbi8vIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZVxyXG4vLyBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXHJcbi8vIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4vLyBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG9cclxuLy8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvXHJcbi8vIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuLy9cclxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2VcclxuLy8gc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9uc1xyXG4vLyBvZiB0aGUgU29mdHdhcmUuXHJcbi8vXHJcbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFlcclxuLy8gT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1RcclxuLy8gTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1NcclxuLy8gRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PXHJcbi8vIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRVxyXG4vLyBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTlxyXG4vLyBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0VcclxuLy8gT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBhcmFsbGF4LmpzXHJcbiAqIEBhdXRob3IgTWF0dGhldyBXYWdlcmZpZWxkIC0gQHdhZ2VyZmllbGRcclxuICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBwYXJhbGxheCBlZmZlY3QgYmV0d2VlbiBhbiBhcnJheSBvZiBsYXllcnMsXHJcbiAqICAgICAgICAgICAgICBkcml2aW5nIHRoZSBtb3Rpb24gZnJvbSB0aGUgZ3lyb3Njb3BlIG91dHB1dCBvZiBhIHNtYXJ0ZGV2aWNlLlxyXG4gKiAgICAgICAgICAgICAgSWYgbm8gZ3lyb3Njb3BlIGlzIGF2YWlsYWJsZSwgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyB1c2VkLlxyXG4gKi9cclxuOyhmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgLy8gU3RyaWN0IE1vZGVcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8vIENvbnN0YW50c1xyXG4gIHZhciBOQU1FID0gJ1BhcmFsbGF4JztcclxuICB2YXIgTUFHSUNfTlVNQkVSID0gMzA7XHJcbiAgdmFyIERFRkFVTFRTID0ge1xyXG4gICAgcmVsYXRpdmVJbnB1dDogZmFsc2UsXHJcbiAgICBjbGlwUmVsYXRpdmVJbnB1dDogZmFsc2UsXHJcbiAgICBjYWxpYnJhdGlvblRocmVzaG9sZDogMTAwLFxyXG4gICAgY2FsaWJyYXRpb25EZWxheTogNTAwLFxyXG4gICAgc3VwcG9ydERlbGF5OiA1MDAsXHJcbiAgICBjYWxpYnJhdGVYOiBmYWxzZSxcclxuICAgIGNhbGlicmF0ZVk6IHRydWUsXHJcbiAgICBpbnZlcnRYOiB0cnVlLFxyXG4gICAgaW52ZXJ0WTogdHJ1ZSxcclxuICAgIGxpbWl0WDogZmFsc2UsXHJcbiAgICBsaW1pdFk6IGZhbHNlLFxyXG4gICAgc2NhbGFyWDogMTAuMCxcclxuICAgIHNjYWxhclk6IDEwLjAsXHJcbiAgICBmcmljdGlvblg6IDAuMSxcclxuICAgIGZyaWN0aW9uWTogMC4xLFxyXG4gICAgb3JpZ2luWDogMC41LFxyXG4gICAgb3JpZ2luWTogMC41XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gUGFyYWxsYXgoZWxlbWVudCwgb3B0aW9ucykge1xyXG5cclxuICAgIC8vIERPTSBDb250ZXh0XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5sYXllcnMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xheWVyJyk7XHJcblxyXG4gICAgLy8gRGF0YSBFeHRyYWN0aW9uXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgY2FsaWJyYXRlWDogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2NhbGlicmF0ZS14JyksXHJcbiAgICAgIGNhbGlicmF0ZVk6IHRoaXMuZGF0YSh0aGlzLmVsZW1lbnQsICdjYWxpYnJhdGUteScpLFxyXG4gICAgICBpbnZlcnRYOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnaW52ZXJ0LXgnKSxcclxuICAgICAgaW52ZXJ0WTogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2ludmVydC15JyksXHJcbiAgICAgIGxpbWl0WDogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2xpbWl0LXgnKSxcclxuICAgICAgbGltaXRZOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnbGltaXQteScpLFxyXG4gICAgICBzY2FsYXJYOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnc2NhbGFyLXgnKSxcclxuICAgICAgc2NhbGFyWTogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ3NjYWxhci15JyksXHJcbiAgICAgIGZyaWN0aW9uWDogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2ZyaWN0aW9uLXgnKSxcclxuICAgICAgZnJpY3Rpb25ZOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnZnJpY3Rpb24teScpLFxyXG4gICAgICBvcmlnaW5YOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnb3JpZ2luLXgnKSxcclxuICAgICAgb3JpZ2luWTogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ29yaWdpbi15JylcclxuICAgIH07ICAgIFxyXG5cclxuICAgIC8vIERlbGV0ZSBOdWxsIERhdGEgVmFsdWVzXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xyXG4gICAgICBpZiAoZGF0YVtrZXldID09PSBudWxsKSBkZWxldGUgZGF0YVtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXBvc2UgU2V0dGluZ3MgT2JqZWN0XHJcbiAgICB0aGlzLmV4dGVuZCh0aGlzLCBERUZBVUxUUywgb3B0aW9ucywgZGF0YSk7XHJcblxyXG4gICAgLy8gU3RhdGVzXHJcbiAgICB0aGlzLmNhbGlicmF0aW9uVGltZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYWxpYnJhdGlvbkZsYWcgPSB0cnVlO1xyXG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmRlcHRocyA9IFtdO1xyXG4gICAgdGhpcy5yYWYgPSBudWxsO1xyXG5cclxuICAgIC8vIEVsZW1lbnQgQm91bmRzXHJcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XHJcbiAgICB0aGlzLmV4ID0gMDtcclxuICAgIHRoaXMuZXkgPSAwO1xyXG4gICAgdGhpcy5ldyA9IDA7XHJcbiAgICB0aGlzLmVoID0gMDtcclxuXHJcbiAgICAvLyBFbGVtZW50IENlbnRlclxyXG4gICAgdGhpcy5lY3ggPSAwO1xyXG4gICAgdGhpcy5lY3kgPSAwO1xyXG5cclxuICAgIC8vIEVsZW1lbnQgUmFuZ2VcclxuICAgIHRoaXMuZXJ4ID0gMDtcclxuICAgIHRoaXMuZXJ5ID0gMDtcclxuXHJcbiAgICAvLyBDYWxpYnJhdGlvblxyXG4gICAgdGhpcy5jeCA9IDA7XHJcbiAgICB0aGlzLmN5ID0gMDtcclxuXHJcbiAgICAvLyBJbnB1dFxyXG4gICAgdGhpcy5peCA9IDA7XHJcbiAgICB0aGlzLml5ID0gMDtcclxuXHJcbiAgICAvLyBNb3Rpb25cclxuICAgIHRoaXMubXggPSAwO1xyXG4gICAgdGhpcy5teSA9IDA7XHJcblxyXG4gICAgLy8gVmVsb2NpdHlcclxuICAgIHRoaXMudnggPSAwO1xyXG4gICAgdGhpcy52eSA9IDA7XHJcblxyXG4gICAgLy8gQ2FsbGJhY2tzXHJcbiAgICB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uID0gdGhpcy5vbkRldmljZU9yaWVudGF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uT3JpZW50YXRpb25UaW1lciA9IHRoaXMub25PcmllbnRhdGlvblRpbWVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uQ2FsaWJyYXRpb25UaW1lciA9IHRoaXMub25DYWxpYnJhdGlvblRpbWVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uQW5pbWF0aW9uRnJhbWUgPSB0aGlzLm9uQW5pbWF0aW9uRnJhbWUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25XaW5kb3dSZXNpemUgPSB0aGlzLm9uV2luZG93UmVzaXplLmJpbmQodGhpcyk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGlzZVxyXG4gICAgdGhpcy5pbml0aWFsaXNlKCk7XHJcbiAgfVxyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgdmFyIG1hc3RlciA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgZm9yICh2YXIgaSA9IDEsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG9iamVjdCA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICBtYXN0ZXJba2V5XSA9IG9iamVjdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGVzZXJpYWxpemUoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtJytuYW1lKSk7XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLmRlc2VyaWFsaXplID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnbnVsbCcpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9IGVsc2UgaWYgKCFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSkgJiYgaXNGaW5pdGUodmFsdWUpKSB7XHJcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUuY2FtZWxDYXNlID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNoYXJhY3Rlcil7XHJcbiAgICAgIHJldHVybiBjaGFyYWN0ZXIgPyBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKSA6ICcnO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLnRyYW5zZm9ybVN1cHBvcnQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHZhciBwcm9wZXJ0eVN1cHBvcnQgPSBmYWxzZTtcclxuICAgIHZhciBwcm9wZXJ0eVZhbHVlID0gbnVsbDtcclxuICAgIHZhciBmZWF0dXJlU3VwcG9ydCA9IGZhbHNlO1xyXG4gICAgdmFyIGNzc1Byb3BlcnR5ID0gbnVsbDtcclxuICAgIHZhciBqc1Byb3BlcnR5ID0gbnVsbDtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy52ZW5kb3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICBpZiAodGhpcy52ZW5kb3JzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgY3NzUHJvcGVydHkgPSB0aGlzLnZlbmRvcnNbaV1bMF0gKyAndHJhbnNmb3JtJztcclxuICAgICAgICBqc1Byb3BlcnR5ID0gdGhpcy52ZW5kb3JzW2ldWzFdICsgJ1RyYW5zZm9ybSc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3NzUHJvcGVydHkgPSAndHJhbnNmb3JtJztcclxuICAgICAgICBqc1Byb3BlcnR5ID0gJ3RyYW5zZm9ybSc7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVsZW1lbnQuc3R5bGVbanNQcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHByb3BlcnR5U3VwcG9ydCA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHN3aXRjaCh2YWx1ZSkge1xyXG4gICAgICBjYXNlICcyRCc6XHJcbiAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBwcm9wZXJ0eVN1cHBvcnQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJzNEJzpcclxuICAgICAgICBpZiAocHJvcGVydHlTdXBwb3J0KSB7XHJcbiAgICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xyXG4gICAgICAgICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgIHZhciBkb2N1bWVudE92ZXJmbG93ID0gZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93O1xyXG4gICAgICAgICAgaWYgKCFkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYm9keSk7XHJcbiAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgZWxlbWVudC5zdHlsZVtqc1Byb3BlcnR5XSA9ICd0cmFuc2xhdGUzZCgxcHgsMXB4LDFweCknO1xyXG4gICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzUHJvcGVydHkpO1xyXG4gICAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBwcm9wZXJ0eVZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydHlWYWx1ZS5sZW5ndGggPiAwICYmIHByb3BlcnR5VmFsdWUgIT09ICdub25lJztcclxuICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IGRvY3VtZW50T3ZlcmZsb3c7XHJcbiAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBmZWF0dXJlU3VwcG9ydDtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUud3cgPSBudWxsO1xyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS53aCA9IG51bGw7XHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLndjeCA9IG51bGw7XHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLndjeSA9IG51bGw7XHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLndyeCA9IG51bGw7XHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLndyeSA9IG51bGw7XHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLnBvcnRyYWl0ID0gbnVsbDtcclxuICBQYXJhbGxheC5wcm90b3R5cGUuZGVza3RvcCA9ICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZHxBbmRyb2lkfEJsYWNrQmVycnl8QkIxMHxtb2JpfHRhYmxldHxvcGVyYSBtaW5pfG5leHVzIDcpL2kpO1xyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS52ZW5kb3JzID0gW251bGwsWyctd2Via2l0LScsJ3dlYmtpdCddLFsnLW1vei0nLCdNb3onXSxbJy1vLScsJ08nXSxbJy1tcy0nLCdtcyddXTtcclxuICBQYXJhbGxheC5wcm90b3R5cGUubW90aW9uU3VwcG9ydCA9ICEhd2luZG93LkRldmljZU1vdGlvbkV2ZW50O1xyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vcmllbnRhdGlvblN1cHBvcnQgPSAhIXdpbmRvdy5EZXZpY2VPcmllbnRhdGlvbkV2ZW50O1xyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vcmllbnRhdGlvblN0YXR1cyA9IDA7XHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLnByb3BlcnR5Q2FjaGUgPSB7fTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLmluaXRpYWxpc2UgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICBpZiAoUGFyYWxsYXgucHJvdG90eXBlLnRyYW5zZm9ybTJEU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIFBhcmFsbGF4LnByb3RvdHlwZS50cmFuc2Zvcm0yRFN1cHBvcnQgPSBQYXJhbGxheC5wcm90b3R5cGUudHJhbnNmb3JtU3VwcG9ydCgnMkQnKTtcclxuICAgICAgUGFyYWxsYXgucHJvdG90eXBlLnRyYW5zZm9ybTNEU3VwcG9ydCA9IFBhcmFsbGF4LnByb3RvdHlwZS50cmFuc2Zvcm1TdXBwb3J0KCczRCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyZSBDb250ZXh0IFN0eWxlc1xyXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0KSB0aGlzLmFjY2VsZXJhdGUodGhpcy5lbGVtZW50KTtcclxuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCk7XHJcbiAgICBpZiAoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXR1cFxyXG4gICAgdGhpcy51cGRhdGVMYXllcnMoKTtcclxuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpO1xyXG4gICAgdGhpcy5lbmFibGUoKTtcclxuICAgIHRoaXMucXVldWVDYWxpYnJhdGlvbih0aGlzLmNhbGlicmF0aW9uRGVsYXkpO1xyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS51cGRhdGVMYXllcnMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvLyBDYWNoZSBMYXllciBFbGVtZW50c1xyXG4gICAgdGhpcy5sYXllcnMgPSB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGF5ZXInKTtcclxuICAgIHRoaXMuZGVwdGhzID0gW107XHJcblxyXG4gICAgLy8gQ29uZmlndXJlIExheWVyIFN0eWxlc1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxheWVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgdmFyIGxheWVyID0gdGhpcy5sYXllcnNbaV07XHJcbiAgICAgIGlmICh0aGlzLnRyYW5zZm9ybTNEU3VwcG9ydCkgdGhpcy5hY2NlbGVyYXRlKGxheWVyKTtcclxuICAgICAgbGF5ZXIuc3R5bGUucG9zaXRpb24gPSBpID8gJ2Fic29sdXRlJyA6ICdyZWxhdGl2ZSc7XHJcbiAgICAgIGxheWVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAvL0FORFkgQ0hBTkdFIDIwMTYvMDMvMTdcclxuICAgICAgLy8gbGF5ZXIuc3R5bGUubGVmdCA9IDA7XHJcbiAgICAgIC8vIGxheWVyLnN0eWxlLnRvcCA9IDA7XHJcblxyXG4gICAgICAvLyBDYWNoZSBMYXllciBEZXB0aFxyXG4gICAgICB0aGlzLmRlcHRocy5wdXNoKHRoaXMuZGF0YShsYXllciwgJ2RlcHRoJykgfHwgMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLnVwZGF0ZURpbWVuc2lvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMud3cgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIHRoaXMud2ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICB0aGlzLndjeCA9IHRoaXMud3cgKiB0aGlzLm9yaWdpblg7XHJcbiAgICB0aGlzLndjeSA9IHRoaXMud2ggKiB0aGlzLm9yaWdpblk7XHJcbiAgICB0aGlzLndyeCA9IE1hdGgubWF4KHRoaXMud2N4LCB0aGlzLnd3IC0gdGhpcy53Y3gpO1xyXG4gICAgdGhpcy53cnkgPSBNYXRoLm1heCh0aGlzLndjeSwgdGhpcy53aCAtIHRoaXMud2N5KTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUudXBkYXRlQm91bmRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHRoaXMuZXggPSB0aGlzLmJvdW5kcy5sZWZ0O1xyXG4gICAgdGhpcy5leSA9IHRoaXMuYm91bmRzLnRvcDtcclxuICAgIHRoaXMuZXcgPSB0aGlzLmJvdW5kcy53aWR0aDtcclxuICAgIHRoaXMuZWggPSB0aGlzLmJvdW5kcy5oZWlnaHQ7XHJcbiAgICB0aGlzLmVjeCA9IHRoaXMuZXcgKiB0aGlzLm9yaWdpblg7XHJcbiAgICB0aGlzLmVjeSA9IHRoaXMuZWggKiB0aGlzLm9yaWdpblk7XHJcbiAgICB0aGlzLmVyeCA9IE1hdGgubWF4KHRoaXMuZWN4LCB0aGlzLmV3IC0gdGhpcy5lY3gpO1xyXG4gICAgdGhpcy5lcnkgPSBNYXRoLm1heCh0aGlzLmVjeSwgdGhpcy5laCAtIHRoaXMuZWN5KTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUucXVldWVDYWxpYnJhdGlvbiA9IGZ1bmN0aW9uKGRlbGF5KSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jYWxpYnJhdGlvblRpbWVyKTtcclxuICAgIHRoaXMuY2FsaWJyYXRpb25UaW1lciA9IHNldFRpbWVvdXQodGhpcy5vbkNhbGlicmF0aW9uVGltZXIsIGRlbGF5KTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICBpZiAodGhpcy5vcmllbnRhdGlvblN1cHBvcnQpIHtcclxuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gbnVsbDtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLm9uRGV2aWNlT3JpZW50YXRpb24pO1xyXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5vbk9yaWVudGF0aW9uVGltZXIsIHRoaXMuc3VwcG9ydERlbGF5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmN4ID0gMDtcclxuICAgICAgICB0aGlzLmN5ID0gMDtcclxuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2U7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xyXG4gICAgICB9XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcclxuICAgICAgdGhpcy5yYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5vbkFuaW1hdGlvbkZyYW1lKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuZW5hYmxlZCkge1xyXG4gICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMub3JpZW50YXRpb25TdXBwb3J0KSB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XHJcbiAgICAgIH1cclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUpO1xyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLmNhbGlicmF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgIHRoaXMuY2FsaWJyYXRlWCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMuY2FsaWJyYXRlWCA6IHg7XHJcbiAgICB0aGlzLmNhbGlicmF0ZVkgPSB5ID09PSB1bmRlZmluZWQgPyB0aGlzLmNhbGlicmF0ZVkgOiB5O1xyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLmludmVydFggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmludmVydFggOiB4O1xyXG4gICAgdGhpcy5pbnZlcnRZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5pbnZlcnRZIDogeTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUuZnJpY3Rpb24gPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLmZyaWN0aW9uWCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMuZnJpY3Rpb25YIDogeDtcclxuICAgIHRoaXMuZnJpY3Rpb25ZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5mcmljdGlvblkgOiB5O1xyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5zY2FsYXIgPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLnNjYWxhclggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLnNjYWxhclggOiB4O1xyXG4gICAgdGhpcy5zY2FsYXJZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5zY2FsYXJZIDogeTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLmxpbWl0WCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMubGltaXRYIDogeDtcclxuICAgIHRoaXMubGltaXRZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5saW1pdFkgOiB5O1xyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vcmlnaW4gPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLm9yaWdpblggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLm9yaWdpblggOiB4O1xyXG4gICAgdGhpcy5vcmlnaW5ZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5vcmlnaW5ZIDogeTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUuY2xhbXAgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgIHZhbHVlID0gTWF0aC5tYXgodmFsdWUsIG1pbik7XHJcbiAgICB2YWx1ZSA9IE1hdGgubWluKHZhbHVlLCBtYXgpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5jc3MgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIHZhciBqc1Byb3BlcnR5ID0gdGhpcy5wcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XTtcclxuICAgIGlmICghanNQcm9wZXJ0eSkge1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMudmVuZG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAodGhpcy52ZW5kb3JzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBqc1Byb3BlcnR5ID0gdGhpcy5jYW1lbENhc2UodGhpcy52ZW5kb3JzW2ldWzFdICsgJy0nICsgcHJvcGVydHkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBqc1Byb3BlcnR5ID0gcHJvcGVydHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHRoaXMucHJvcGVydHlDYWNoZVtwcm9wZXJ0eV0gPSBqc1Byb3BlcnR5O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldID0gdmFsdWU7XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLmFjY2VsZXJhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB0aGlzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xyXG4gICAgdGhpcy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybS1zdHlsZScsICdwcmVzZXJ2ZS0zZCcpO1xyXG4gICAgdGhpcy5jc3MoZWxlbWVudCwgJ2JhY2tmYWNlLXZpc2liaWxpdHknLCAnaGlkZGVuJyk7XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgeCwgeSkge1xyXG4gICAgLy9BTkRZIENIQU5HRSAyMDE2LzAzLzE3XHJcbiAgICAvLyB4ID0gMDtcclxuICAgIHggKz0gJ3B4JztcclxuICAgIHkgKz0gJ3B4JzsgICAgXHJcbiAgICBpZiAodGhpcy50cmFuc2Zvcm0zRFN1cHBvcnQpIHsgICAgICBcclxuICAgICAgdGhpcy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnK3grJywnK3krJywwKScpO1xyXG4gICAgICAvLyB0aGlzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKDAsJyt5KycsMCknKTtcclxuICAgICAgXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMudHJhbnNmb3JtMkRTdXBwb3J0KSB7XHJcbiAgICAgIHRoaXMuY3NzKGVsZW1lbnQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcreCsnLCcreSsnKScpO1xyXG4gICAgICAvLyB0aGlzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcreSsnKScpOyAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZWxlbWVudC5zdHlsZS5sZWZ0ID0geDtcclxuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB5O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vbk9yaWVudGF0aW9uVGltZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCAmJiB0aGlzLm9yaWVudGF0aW9uU3RhdHVzID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmVuYWJsZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vbkNhbGlicmF0aW9uVGltZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuY2FsaWJyYXRpb25GbGFnID0gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBQYXJhbGxheC5wcm90b3R5cGUub25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpO1xyXG4gIH07XHJcblxyXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vbkFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xyXG4gICAgdmFyIGR4ID0gdGhpcy5peCAtIHRoaXMuY3g7XHJcbiAgICB2YXIgZHkgPSB0aGlzLml5IC0gdGhpcy5jeTtcclxuICAgIGlmICgoTWF0aC5hYnMoZHgpID4gdGhpcy5jYWxpYnJhdGlvblRocmVzaG9sZCkgfHwgKE1hdGguYWJzKGR5KSA+IHRoaXMuY2FsaWJyYXRpb25UaHJlc2hvbGQpKSB7XHJcbiAgICAgIHRoaXMucXVldWVDYWxpYnJhdGlvbigwKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnBvcnRyYWl0KSB7XHJcbiAgICAgIHRoaXMubXggPSB0aGlzLmNhbGlicmF0ZVggPyBkeSA6IHRoaXMuaXk7XHJcbiAgICAgIHRoaXMubXkgPSB0aGlzLmNhbGlicmF0ZVkgPyBkeCA6IHRoaXMuaXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm14ID0gdGhpcy5jYWxpYnJhdGVYID8gZHggOiB0aGlzLml4O1xyXG4gICAgICB0aGlzLm15ID0gdGhpcy5jYWxpYnJhdGVZID8gZHkgOiB0aGlzLml5O1xyXG4gICAgfVxyXG4gICAgdGhpcy5teCAqPSB0aGlzLmV3ICogKHRoaXMuc2NhbGFyWCAvIDEwMCk7XHJcbiAgICB0aGlzLm15ICo9IHRoaXMuZWggKiAodGhpcy5zY2FsYXJZIC8gMTAwKTtcclxuICAgIGlmICghaXNOYU4ocGFyc2VGbG9hdCh0aGlzLmxpbWl0WCkpKSB7XHJcbiAgICAgIHRoaXMubXggPSB0aGlzLmNsYW1wKHRoaXMubXgsIC10aGlzLmxpbWl0WCwgdGhpcy5saW1pdFgpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc05hTihwYXJzZUZsb2F0KHRoaXMubGltaXRZKSkpIHtcclxuICAgICAgdGhpcy5teSA9IHRoaXMuY2xhbXAodGhpcy5teSwgLXRoaXMubGltaXRZLCB0aGlzLmxpbWl0WSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnZ4ICs9ICh0aGlzLm14IC0gdGhpcy52eCkgKiB0aGlzLmZyaWN0aW9uWDtcclxuICAgIHRoaXMudnkgKz0gKHRoaXMubXkgLSB0aGlzLnZ5KSAqIHRoaXMuZnJpY3Rpb25ZO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxheWVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgdmFyIGxheWVyID0gdGhpcy5sYXllcnNbaV07XHJcbiAgICAgIHZhciBkZXB0aCA9IHRoaXMuZGVwdGhzW2ldO1xyXG4gICAgICB2YXIgeE9mZnNldCA9IHRoaXMudnggKiBkZXB0aCAqICh0aGlzLmludmVydFggPyAtMSA6IDEpO1xyXG4gICAgICB2YXIgeU9mZnNldCA9IHRoaXMudnkgKiBkZXB0aCAqICh0aGlzLmludmVydFkgPyAtMSA6IDEpO1xyXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKGxheWVyLCB4T2Zmc2V0LCB5T2Zmc2V0KTtcclxuICAgIH1cclxuICAgIHRoaXMucmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25BbmltYXRpb25GcmFtZSk7XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLm9uRGV2aWNlT3JpZW50YXRpb24gPSBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgIC8vIFZhbGlkYXRlIGVudmlyb25tZW50IGFuZCBldmVudCBwcm9wZXJ0aWVzLlxyXG4gICAgaWYgKCF0aGlzLmRlc2t0b3AgJiYgZXZlbnQuYmV0YSAhPT0gbnVsbCAmJiBldmVudC5nYW1tYSAhPT0gbnVsbCkge1xyXG5cclxuICAgICAgLy8gU2V0IG9yaWVudGF0aW9uIHN0YXR1cy5cclxuICAgICAgdGhpcy5vcmllbnRhdGlvblN0YXR1cyA9IDE7XHJcblxyXG4gICAgICAvLyBFeHRyYWN0IFJvdGF0aW9uXHJcbiAgICAgIHZhciB4ID0gKGV2ZW50LmJldGEgIHx8IDApIC8gTUFHSUNfTlVNQkVSOyAvLyAgLTkwIDo6IDkwXHJcbiAgICAgIHZhciB5ID0gKGV2ZW50LmdhbW1hIHx8IDApIC8gTUFHSUNfTlVNQkVSOyAvLyAtMTgwIDo6IDE4MFxyXG5cclxuICAgICAgLy8gRGV0ZWN0IE9yaWVudGF0aW9uIENoYW5nZVxyXG4gICAgICB2YXIgcG9ydHJhaXQgPSB0aGlzLndoID4gdGhpcy53dztcclxuICAgICAgaWYgKHRoaXMucG9ydHJhaXQgIT09IHBvcnRyYWl0KSB7XHJcbiAgICAgICAgdGhpcy5wb3J0cmFpdCA9IHBvcnRyYWl0O1xyXG4gICAgICAgIHRoaXMuY2FsaWJyYXRpb25GbGFnID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0IENhbGlicmF0aW9uXHJcbiAgICAgIGlmICh0aGlzLmNhbGlicmF0aW9uRmxhZykge1xyXG4gICAgICAgIHRoaXMuY2FsaWJyYXRpb25GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jeCA9IHg7XHJcbiAgICAgICAgdGhpcy5jeSA9IHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldCBJbnB1dFxyXG4gICAgICB0aGlzLml4ID0geDtcclxuICAgICAgdGhpcy5peSA9IHk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgUGFyYWxsYXgucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICAvLyBDYWNoZSBtb3VzZSBjb29yZGluYXRlcy5cclxuICAgIHZhciBjbGllbnRYID0gZXZlbnQuY2xpZW50WDtcclxuICAgIHZhciBjbGllbnRZID0gZXZlbnQuY2xpZW50WTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgTW91c2UgSW5wdXRcclxuICAgIGlmICghdGhpcy5vcmllbnRhdGlvblN1cHBvcnQgJiYgdGhpcy5yZWxhdGl2ZUlucHV0KSB7XHJcblxyXG4gICAgICAvLyBDbGlwIG1vdXNlIGNvb3JkaW5hdGVzIGluc2lkZSBlbGVtZW50IGJvdW5kcy5cclxuICAgICAgaWYgKHRoaXMuY2xpcFJlbGF0aXZlSW5wdXQpIHtcclxuICAgICAgICBjbGllbnRYID0gTWF0aC5tYXgoY2xpZW50WCwgdGhpcy5leCk7XHJcbiAgICAgICAgY2xpZW50WCA9IE1hdGgubWluKGNsaWVudFgsIHRoaXMuZXggKyB0aGlzLmV3KTtcclxuICAgICAgICBjbGllbnRZID0gTWF0aC5tYXgoY2xpZW50WSwgdGhpcy5leSk7XHJcbiAgICAgICAgY2xpZW50WSA9IE1hdGgubWluKGNsaWVudFksIHRoaXMuZXkgKyB0aGlzLmVoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIGlucHV0IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICB0aGlzLml4ID0gKGNsaWVudFggLSB0aGlzLmV4IC0gdGhpcy5lY3gpIC8gdGhpcy5lcng7XHJcbiAgICAgIHRoaXMuaXkgPSAoY2xpZW50WSAtIHRoaXMuZXkgLSB0aGlzLmVjeSkgLyB0aGlzLmVyeTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIGlucHV0IHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXHJcbiAgICAgIHRoaXMuaXggPSAoY2xpZW50WCAtIHRoaXMud2N4KSAvIHRoaXMud3J4O1xyXG4gICAgICB0aGlzLml5ID0gKGNsaWVudFkgLSB0aGlzLndjeSkgLyB0aGlzLndyeTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBFeHBvc2UgUGFyYWxsYXhcclxuICB3aW5kb3dbTkFNRV0gPSBQYXJhbGxheDtcclxuXHJcbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIFJlcXVlc3QgQW5pbWF0aW9uIEZyYW1lIFBvbHlmaWxsLlxyXG4gKiBAYXV0aG9yIFRpbm8gWmlqZGVsXHJcbiAqIEBhdXRob3IgUGF1bCBJcmlzaFxyXG4gKiBAc2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC8xNTc5NjcxXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCkge1xyXG5cclxuICB2YXIgbGFzdFRpbWUgPSAwO1xyXG4gIHZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcclxuXHJcbiAgZm9yKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSsnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XHJcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XHJcbiAgfVxyXG5cclxuICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaywgZWxlbWVudCkge1xyXG4gICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgdmFyIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XHJcbiAgICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpOyB9LFxyXG4gICAgICAgIHRpbWVUb0NhbGwpO1xyXG4gICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcclxuICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoaWQpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG59KCkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
