!function(t,i,e){"use strict";function s(t,i){this.element=t,this.layers=t.getElementsByClassName("layer");var e={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,"friction-y"),originX:this.data(this.element,"origin-x"),originY:this.data(this.element,"origin-y")};for(var s in e)null===e[s]&&delete e[s];this.extend(this,r,i,e),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.bounds=null,this.ex=0,this.ey=0,this.ew=0,this.eh=0,this.ecx=0,this.ecy=0,this.erx=0,this.ery=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}var n="Parallax",o=30,r={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};s.prototype.extend=function(){if(arguments.length>1)for(var t=arguments[0],i=1,e=arguments.length;i<e;i++){var s=arguments[i];for(var n in s)t[n]=s[n]}},s.prototype.data=function(t,i){return this.deserialize(t.getAttribute("data-"+i))},s.prototype.deserialize=function(t){return"true"===t||"false"!==t&&("null"===t?null:!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(t):t)},s.prototype.camelCase=function(t){return t.replace(/-+(.)?/g,function(t,i){return i?i.toUpperCase():""})},s.prototype.transformSupport=function(s){for(var n=i.createElement("div"),o=!1,r=null,a=!1,h=null,l=null,p=0,c=this.vendors.length;p<c;p++)if(null!==this.vendors[p]?(h=this.vendors[p][0]+"transform",l=this.vendors[p][1]+"Transform"):(h="transform",l="transform"),n.style[l]!==e){o=!0;break}switch(s){case"2D":a=o;break;case"3D":if(o){var m=i.body||i.createElement("body"),u=i.documentElement,y=u.style.overflow;i.body||(u.style.overflow="hidden",u.appendChild(m),m.style.overflow="hidden",m.style.background=""),m.appendChild(n),n.style[l]="translate3d(1px,1px,1px)",r=t.getComputedStyle(n).getPropertyValue(h),a=r!==e&&r.length>0&&"none"!==r,u.style.overflow=y,m.removeChild(n)}}return a},s.prototype.ww=null,s.prototype.wh=null,s.prototype.wcx=null,s.prototype.wcy=null,s.prototype.wrx=null,s.prototype.wry=null,s.prototype.portrait=null,s.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),s.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],s.prototype.motionSupport=!!t.DeviceMotionEvent,s.prototype.orientationSupport=!!t.DeviceOrientationEvent,s.prototype.orientationStatus=0,s.prototype.propertyCache={},s.prototype.initialise=function(){s.prototype.transform2DSupport===e&&(s.prototype.transform2DSupport=s.prototype.transformSupport("2D"),s.prototype.transform3DSupport=s.prototype.transformSupport("3D")),this.transform3DSupport&&this.accelerate(this.element);var i=t.getComputedStyle(this.element);"static"===i.getPropertyValue("position")&&(this.element.style.position="relative"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},s.prototype.updateLayers=function(){this.layers=this.element.getElementsByClassName("layer"),this.depths=[];for(var t=0,i=this.layers.length;t<i;t++){var e=this.layers[t];this.transform3DSupport&&this.accelerate(e),e.style.position=t?"absolute":"relative",e.style.display="block",this.depths.push(this.data(e,"depth")||0)}},s.prototype.updateDimensions=function(){this.ww=t.innerWidth,this.wh=t.innerHeight,this.wcx=this.ww*this.originX,this.wcy=this.wh*this.originY,this.wrx=Math.max(this.wcx,this.ww-this.wcx),this.wry=Math.max(this.wcy,this.wh-this.wcy)},s.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect(),this.ex=this.bounds.left,this.ey=this.bounds.top,this.ew=this.bounds.width,this.eh=this.bounds.height,this.ecx=this.ew*this.originX,this.ecy=this.eh*this.originY,this.erx=Math.max(this.ecx,this.ew-this.ecx),this.ery=Math.max(this.ecy,this.eh-this.ecy)},s.prototype.queueCalibration=function(t){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,t)},s.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,t.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,t.addEventListener("mousemove",this.onMouseMove)),t.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},s.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?t.removeEventListener("deviceorientation",this.onDeviceOrientation):t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},s.prototype.calibrate=function(t,i){this.calibrateX=t===e?this.calibrateX:t,this.calibrateY=i===e?this.calibrateY:i},s.prototype.invert=function(t,i){this.invertX=t===e?this.invertX:t,this.invertY=i===e?this.invertY:i},s.prototype.friction=function(t,i){this.frictionX=t===e?this.frictionX:t,this.frictionY=i===e?this.frictionY:i},s.prototype.scalar=function(t,i){this.scalarX=t===e?this.scalarX:t,this.scalarY=i===e?this.scalarY:i},s.prototype.limit=function(t,i){this.limitX=t===e?this.limitX:t,this.limitY=i===e?this.limitY:i},s.prototype.origin=function(t,i){this.originX=t===e?this.originX:t,this.originY=i===e?this.originY:i},s.prototype.clamp=function(t,i,e){return t=Math.max(t,i),t=Math.min(t,e)},s.prototype.css=function(t,i,s){var n=this.propertyCache[i];if(!n)for(var o=0,r=this.vendors.length;o<r;o++)if(n=null!==this.vendors[o]?this.camelCase(this.vendors[o][1]+"-"+i):i,t.style[n]!==e){this.propertyCache[i]=n;break}t.style[n]=s},s.prototype.accelerate=function(t){this.css(t,"transform","translate3d(0,0,0)"),this.css(t,"transform-style","preserve-3d"),this.css(t,"backface-visibility","hidden")},s.prototype.setPosition=function(t,i,e){i+="px",e+="px",this.transform3DSupport?this.css(t,"transform","translate3d("+i+","+e+",0)"):this.transform2DSupport?this.css(t,"transform","translate("+i+","+e+")"):t.style.top=e},s.prototype.onOrientationTimer=function(){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())},s.prototype.onCalibrationTimer=function(){this.calibrationFlag=!0},s.prototype.onWindowResize=function(){this.updateDimensions()},s.prototype.onAnimationFrame=function(){this.updateBounds();var t=this.ix-this.cx,i=this.iy-this.cy;(Math.abs(t)>this.calibrationThreshold||Math.abs(i)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?i:this.iy,this.my=this.calibrateY?t:this.ix):(this.mx=this.calibrateX?t:this.ix,this.my=this.calibrateY?i:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var e=0,s=this.layers.length;e<s;e++){var n=this.layers[e],o=this.depths[e],r=this.vx*o*(this.invertX?-1:1),a=this.vy*o*(this.invertY?-1:1);this.setPosition(n,r,a)}this.raf=requestAnimationFrame(this.onAnimationFrame)},s.prototype.onDeviceOrientation=function(t){if(!this.desktop&&null!==t.beta&&null!==t.gamma){this.orientationStatus=1;var i=(t.beta||0)/o,e=(t.gamma||0)/o,s=this.wh>this.ww;this.portrait!==s&&(this.portrait=s,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=i,this.cy=e),this.ix=i,this.iy=e}},s.prototype.onMouseMove=function(t){var i=t.clientX,e=t.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(i=Math.max(i,this.ex),i=Math.min(i,this.ex+this.ew),e=Math.max(e,this.ey),e=Math.min(e,this.ey+this.eh)),this.ix=(i-this.ex-this.ecx)/this.erx,this.iy=(e-this.ey-this.ecy)/this.ery):(this.ix=(i-this.wcx)/this.wrx,this.iy=(e-this.wcy)/this.wry)},t[n]=s}(window,document),function(){for(var t=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var s=(new Date).getTime(),n=Math.max(0,16-(s-t)),o=window.setTimeout(function(){i(s+n)},n);return t=s+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcmFsbGF4LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiUGFyYWxsYXgiLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCJsYXllcnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZGF0YSIsImNhbGlicmF0ZVgiLCJjYWxpYnJhdGVZIiwiaW52ZXJ0WCIsImludmVydFkiLCJsaW1pdFgiLCJsaW1pdFkiLCJzY2FsYXJYIiwic2NhbGFyWSIsImZyaWN0aW9uWCIsImZyaWN0aW9uWSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwia2V5IiwiZXh0ZW5kIiwiREVGQVVMVFMiLCJjYWxpYnJhdGlvblRpbWVyIiwiY2FsaWJyYXRpb25GbGFnIiwiZW5hYmxlZCIsImRlcHRocyIsInJhZiIsImJvdW5kcyIsImV4IiwiZXkiLCJldyIsImVoIiwiZWN4IiwiZWN5IiwiZXJ4IiwiZXJ5IiwiY3giLCJjeSIsIml4IiwiaXkiLCJteCIsIm15IiwidngiLCJ2eSIsIm9uTW91c2VNb3ZlIiwiYmluZCIsIm9uRGV2aWNlT3JpZW50YXRpb24iLCJvbk9yaWVudGF0aW9uVGltZXIiLCJvbkNhbGlicmF0aW9uVGltZXIiLCJvbkFuaW1hdGlvbkZyYW1lIiwib25XaW5kb3dSZXNpemUiLCJpbml0aWFsaXNlIiwiTkFNRSIsIk1BR0lDX05VTUJFUiIsInJlbGF0aXZlSW5wdXQiLCJjbGlwUmVsYXRpdmVJbnB1dCIsImNhbGlicmF0aW9uVGhyZXNob2xkIiwiY2FsaWJyYXRpb25EZWxheSIsInN1cHBvcnREZWxheSIsInByb3RvdHlwZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm1hc3RlciIsImkiLCJsIiwib2JqZWN0IiwibmFtZSIsImRlc2VyaWFsaXplIiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsImNhbWVsQ2FzZSIsInJlcGxhY2UiLCJtYXRjaCIsImNoYXJhY3RlciIsInRvVXBwZXJDYXNlIiwidHJhbnNmb3JtU3VwcG9ydCIsImNyZWF0ZUVsZW1lbnQiLCJwcm9wZXJ0eVN1cHBvcnQiLCJwcm9wZXJ0eVZhbHVlIiwiZmVhdHVyZVN1cHBvcnQiLCJjc3NQcm9wZXJ0eSIsImpzUHJvcGVydHkiLCJ2ZW5kb3JzIiwic3R5bGUiLCJib2R5IiwiZG9jdW1lbnRFbGVtZW50IiwiZG9jdW1lbnRPdmVyZmxvdyIsIm92ZXJmbG93IiwiYXBwZW5kQ2hpbGQiLCJiYWNrZ3JvdW5kIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZW1vdmVDaGlsZCIsInd3Iiwid2giLCJ3Y3giLCJ3Y3kiLCJ3cngiLCJ3cnkiLCJwb3J0cmFpdCIsImRlc2t0b3AiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtb3Rpb25TdXBwb3J0IiwiRGV2aWNlTW90aW9uRXZlbnQiLCJvcmllbnRhdGlvblN1cHBvcnQiLCJEZXZpY2VPcmllbnRhdGlvbkV2ZW50Iiwib3JpZW50YXRpb25TdGF0dXMiLCJwcm9wZXJ0eUNhY2hlIiwidHJhbnNmb3JtMkRTdXBwb3J0IiwidHJhbnNmb3JtM0RTdXBwb3J0IiwiYWNjZWxlcmF0ZSIsInBvc2l0aW9uIiwidXBkYXRlTGF5ZXJzIiwidXBkYXRlRGltZW5zaW9ucyIsImVuYWJsZSIsInF1ZXVlQ2FsaWJyYXRpb24iLCJsYXllciIsImRpc3BsYXkiLCJwdXNoIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiTWF0aCIsIm1heCIsInVwZGF0ZUJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkaXNhYmxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2FsaWJyYXRlIiwieCIsInkiLCJpbnZlcnQiLCJmcmljdGlvbiIsInNjYWxhciIsImxpbWl0Iiwib3JpZ2luIiwiY2xhbXAiLCJtaW4iLCJjc3MiLCJwcm9wZXJ0eSIsInNldFBvc2l0aW9uIiwiZHgiLCJkeSIsImFicyIsImRlcHRoIiwieE9mZnNldCIsInlPZmZzZXQiLCJldmVudCIsImJldGEiLCJnYW1tYSIsImNsaWVudFgiLCJjbGllbnRZIiwibGFzdFRpbWUiLCJjYWxsYmFjayIsImN1cnJUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJ0aW1lVG9DYWxsIiwiaWQiXSwibWFwcGluZ3MiOiJDQXNDQyxTQUFVQSxFQUFRQyxFQUFVQyxHQUczQixZQXlCQSxTQUFTQyxHQUFTQyxFQUFTQyxHQUd6QkMsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0MsT0FBU0gsRUFBUUksdUJBQXVCLFFBRzdDLElBQUlDLElBQ0ZDLFdBQVlKLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsZUFDcENPLFdBQVlMLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsZUFDcENRLFFBQVNOLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNTLFFBQVNQLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNVLE9BQVFSLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsV0FDaENXLE9BQVFULEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsV0FDaENZLFFBQVNWLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNhLFFBQVNYLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsWUFDakNjLFVBQVdaLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsY0FDbkNlLFVBQVdiLEtBQUtHLEtBQUtILEtBQUtGLFFBQVMsY0FDbkNnQixRQUFTZCxLQUFLRyxLQUFLSCxLQUFLRixRQUFTLFlBQ2pDaUIsUUFBU2YsS0FBS0csS0FBS0gsS0FBS0YsUUFBUyxZQUluQyxLQUFLLEdBQUlrQixLQUFPYixHQUNJLE9BQWRBLEVBQUthLFVBQXNCYixHQUFLYSxFQUl0Q2hCLE1BQUtpQixPQUFPakIsS0FBTWtCLEVBQVVuQixFQUFTSSxHQUdyQ0gsS0FBS21CLGlCQUFtQixLQUN4Qm5CLEtBQUtvQixpQkFBa0IsRUFDdkJwQixLQUFLcUIsU0FBVSxFQUNmckIsS0FBS3NCLFVBQ0x0QixLQUFLdUIsSUFBTSxLQUdYdkIsS0FBS3dCLE9BQVMsS0FDZHhCLEtBQUt5QixHQUFLLEVBQ1Z6QixLQUFLMEIsR0FBSyxFQUNWMUIsS0FBSzJCLEdBQUssRUFDVjNCLEtBQUs0QixHQUFLLEVBR1Y1QixLQUFLNkIsSUFBTSxFQUNYN0IsS0FBSzhCLElBQU0sRUFHWDlCLEtBQUsrQixJQUFNLEVBQ1gvQixLQUFLZ0MsSUFBTSxFQUdYaEMsS0FBS2lDLEdBQUssRUFDVmpDLEtBQUtrQyxHQUFLLEVBR1ZsQyxLQUFLbUMsR0FBSyxFQUNWbkMsS0FBS29DLEdBQUssRUFHVnBDLEtBQUtxQyxHQUFLLEVBQ1ZyQyxLQUFLc0MsR0FBSyxFQUdWdEMsS0FBS3VDLEdBQUssRUFDVnZDLEtBQUt3QyxHQUFLLEVBR1Z4QyxLQUFLeUMsWUFBY3pDLEtBQUt5QyxZQUFZQyxLQUFLMUMsTUFDekNBLEtBQUsyQyxvQkFBc0IzQyxLQUFLMkMsb0JBQW9CRCxLQUFLMUMsTUFDekRBLEtBQUs0QyxtQkFBcUI1QyxLQUFLNEMsbUJBQW1CRixLQUFLMUMsTUFDdkRBLEtBQUs2QyxtQkFBcUI3QyxLQUFLNkMsbUJBQW1CSCxLQUFLMUMsTUFDdkRBLEtBQUs4QyxpQkFBbUI5QyxLQUFLOEMsaUJBQWlCSixLQUFLMUMsTUFDbkRBLEtBQUsrQyxlQUFpQi9DLEtBQUsrQyxlQUFlTCxLQUFLMUMsTUFHL0NBLEtBQUtnRCxhQW5HUCxHQUFJQyxHQUFPLFdBQ1BDLEVBQWUsR0FDZmhDLEdBQ0ZpQyxlQUFlLEVBQ2ZDLG1CQUFtQixFQUNuQkMscUJBQXNCLElBQ3RCQyxpQkFBa0IsSUFDbEJDLGFBQWMsSUFDZG5ELFlBQVksRUFDWkMsWUFBWSxFQUNaQyxTQUFTLEVBQ1RDLFNBQVMsRUFDVEMsUUFBUSxFQUNSQyxRQUFRLEVBQ1JDLFFBQVMsR0FDVEMsUUFBUyxHQUNUQyxVQUFXLEdBQ1hDLFVBQVcsR0FDWEMsUUFBUyxHQUNUQyxRQUFTLEdBbUZYbEIsR0FBUzJELFVBQVV2QyxPQUFTLFdBQzFCLEdBQUl3QyxVQUFVQyxPQUFTLEVBRXJCLElBQUssR0FEREMsR0FBU0YsVUFBVSxHQUNkRyxFQUFJLEVBQUdDLEVBQUlKLFVBQVVDLE9BQVFFLEVBQUlDLEVBQUdELElBQUssQ0FDaEQsR0FBSUUsR0FBU0wsVUFBVUcsRUFDdkIsS0FBSyxHQUFJNUMsS0FBTzhDLEdBQ2RILEVBQU8zQyxHQUFPOEMsRUFBTzlDLEtBTTdCbkIsRUFBUzJELFVBQVVyRCxLQUFPLFNBQVNMLEVBQVNpRSxHQUMxQyxNQUFPL0QsTUFBS2dFLFlBQVlsRSxFQUFRbUUsYUFBYSxRQUFRRixLQUd2RGxFLEVBQVMyRCxVQUFVUSxZQUFjLFNBQVNFLEdBQ3hDLE1BQWMsU0FBVkEsR0FFaUIsVUFBVkEsSUFFVSxTQUFWQSxFQUNGLE1BQ0dDLE1BQU1DLFdBQVdGLEtBQVdHLFNBQVNILEdBQ3hDRSxXQUFXRixHQUVYQSxJQUlYckUsRUFBUzJELFVBQVVjLFVBQVksU0FBU0osR0FDdEMsTUFBT0EsR0FBTUssUUFBUSxVQUFXLFNBQVNDLEVBQU9DLEdBQzlDLE1BQU9BLEdBQVlBLEVBQVVDLGNBQWdCLE1BSWpEN0UsRUFBUzJELFVBQVVtQixpQkFBbUIsU0FBU1QsR0FPN0MsSUFBSyxHQU5EcEUsR0FBVUgsRUFBU2lGLGNBQWMsT0FDakNDLEdBQWtCLEVBQ2xCQyxFQUFnQixLQUNoQkMsR0FBaUIsRUFDakJDLEVBQWMsS0FDZEMsRUFBYSxLQUNSckIsRUFBSSxFQUFHQyxFQUFJN0QsS0FBS2tGLFFBQVF4QixPQUFRRSxFQUFJQyxFQUFHRCxJQVE5QyxHQVB3QixPQUFwQjVELEtBQUtrRixRQUFRdEIsSUFDZm9CLEVBQWNoRixLQUFLa0YsUUFBUXRCLEdBQUcsR0FBSyxZQUNuQ3FCLEVBQWFqRixLQUFLa0YsUUFBUXRCLEdBQUcsR0FBSyxjQUVsQ29CLEVBQWMsWUFDZEMsRUFBYSxhQUVYbkYsRUFBUXFGLE1BQU1GLEtBQWdCckYsRUFBVyxDQUMzQ2lGLEdBQWtCLENBQ2xCLE9BR0osT0FBT1gsR0FDTCxJQUFLLEtBQ0hhLEVBQWlCRixDQUNqQixNQUNGLEtBQUssS0FDSCxHQUFJQSxFQUFpQixDQUNuQixHQUFJTyxHQUFPekYsRUFBU3lGLE1BQVF6RixFQUFTaUYsY0FBYyxRQUMvQ1MsRUFBa0IxRixFQUFTMEYsZ0JBQzNCQyxFQUFtQkQsRUFBZ0JGLE1BQU1JLFFBQ3hDNUYsR0FBU3lGLE9BQ1pDLEVBQWdCRixNQUFNSSxTQUFXLFNBQ2pDRixFQUFnQkcsWUFBWUosR0FDNUJBLEVBQUtELE1BQU1JLFNBQVcsU0FDdEJILEVBQUtELE1BQU1NLFdBQWEsSUFFMUJMLEVBQUtJLFlBQVkxRixHQUNqQkEsRUFBUXFGLE1BQU1GLEdBQWMsMkJBQzVCSCxFQUFnQnBGLEVBQU9nRyxpQkFBaUI1RixHQUFTNkYsaUJBQWlCWCxHQUNsRUQsRUFBaUJELElBQWtCbEYsR0FBYWtGLEVBQWNwQixPQUFTLEdBQXVCLFNBQWxCb0IsRUFDNUVPLEVBQWdCRixNQUFNSSxTQUFXRCxFQUNqQ0YsRUFBS1EsWUFBWTlGLElBSXZCLE1BQU9pRixJQUdUbEYsRUFBUzJELFVBQVVxQyxHQUFLLEtBQ3hCaEcsRUFBUzJELFVBQVVzQyxHQUFLLEtBQ3hCakcsRUFBUzJELFVBQVV1QyxJQUFNLEtBQ3pCbEcsRUFBUzJELFVBQVV3QyxJQUFNLEtBQ3pCbkcsRUFBUzJELFVBQVV5QyxJQUFNLEtBQ3pCcEcsRUFBUzJELFVBQVUwQyxJQUFNLEtBQ3pCckcsRUFBUzJELFVBQVUyQyxTQUFXLEtBQzlCdEcsRUFBUzJELFVBQVU0QyxTQUFXQyxVQUFVQyxVQUFVOUIsTUFBTSw4RUFDeEQzRSxFQUFTMkQsVUFBVTBCLFNBQVcsTUFBTSxXQUFXLFdBQVcsUUFBUSxRQUFRLE1BQU0sTUFBTSxPQUFPLE9BQzdGckYsRUFBUzJELFVBQVUrQyxnQkFBa0I3RyxFQUFPOEcsa0JBQzVDM0csRUFBUzJELFVBQVVpRCxxQkFBdUIvRyxFQUFPZ0gsdUJBQ2pEN0csRUFBUzJELFVBQVVtRCxrQkFBb0IsRUFDdkM5RyxFQUFTMkQsVUFBVW9ELGlCQUVuQi9HLEVBQVMyRCxVQUFVUixXQUFhLFdBRTFCbkQsRUFBUzJELFVBQVVxRCxxQkFBdUJqSCxJQUM1Q0MsRUFBUzJELFVBQVVxRCxtQkFBcUJoSCxFQUFTMkQsVUFBVW1CLGlCQUFpQixNQUM1RTlFLEVBQVMyRCxVQUFVc0QsbUJBQXFCakgsRUFBUzJELFVBQVVtQixpQkFBaUIsT0FJMUUzRSxLQUFLOEcsb0JBQW9COUcsS0FBSytHLFdBQVcvRyxLQUFLRixRQUNsRCxJQUFJcUYsR0FBUXpGLEVBQU9nRyxpQkFBaUIxRixLQUFLRixRQUNFLFlBQXZDcUYsRUFBTVEsaUJBQWlCLGNBQ3pCM0YsS0FBS0YsUUFBUXFGLE1BQU02QixTQUFXLFlBSWhDaEgsS0FBS2lILGVBQ0xqSCxLQUFLa0gsbUJBQ0xsSCxLQUFLbUgsU0FDTG5ILEtBQUtvSCxpQkFBaUJwSCxLQUFLc0QsbUJBRzdCekQsRUFBUzJELFVBQVV5RCxhQUFlLFdBR2hDakgsS0FBS0MsT0FBU0QsS0FBS0YsUUFBUUksdUJBQXVCLFNBQ2xERixLQUFLc0IsU0FHTCxLQUFLLEdBQUlzQyxHQUFJLEVBQUdDLEVBQUk3RCxLQUFLQyxPQUFPeUQsT0FBUUUsRUFBSUMsRUFBR0QsSUFBSyxDQUNsRCxHQUFJeUQsR0FBUXJILEtBQUtDLE9BQU8yRCxFQUNwQjVELE1BQUs4RyxvQkFBb0I5RyxLQUFLK0csV0FBV00sR0FDN0NBLEVBQU1sQyxNQUFNNkIsU0FBV3BELEVBQUksV0FBYSxXQUN4Q3lELEVBQU1sQyxNQUFNbUMsUUFBVSxRQU10QnRILEtBQUtzQixPQUFPaUcsS0FBS3ZILEtBQUtHLEtBQUtrSCxFQUFPLFVBQVksS0FJbER4SCxFQUFTMkQsVUFBVTBELGlCQUFtQixXQUNwQ2xILEtBQUs2RixHQUFLbkcsRUFBTzhILFdBQ2pCeEgsS0FBSzhGLEdBQUtwRyxFQUFPK0gsWUFDakJ6SCxLQUFLK0YsSUFBTS9GLEtBQUs2RixHQUFLN0YsS0FBS2MsUUFDMUJkLEtBQUtnRyxJQUFNaEcsS0FBSzhGLEdBQUs5RixLQUFLZSxRQUMxQmYsS0FBS2lHLElBQU15QixLQUFLQyxJQUFJM0gsS0FBSytGLElBQUsvRixLQUFLNkYsR0FBSzdGLEtBQUsrRixLQUM3Qy9GLEtBQUtrRyxJQUFNd0IsS0FBS0MsSUFBSTNILEtBQUtnRyxJQUFLaEcsS0FBSzhGLEdBQUs5RixLQUFLZ0csTUFHL0NuRyxFQUFTMkQsVUFBVW9FLGFBQWUsV0FDaEM1SCxLQUFLd0IsT0FBU3hCLEtBQUtGLFFBQVErSCx3QkFDM0I3SCxLQUFLeUIsR0FBS3pCLEtBQUt3QixPQUFPc0csS0FDdEI5SCxLQUFLMEIsR0FBSzFCLEtBQUt3QixPQUFPdUcsSUFDdEIvSCxLQUFLMkIsR0FBSzNCLEtBQUt3QixPQUFPd0csTUFDdEJoSSxLQUFLNEIsR0FBSzVCLEtBQUt3QixPQUFPeUcsT0FDdEJqSSxLQUFLNkIsSUFBTTdCLEtBQUsyQixHQUFLM0IsS0FBS2MsUUFDMUJkLEtBQUs4QixJQUFNOUIsS0FBSzRCLEdBQUs1QixLQUFLZSxRQUMxQmYsS0FBSytCLElBQU0yRixLQUFLQyxJQUFJM0gsS0FBSzZCLElBQUs3QixLQUFLMkIsR0FBSzNCLEtBQUs2QixLQUM3QzdCLEtBQUtnQyxJQUFNMEYsS0FBS0MsSUFBSTNILEtBQUs4QixJQUFLOUIsS0FBSzRCLEdBQUs1QixLQUFLOEIsTUFHL0NqQyxFQUFTMkQsVUFBVTRELGlCQUFtQixTQUFTYyxHQUM3Q0MsYUFBYW5JLEtBQUttQixrQkFDbEJuQixLQUFLbUIsaUJBQW1CaUgsV0FBV3BJLEtBQUs2QyxtQkFBb0JxRixJQUc5RHJJLEVBQVMyRCxVQUFVMkQsT0FBUyxXQUNyQm5ILEtBQUtxQixVQUNSckIsS0FBS3FCLFNBQVUsRUFDWHJCLEtBQUt5RyxvQkFDUHpHLEtBQUttRyxTQUFXLEtBQ2hCekcsRUFBTzJJLGlCQUFpQixvQkFBcUJySSxLQUFLMkMscUJBQ2xEeUYsV0FBV3BJLEtBQUs0QyxtQkFBb0I1QyxLQUFLdUQsZ0JBRXpDdkQsS0FBS2lDLEdBQUssRUFDVmpDLEtBQUtrQyxHQUFLLEVBQ1ZsQyxLQUFLbUcsVUFBVyxFQUNoQnpHLEVBQU8ySSxpQkFBaUIsWUFBYXJJLEtBQUt5QyxjQUU1Qy9DLEVBQU8ySSxpQkFBaUIsU0FBVXJJLEtBQUsrQyxnQkFDdkMvQyxLQUFLdUIsSUFBTStHLHNCQUFzQnRJLEtBQUs4QyxvQkFJMUNqRCxFQUFTMkQsVUFBVStFLFFBQVUsV0FDdkJ2SSxLQUFLcUIsVUFDUHJCLEtBQUtxQixTQUFVLEVBQ1hyQixLQUFLeUcsbUJBQ1AvRyxFQUFPOEksb0JBQW9CLG9CQUFxQnhJLEtBQUsyQyxxQkFFckRqRCxFQUFPOEksb0JBQW9CLFlBQWF4SSxLQUFLeUMsYUFFL0MvQyxFQUFPOEksb0JBQW9CLFNBQVV4SSxLQUFLK0MsZ0JBQzFDMEYscUJBQXFCekksS0FBS3VCLE9BSTlCMUIsRUFBUzJELFVBQVVrRixVQUFZLFNBQVNDLEVBQUdDLEdBQ3pDNUksS0FBS0ksV0FBYXVJLElBQU0vSSxFQUFZSSxLQUFLSSxXQUFhdUksRUFDdEQzSSxLQUFLSyxXQUFhdUksSUFBTWhKLEVBQVlJLEtBQUtLLFdBQWF1SSxHQUd4RC9JLEVBQVMyRCxVQUFVcUYsT0FBUyxTQUFTRixFQUFHQyxHQUN0QzVJLEtBQUtNLFFBQVVxSSxJQUFNL0ksRUFBWUksS0FBS00sUUFBVXFJLEVBQ2hEM0ksS0FBS08sUUFBVXFJLElBQU1oSixFQUFZSSxLQUFLTyxRQUFVcUksR0FHbEQvSSxFQUFTMkQsVUFBVXNGLFNBQVcsU0FBU0gsRUFBR0MsR0FDeEM1SSxLQUFLWSxVQUFZK0gsSUFBTS9JLEVBQVlJLEtBQUtZLFVBQVkrSCxFQUNwRDNJLEtBQUthLFVBQVkrSCxJQUFNaEosRUFBWUksS0FBS2EsVUFBWStILEdBR3REL0ksRUFBUzJELFVBQVV1RixPQUFTLFNBQVNKLEVBQUdDLEdBQ3RDNUksS0FBS1UsUUFBVWlJLElBQU0vSSxFQUFZSSxLQUFLVSxRQUFVaUksRUFDaEQzSSxLQUFLVyxRQUFVaUksSUFBTWhKLEVBQVlJLEtBQUtXLFFBQVVpSSxHQUdsRC9JLEVBQVMyRCxVQUFVd0YsTUFBUSxTQUFTTCxFQUFHQyxHQUNyQzVJLEtBQUtRLE9BQVNtSSxJQUFNL0ksRUFBWUksS0FBS1EsT0FBU21JLEVBQzlDM0ksS0FBS1MsT0FBU21JLElBQU1oSixFQUFZSSxLQUFLUyxPQUFTbUksR0FHaEQvSSxFQUFTMkQsVUFBVXlGLE9BQVMsU0FBU04sRUFBR0MsR0FDdEM1SSxLQUFLYyxRQUFVNkgsSUFBTS9JLEVBQVlJLEtBQUtjLFFBQVU2SCxFQUNoRDNJLEtBQUtlLFFBQVU2SCxJQUFNaEosRUFBWUksS0FBS2UsUUFBVTZILEdBR2xEL0ksRUFBUzJELFVBQVUwRixNQUFRLFNBQVNoRixFQUFPaUYsRUFBS3hCLEdBRzlDLE1BRkF6RCxHQUFRd0QsS0FBS0MsSUFBSXpELEVBQU9pRixHQUN4QmpGLEVBQVF3RCxLQUFLeUIsSUFBSWpGLEVBQU95RCxJQUkxQjlILEVBQVMyRCxVQUFVNEYsSUFBTSxTQUFTdEosRUFBU3VKLEVBQVVuRixHQUNuRCxHQUFJZSxHQUFhakYsS0FBSzRHLGNBQWN5QyxFQUNwQyxLQUFLcEUsRUFDSCxJQUFLLEdBQUlyQixHQUFJLEVBQUdDLEVBQUk3RCxLQUFLa0YsUUFBUXhCLE9BQVFFLEVBQUlDLEVBQUdELElBTTlDLEdBSkVxQixFQURzQixPQUFwQmpGLEtBQUtrRixRQUFRdEIsR0FDRjVELEtBQUtzRSxVQUFVdEUsS0FBS2tGLFFBQVF0QixHQUFHLEdBQUssSUFBTXlGLEdBRTFDQSxFQUVYdkosRUFBUXFGLE1BQU1GLEtBQWdCckYsRUFBVyxDQUMzQ0ksS0FBSzRHLGNBQWN5QyxHQUFZcEUsQ0FDL0IsT0FJTm5GLEVBQVFxRixNQUFNRixHQUFjZixHQUc5QnJFLEVBQVMyRCxVQUFVdUQsV0FBYSxTQUFTakgsR0FDdkNFLEtBQUtvSixJQUFJdEosRUFBUyxZQUFhLHNCQUMvQkUsS0FBS29KLElBQUl0SixFQUFTLGtCQUFtQixlQUNyQ0UsS0FBS29KLElBQUl0SixFQUFTLHNCQUF1QixXQUczQ0QsRUFBUzJELFVBQVU4RixZQUFjLFNBQVN4SixFQUFTNkksRUFBR0MsR0FHcERELEdBQUssS0FDTEMsR0FBSyxLQUNENUksS0FBSzhHLG1CQUNQOUcsS0FBS29KLElBQUl0SixFQUFTLFlBQWEsZUFBZTZJLEVBQUUsSUFBSUMsRUFBRSxPQUc3QzVJLEtBQUs2RyxtQkFDZDdHLEtBQUtvSixJQUFJdEosRUFBUyxZQUFhLGFBQWE2SSxFQUFFLElBQUlDLEVBQUUsS0FJcEQ5SSxFQUFRcUYsTUFBTTRDLElBQU1hLEdBSXhCL0ksRUFBUzJELFVBQVVaLG1CQUFxQixXQUNsQzVDLEtBQUt5RyxvQkFBaUQsSUFBM0J6RyxLQUFLMkcsb0JBQ2xDM0csS0FBS3VJLFVBQ0x2SSxLQUFLeUcsb0JBQXFCLEVBQzFCekcsS0FBS21ILFdBSVR0SCxFQUFTMkQsVUFBVVgsbUJBQXFCLFdBQ3RDN0MsS0FBS29CLGlCQUFrQixHQUd6QnZCLEVBQVMyRCxVQUFVVCxlQUFpQixXQUNsQy9DLEtBQUtrSCxvQkFHUHJILEVBQVMyRCxVQUFVVixpQkFBbUIsV0FDcEM5QyxLQUFLNEgsY0FDTCxJQUFJMkIsR0FBS3ZKLEtBQUttQyxHQUFLbkMsS0FBS2lDLEdBQ3BCdUgsRUFBS3hKLEtBQUtvQyxHQUFLcEMsS0FBS2tDLElBQ25Cd0YsS0FBSytCLElBQUlGLEdBQU12SixLQUFLcUQsc0JBQTBCcUUsS0FBSytCLElBQUlELEdBQU14SixLQUFLcUQsdUJBQ3JFckQsS0FBS29ILGlCQUFpQixHQUVwQnBILEtBQUttRyxVQUNQbkcsS0FBS3FDLEdBQUtyQyxLQUFLSSxXQUFhb0osRUFBS3hKLEtBQUtvQyxHQUN0Q3BDLEtBQUtzQyxHQUFLdEMsS0FBS0ssV0FBYWtKLEVBQUt2SixLQUFLbUMsS0FFdENuQyxLQUFLcUMsR0FBS3JDLEtBQUtJLFdBQWFtSixFQUFLdkosS0FBS21DLEdBQ3RDbkMsS0FBS3NDLEdBQUt0QyxLQUFLSyxXQUFhbUosRUFBS3hKLEtBQUtvQyxJQUV4Q3BDLEtBQUtxQyxJQUFNckMsS0FBSzJCLElBQU0zQixLQUFLVSxRQUFVLEtBQ3JDVixLQUFLc0MsSUFBTXRDLEtBQUs0QixJQUFNNUIsS0FBS1csUUFBVSxLQUNoQ3dELE1BQU1DLFdBQVdwRSxLQUFLUSxXQUN6QlIsS0FBS3FDLEdBQUtyQyxLQUFLa0osTUFBTWxKLEtBQUtxQyxJQUFLckMsS0FBS1EsT0FBUVIsS0FBS1EsU0FFOUMyRCxNQUFNQyxXQUFXcEUsS0FBS1MsV0FDekJULEtBQUtzQyxHQUFLdEMsS0FBS2tKLE1BQU1sSixLQUFLc0MsSUFBS3RDLEtBQUtTLE9BQVFULEtBQUtTLFNBRW5EVCxLQUFLdUMsS0FBT3ZDLEtBQUtxQyxHQUFLckMsS0FBS3VDLElBQU12QyxLQUFLWSxVQUN0Q1osS0FBS3dDLEtBQU94QyxLQUFLc0MsR0FBS3RDLEtBQUt3QyxJQUFNeEMsS0FBS2EsU0FDdEMsS0FBSyxHQUFJK0MsR0FBSSxFQUFHQyxFQUFJN0QsS0FBS0MsT0FBT3lELE9BQVFFLEVBQUlDLEVBQUdELElBQUssQ0FDbEQsR0FBSXlELEdBQVFySCxLQUFLQyxPQUFPMkQsR0FDcEI4RixFQUFRMUosS0FBS3NCLE9BQU9zQyxHQUNwQitGLEVBQVUzSixLQUFLdUMsR0FBS21ILEdBQVMxSixLQUFLTSxXQUFlLEdBQ2pEc0osRUFBVTVKLEtBQUt3QyxHQUFLa0gsR0FBUzFKLEtBQUtPLFdBQWUsRUFDckRQLE1BQUtzSixZQUFZakMsRUFBT3NDLEVBQVNDLEdBRW5DNUosS0FBS3VCLElBQU0rRyxzQkFBc0J0SSxLQUFLOEMsbUJBR3hDakQsRUFBUzJELFVBQVViLG9CQUFzQixTQUFTa0gsR0FHaEQsSUFBSzdKLEtBQUtvRyxTQUEwQixPQUFmeUQsRUFBTUMsTUFBaUMsT0FBaEJELEVBQU1FLE1BQWdCLENBR2hFL0osS0FBSzJHLGtCQUFvQixDQUd6QixJQUFJZ0MsSUFBS2tCLEVBQU1DLE1BQVMsR0FBSzVHLEVBQ3pCMEYsR0FBS2lCLEVBQU1FLE9BQVMsR0FBSzdHLEVBR3pCaUQsRUFBV25HLEtBQUs4RixHQUFLOUYsS0FBSzZGLEVBQzFCN0YsTUFBS21HLFdBQWFBLElBQ3BCbkcsS0FBS21HLFNBQVdBLEVBQ2hCbkcsS0FBS29CLGlCQUFrQixHQUlyQnBCLEtBQUtvQixrQkFDUHBCLEtBQUtvQixpQkFBa0IsRUFDdkJwQixLQUFLaUMsR0FBSzBHLEVBQ1YzSSxLQUFLa0MsR0FBSzBHLEdBSVo1SSxLQUFLbUMsR0FBS3dHLEVBQ1YzSSxLQUFLb0MsR0FBS3dHLElBSWQvSSxFQUFTMkQsVUFBVWYsWUFBYyxTQUFTb0gsR0FHeEMsR0FBSUcsR0FBVUgsRUFBTUcsUUFDaEJDLEVBQVVKLEVBQU1JLFNBR2ZqSyxLQUFLeUcsb0JBQXNCekcsS0FBS21ELGVBRy9CbkQsS0FBS29ELG9CQUNQNEcsRUFBVXRDLEtBQUtDLElBQUlxQyxFQUFTaEssS0FBS3lCLElBQ2pDdUksRUFBVXRDLEtBQUt5QixJQUFJYSxFQUFTaEssS0FBS3lCLEdBQUt6QixLQUFLMkIsSUFDM0NzSSxFQUFVdkMsS0FBS0MsSUFBSXNDLEVBQVNqSyxLQUFLMEIsSUFDakN1SSxFQUFVdkMsS0FBS3lCLElBQUljLEVBQVNqSyxLQUFLMEIsR0FBSzFCLEtBQUs0QixLQUk3QzVCLEtBQUttQyxJQUFNNkgsRUFBVWhLLEtBQUt5QixHQUFLekIsS0FBSzZCLEtBQU83QixLQUFLK0IsSUFDaEQvQixLQUFLb0MsSUFBTTZILEVBQVVqSyxLQUFLMEIsR0FBSzFCLEtBQUs4QixLQUFPOUIsS0FBS2dDLE1BS2hEaEMsS0FBS21DLElBQU02SCxFQUFVaEssS0FBSytGLEtBQU8vRixLQUFLaUcsSUFDdENqRyxLQUFLb0MsSUFBTTZILEVBQVVqSyxLQUFLZ0csS0FBT2hHLEtBQUtrRyxNQUsxQ3hHLEVBQU91RCxHQUFRcEQsR0FFZEgsT0FBUUMsVUFRVCxXQUtBLElBQUksR0FIQXVLLEdBQVcsRUFDWGhGLEdBQVcsS0FBTSxNQUFPLFNBQVUsS0FFOUJ5RCxFQUFJLEVBQUdBLEVBQUl6RCxFQUFReEIsU0FBV2hFLE9BQU80SSx3QkFBeUJLLEVBQ3BFakosT0FBTzRJLHNCQUF3QjVJLE9BQU93RixFQUFReUQsR0FBRyx5QkFDakRqSixPQUFPK0kscUJBQXVCL0ksT0FBT3dGLEVBQVF5RCxHQUFHLHlCQUEyQmpKLE9BQU93RixFQUFReUQsR0FBRyw4QkFHMUZqSixRQUFPNEksd0JBQ1Y1SSxPQUFPNEksc0JBQXdCLFNBQVM2QixFQUFVckssR0FDaEQsR0FBSXNLLElBQVcsR0FBSUMsT0FBT0MsVUFDdEJDLEVBQWE3QyxLQUFLQyxJQUFJLEVBQUcsSUFBTXlDLEVBQVdGLElBQzFDTSxFQUFLOUssT0FBTzBJLFdBQVcsV0FBYStCLEVBQVNDLEVBQVdHLElBQzFEQSxFQUVGLE9BREFMLEdBQVdFLEVBQVdHLEVBQ2ZDLElBSU45SyxPQUFPK0ksdUJBQ1YvSSxPQUFPK0kscUJBQXVCLFNBQVMrQixHQUNyQ3JDLGFBQWFxQyIsImZpbGUiOiJwYXJhbGxheC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vL1xuLy8gVGhlIE1JVCBMaWNlbnNlXG4vL1xuLy8gQ29weXJpZ2h0IChDKSAyMDE0IE1hdHRoZXcgV2FnZXJmaWVsZCAtIEB3YWdlcmZpZWxkXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueVxuLy8gcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZFxuLy8gZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlXG4vLyBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXG4vLyB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSxcbi8vIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuLy8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvXG4vLyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Vcbi8vIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnNcbi8vIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZXG4vLyBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVFxuLy8gTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1Ncbi8vIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOT1xuLy8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFXG4vLyBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuLy8gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRVxuLy8gT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy9cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogUGFyYWxsYXguanNcbiAqIEBhdXRob3IgTWF0dGhldyBXYWdlcmZpZWxkIC0gQHdhZ2VyZmllbGRcbiAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIGEgcGFyYWxsYXggZWZmZWN0IGJldHdlZW4gYW4gYXJyYXkgb2YgbGF5ZXJzLFxuICogICAgICAgICAgICAgIGRyaXZpbmcgdGhlIG1vdGlvbiBmcm9tIHRoZSBneXJvc2NvcGUgb3V0cHV0IG9mIGEgc21hcnRkZXZpY2UuXG4gKiAgICAgICAgICAgICAgSWYgbm8gZ3lyb3Njb3BlIGlzIGF2YWlsYWJsZSwgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyB1c2VkLlxuICovXG47KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4gIC8vIFN0cmljdCBNb2RlXG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDb25zdGFudHNcbiAgdmFyIE5BTUUgPSAnUGFyYWxsYXgnO1xuICB2YXIgTUFHSUNfTlVNQkVSID0gMzA7XG4gIHZhciBERUZBVUxUUyA9IHtcbiAgICByZWxhdGl2ZUlucHV0OiBmYWxzZSxcbiAgICBjbGlwUmVsYXRpdmVJbnB1dDogZmFsc2UsXG4gICAgY2FsaWJyYXRpb25UaHJlc2hvbGQ6IDEwMCxcbiAgICBjYWxpYnJhdGlvbkRlbGF5OiA1MDAsXG4gICAgc3VwcG9ydERlbGF5OiA1MDAsXG4gICAgY2FsaWJyYXRlWDogZmFsc2UsXG4gICAgY2FsaWJyYXRlWTogdHJ1ZSxcbiAgICBpbnZlcnRYOiB0cnVlLFxuICAgIGludmVydFk6IHRydWUsXG4gICAgbGltaXRYOiBmYWxzZSxcbiAgICBsaW1pdFk6IGZhbHNlLFxuICAgIHNjYWxhclg6IDEwLjAsXG4gICAgc2NhbGFyWTogMTAuMCxcbiAgICBmcmljdGlvblg6IDAuMSxcbiAgICBmcmljdGlvblk6IDAuMSxcbiAgICBvcmlnaW5YOiAwLjUsXG4gICAgb3JpZ2luWTogMC41XG4gIH07XG5cbiAgZnVuY3Rpb24gUGFyYWxsYXgoZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgLy8gRE9NIENvbnRleHRcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMubGF5ZXJzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsYXllcicpO1xuXG4gICAgLy8gRGF0YSBFeHRyYWN0aW9uXG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBjYWxpYnJhdGVYOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnY2FsaWJyYXRlLXgnKSxcbiAgICAgIGNhbGlicmF0ZVk6IHRoaXMuZGF0YSh0aGlzLmVsZW1lbnQsICdjYWxpYnJhdGUteScpLFxuICAgICAgaW52ZXJ0WDogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2ludmVydC14JyksXG4gICAgICBpbnZlcnRZOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnaW52ZXJ0LXknKSxcbiAgICAgIGxpbWl0WDogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2xpbWl0LXgnKSxcbiAgICAgIGxpbWl0WTogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ2xpbWl0LXknKSxcbiAgICAgIHNjYWxhclg6IHRoaXMuZGF0YSh0aGlzLmVsZW1lbnQsICdzY2FsYXIteCcpLFxuICAgICAgc2NhbGFyWTogdGhpcy5kYXRhKHRoaXMuZWxlbWVudCwgJ3NjYWxhci15JyksXG4gICAgICBmcmljdGlvblg6IHRoaXMuZGF0YSh0aGlzLmVsZW1lbnQsICdmcmljdGlvbi14JyksXG4gICAgICBmcmljdGlvblk6IHRoaXMuZGF0YSh0aGlzLmVsZW1lbnQsICdmcmljdGlvbi15JyksXG4gICAgICBvcmlnaW5YOiB0aGlzLmRhdGEodGhpcy5lbGVtZW50LCAnb3JpZ2luLXgnKSxcbiAgICAgIG9yaWdpblk6IHRoaXMuZGF0YSh0aGlzLmVsZW1lbnQsICdvcmlnaW4teScpXG4gICAgfTsgICAgXG5cbiAgICAvLyBEZWxldGUgTnVsbCBEYXRhIFZhbHVlc1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoZGF0YVtrZXldID09PSBudWxsKSBkZWxldGUgZGF0YVtrZXldO1xuICAgIH1cblxuICAgIC8vIENvbXBvc2UgU2V0dGluZ3MgT2JqZWN0XG4gICAgdGhpcy5leHRlbmQodGhpcywgREVGQVVMVFMsIG9wdGlvbnMsIGRhdGEpO1xuXG4gICAgLy8gU3RhdGVzXG4gICAgdGhpcy5jYWxpYnJhdGlvblRpbWVyID0gbnVsbDtcbiAgICB0aGlzLmNhbGlicmF0aW9uRmxhZyA9IHRydWU7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5kZXB0aHMgPSBbXTtcbiAgICB0aGlzLnJhZiA9IG51bGw7XG5cbiAgICAvLyBFbGVtZW50IEJvdW5kc1xuICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgICB0aGlzLmV4ID0gMDtcbiAgICB0aGlzLmV5ID0gMDtcbiAgICB0aGlzLmV3ID0gMDtcbiAgICB0aGlzLmVoID0gMDtcblxuICAgIC8vIEVsZW1lbnQgQ2VudGVyXG4gICAgdGhpcy5lY3ggPSAwO1xuICAgIHRoaXMuZWN5ID0gMDtcblxuICAgIC8vIEVsZW1lbnQgUmFuZ2VcbiAgICB0aGlzLmVyeCA9IDA7XG4gICAgdGhpcy5lcnkgPSAwO1xuXG4gICAgLy8gQ2FsaWJyYXRpb25cbiAgICB0aGlzLmN4ID0gMDtcbiAgICB0aGlzLmN5ID0gMDtcblxuICAgIC8vIElucHV0XG4gICAgdGhpcy5peCA9IDA7XG4gICAgdGhpcy5peSA9IDA7XG5cbiAgICAvLyBNb3Rpb25cbiAgICB0aGlzLm14ID0gMDtcbiAgICB0aGlzLm15ID0gMDtcblxuICAgIC8vIFZlbG9jaXR5XG4gICAgdGhpcy52eCA9IDA7XG4gICAgdGhpcy52eSA9IDA7XG5cbiAgICAvLyBDYWxsYmFja3NcbiAgICB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbiA9IHRoaXMub25EZXZpY2VPcmllbnRhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25PcmllbnRhdGlvblRpbWVyID0gdGhpcy5vbk9yaWVudGF0aW9uVGltZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2FsaWJyYXRpb25UaW1lciA9IHRoaXMub25DYWxpYnJhdGlvblRpbWVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkFuaW1hdGlvbkZyYW1lID0gdGhpcy5vbkFuaW1hdGlvbkZyYW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldpbmRvd1Jlc2l6ZSA9IHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKTtcblxuICAgIC8vIEluaXRpYWxpc2VcbiAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgfVxuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBtYXN0ZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICBmb3IgKHZhciBpID0gMSwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG1hc3RlcltrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzZXJpYWxpemUoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtJytuYW1lKSk7XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmRlc2VyaWFsaXplID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdudWxsJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIGlmICghaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpICYmIGlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5jYW1lbENhc2UgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNoYXJhY3Rlcil7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgOiAnJztcbiAgICB9KTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUudHJhbnNmb3JtU3VwcG9ydCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcHJvcGVydHlTdXBwb3J0ID0gZmFsc2U7XG4gICAgdmFyIHByb3BlcnR5VmFsdWUgPSBudWxsO1xuICAgIHZhciBmZWF0dXJlU3VwcG9ydCA9IGZhbHNlO1xuICAgIHZhciBjc3NQcm9wZXJ0eSA9IG51bGw7XG4gICAgdmFyIGpzUHJvcGVydHkgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy52ZW5kb3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHRoaXMudmVuZG9yc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICBjc3NQcm9wZXJ0eSA9IHRoaXMudmVuZG9yc1tpXVswXSArICd0cmFuc2Zvcm0nO1xuICAgICAgICBqc1Byb3BlcnR5ID0gdGhpcy52ZW5kb3JzW2ldWzFdICsgJ1RyYW5zZm9ybSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjc3NQcm9wZXJ0eSA9ICd0cmFuc2Zvcm0nO1xuICAgICAgICBqc1Byb3BlcnR5ID0gJ3RyYW5zZm9ybSc7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudC5zdHlsZVtqc1Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb3BlcnR5U3VwcG9ydCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2godmFsdWUpIHtcbiAgICAgIGNhc2UgJzJEJzpcbiAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBwcm9wZXJ0eVN1cHBvcnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnM0QnOlxuICAgICAgICBpZiAocHJvcGVydHlTdXBwb3J0KSB7XG4gICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgIHZhciBkb2N1bWVudE92ZXJmbG93ID0gZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93O1xuICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYm9keSk7XG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBib2R5LnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKDFweCwxcHgsMXB4KSc7XG4gICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzUHJvcGVydHkpO1xuICAgICAgICAgIGZlYXR1cmVTdXBwb3J0ID0gcHJvcGVydHlWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BlcnR5VmFsdWUubGVuZ3RoID4gMCAmJiBwcm9wZXJ0eVZhbHVlICE9PSAnbm9uZSc7XG4gICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gZG9jdW1lbnRPdmVyZmxvdztcbiAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZVN1cHBvcnQ7XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLnd3ID0gbnVsbDtcbiAgUGFyYWxsYXgucHJvdG90eXBlLndoID0gbnVsbDtcbiAgUGFyYWxsYXgucHJvdG90eXBlLndjeCA9IG51bGw7XG4gIFBhcmFsbGF4LnByb3RvdHlwZS53Y3kgPSBudWxsO1xuICBQYXJhbGxheC5wcm90b3R5cGUud3J4ID0gbnVsbDtcbiAgUGFyYWxsYXgucHJvdG90eXBlLndyeSA9IG51bGw7XG4gIFBhcmFsbGF4LnByb3RvdHlwZS5wb3J0cmFpdCA9IG51bGw7XG4gIFBhcmFsbGF4LnByb3RvdHlwZS5kZXNrdG9wID0gIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUGhvbmV8aVBvZHxpUGFkfEFuZHJvaWR8QmxhY2tCZXJyeXxCQjEwfG1vYml8dGFibGV0fG9wZXJhIG1pbml8bmV4dXMgNykvaSk7XG4gIFBhcmFsbGF4LnByb3RvdHlwZS52ZW5kb3JzID0gW251bGwsWyctd2Via2l0LScsJ3dlYmtpdCddLFsnLW1vei0nLCdNb3onXSxbJy1vLScsJ08nXSxbJy1tcy0nLCdtcyddXTtcbiAgUGFyYWxsYXgucHJvdG90eXBlLm1vdGlvblN1cHBvcnQgPSAhIXdpbmRvdy5EZXZpY2VNb3Rpb25FdmVudDtcbiAgUGFyYWxsYXgucHJvdG90eXBlLm9yaWVudGF0aW9uU3VwcG9ydCA9ICEhd2luZG93LkRldmljZU9yaWVudGF0aW9uRXZlbnQ7XG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vcmllbnRhdGlvblN0YXR1cyA9IDA7XG4gIFBhcmFsbGF4LnByb3RvdHlwZS5wcm9wZXJ0eUNhY2hlID0ge307XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmluaXRpYWxpc2UgPSBmdW5jdGlvbigpIHtcblxuICAgIGlmIChQYXJhbGxheC5wcm90b3R5cGUudHJhbnNmb3JtMkRTdXBwb3J0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIFBhcmFsbGF4LnByb3RvdHlwZS50cmFuc2Zvcm0yRFN1cHBvcnQgPSBQYXJhbGxheC5wcm90b3R5cGUudHJhbnNmb3JtU3VwcG9ydCgnMkQnKTtcbiAgICAgIFBhcmFsbGF4LnByb3RvdHlwZS50cmFuc2Zvcm0zRFN1cHBvcnQgPSBQYXJhbGxheC5wcm90b3R5cGUudHJhbnNmb3JtU3VwcG9ydCgnM0QnKTtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmUgQ29udGV4dCBTdHlsZXNcbiAgICBpZiAodGhpcy50cmFuc2Zvcm0zRFN1cHBvcnQpIHRoaXMuYWNjZWxlcmF0ZSh0aGlzLmVsZW1lbnQpO1xuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCk7XG4gICAgaWYgKHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIH1cblxuICAgIC8vIFNldHVwXG4gICAgdGhpcy51cGRhdGVMYXllcnMoKTtcbiAgICB0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICB0aGlzLmVuYWJsZSgpO1xuICAgIHRoaXMucXVldWVDYWxpYnJhdGlvbih0aGlzLmNhbGlicmF0aW9uRGVsYXkpO1xuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS51cGRhdGVMYXllcnMgPSBmdW5jdGlvbigpIHtcblxuICAgIC8vIENhY2hlIExheWVyIEVsZW1lbnRzXG4gICAgdGhpcy5sYXllcnMgPSB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGF5ZXInKTtcbiAgICB0aGlzLmRlcHRocyA9IFtdO1xuXG4gICAgLy8gQ29uZmlndXJlIExheWVyIFN0eWxlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sYXllcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbGF5ZXIgPSB0aGlzLmxheWVyc1tpXTtcbiAgICAgIGlmICh0aGlzLnRyYW5zZm9ybTNEU3VwcG9ydCkgdGhpcy5hY2NlbGVyYXRlKGxheWVyKTtcbiAgICAgIGxheWVyLnN0eWxlLnBvc2l0aW9uID0gaSA/ICdhYnNvbHV0ZScgOiAncmVsYXRpdmUnO1xuICAgICAgbGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAvL0FORFkgQ0hBTkdFIDIwMTYvMDMvMTdcbiAgICAgIC8vIGxheWVyLnN0eWxlLmxlZnQgPSAwO1xuICAgICAgLy8gbGF5ZXIuc3R5bGUudG9wID0gMDtcblxuICAgICAgLy8gQ2FjaGUgTGF5ZXIgRGVwdGhcbiAgICAgIHRoaXMuZGVwdGhzLnB1c2godGhpcy5kYXRhKGxheWVyLCAnZGVwdGgnKSB8fCAwKTtcbiAgICB9XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLnVwZGF0ZURpbWVuc2lvbnMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnd3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy53aCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLndjeCA9IHRoaXMud3cgKiB0aGlzLm9yaWdpblg7XG4gICAgdGhpcy53Y3kgPSB0aGlzLndoICogdGhpcy5vcmlnaW5ZO1xuICAgIHRoaXMud3J4ID0gTWF0aC5tYXgodGhpcy53Y3gsIHRoaXMud3cgLSB0aGlzLndjeCk7XG4gICAgdGhpcy53cnkgPSBNYXRoLm1heCh0aGlzLndjeSwgdGhpcy53aCAtIHRoaXMud2N5KTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUudXBkYXRlQm91bmRzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5leCA9IHRoaXMuYm91bmRzLmxlZnQ7XG4gICAgdGhpcy5leSA9IHRoaXMuYm91bmRzLnRvcDtcbiAgICB0aGlzLmV3ID0gdGhpcy5ib3VuZHMud2lkdGg7XG4gICAgdGhpcy5laCA9IHRoaXMuYm91bmRzLmhlaWdodDtcbiAgICB0aGlzLmVjeCA9IHRoaXMuZXcgKiB0aGlzLm9yaWdpblg7XG4gICAgdGhpcy5lY3kgPSB0aGlzLmVoICogdGhpcy5vcmlnaW5ZO1xuICAgIHRoaXMuZXJ4ID0gTWF0aC5tYXgodGhpcy5lY3gsIHRoaXMuZXcgLSB0aGlzLmVjeCk7XG4gICAgdGhpcy5lcnkgPSBNYXRoLm1heCh0aGlzLmVjeSwgdGhpcy5laCAtIHRoaXMuZWN5KTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUucXVldWVDYWxpYnJhdGlvbiA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsaWJyYXRpb25UaW1lcik7XG4gICAgdGhpcy5jYWxpYnJhdGlvblRpbWVyID0gc2V0VGltZW91dCh0aGlzLm9uQ2FsaWJyYXRpb25UaW1lciwgZGVsYXkpO1xuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCkge1xuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gbnVsbDtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uKTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLm9uT3JpZW50YXRpb25UaW1lciwgdGhpcy5zdXBwb3J0RGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jeCA9IDA7XG4gICAgICAgIHRoaXMuY3kgPSAwO1xuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcbiAgICAgIHRoaXMucmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25BbmltYXRpb25GcmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgICBpZiAodGhpcy5vcmllbnRhdGlvblN1cHBvcnQpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmKTtcbiAgICB9XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmNhbGlicmF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLmNhbGlicmF0ZVggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmNhbGlicmF0ZVggOiB4O1xuICAgIHRoaXMuY2FsaWJyYXRlWSA9IHkgPT09IHVuZGVmaW5lZCA/IHRoaXMuY2FsaWJyYXRlWSA6IHk7XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLmludmVydFggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmludmVydFggOiB4O1xuICAgIHRoaXMuaW52ZXJ0WSA9IHkgPT09IHVuZGVmaW5lZCA/IHRoaXMuaW52ZXJ0WSA6IHk7XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmZyaWN0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHRoaXMuZnJpY3Rpb25YID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy5mcmljdGlvblggOiB4O1xuICAgIHRoaXMuZnJpY3Rpb25ZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5mcmljdGlvblkgOiB5O1xuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5zY2FsYXIgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgdGhpcy5zY2FsYXJYID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy5zY2FsYXJYIDogeDtcbiAgICB0aGlzLnNjYWxhclkgPSB5ID09PSB1bmRlZmluZWQgPyB0aGlzLnNjYWxhclkgOiB5O1xuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLmxpbWl0WCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMubGltaXRYIDogeDtcbiAgICB0aGlzLmxpbWl0WSA9IHkgPT09IHVuZGVmaW5lZCA/IHRoaXMubGltaXRZIDogeTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUub3JpZ2luID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHRoaXMub3JpZ2luWCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMub3JpZ2luWCA6IHg7XG4gICAgdGhpcy5vcmlnaW5ZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5vcmlnaW5ZIDogeTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUuY2xhbXAgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICB2YWx1ZSA9IE1hdGgubWF4KHZhbHVlLCBtaW4pO1xuICAgIHZhbHVlID0gTWF0aC5taW4odmFsdWUsIG1heCk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5jc3MgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICB2YXIganNQcm9wZXJ0eSA9IHRoaXMucHJvcGVydHlDYWNoZVtwcm9wZXJ0eV07XG4gICAgaWYgKCFqc1Byb3BlcnR5KSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMudmVuZG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMudmVuZG9yc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgIGpzUHJvcGVydHkgPSB0aGlzLmNhbWVsQ2FzZSh0aGlzLnZlbmRvcnNbaV1bMV0gKyAnLScgKyBwcm9wZXJ0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAganNQcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLnByb3BlcnR5Q2FjaGVbcHJvcGVydHldID0ganNQcm9wZXJ0eTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldID0gdmFsdWU7XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLmFjY2VsZXJhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdGhpcy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCknKTtcbiAgICB0aGlzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtLXN0eWxlJywgJ3ByZXNlcnZlLTNkJyk7XG4gICAgdGhpcy5jc3MoZWxlbWVudCwgJ2JhY2tmYWNlLXZpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgeCwgeSkge1xuICAgIC8vQU5EWSBDSEFOR0UgMjAxNi8wMy8xN1xuICAgIC8vIHggPSAwO1xuICAgIHggKz0gJ3B4JztcbiAgICB5ICs9ICdweCc7ICAgIFxuICAgIGlmICh0aGlzLnRyYW5zZm9ybTNEU3VwcG9ydCkgeyAgICAgIFxuICAgICAgdGhpcy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnK3grJywnK3krJywwKScpO1xuICAgICAgLy8gdGhpcy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLCcreSsnLDApJyk7XG4gICAgICBcbiAgICB9IGVsc2UgaWYgKHRoaXMudHJhbnNmb3JtMkRTdXBwb3J0KSB7XG4gICAgICB0aGlzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnK3grJywnK3krJyknKTtcbiAgICAgIC8vIHRoaXMuY3NzKGVsZW1lbnQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyt5KycpJyk7ICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVsZW1lbnQuc3R5bGUubGVmdCA9IHg7XG4gICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHk7XG4gICAgfVxuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vbk9yaWVudGF0aW9uVGltZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5vcmllbnRhdGlvblN1cHBvcnQgJiYgdGhpcy5vcmllbnRhdGlvblN0YXR1cyA9PT0gMCkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICB0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH07XG5cbiAgUGFyYWxsYXgucHJvdG90eXBlLm9uQ2FsaWJyYXRpb25UaW1lciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2FsaWJyYXRpb25GbGFnID0gdHJ1ZTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUub25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUub25BbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgdmFyIGR4ID0gdGhpcy5peCAtIHRoaXMuY3g7XG4gICAgdmFyIGR5ID0gdGhpcy5peSAtIHRoaXMuY3k7XG4gICAgaWYgKChNYXRoLmFicyhkeCkgPiB0aGlzLmNhbGlicmF0aW9uVGhyZXNob2xkKSB8fCAoTWF0aC5hYnMoZHkpID4gdGhpcy5jYWxpYnJhdGlvblRocmVzaG9sZCkpIHtcbiAgICAgIHRoaXMucXVldWVDYWxpYnJhdGlvbigwKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucG9ydHJhaXQpIHtcbiAgICAgIHRoaXMubXggPSB0aGlzLmNhbGlicmF0ZVggPyBkeSA6IHRoaXMuaXk7XG4gICAgICB0aGlzLm15ID0gdGhpcy5jYWxpYnJhdGVZID8gZHggOiB0aGlzLml4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm14ID0gdGhpcy5jYWxpYnJhdGVYID8gZHggOiB0aGlzLml4O1xuICAgICAgdGhpcy5teSA9IHRoaXMuY2FsaWJyYXRlWSA/IGR5IDogdGhpcy5peTtcbiAgICB9XG4gICAgdGhpcy5teCAqPSB0aGlzLmV3ICogKHRoaXMuc2NhbGFyWCAvIDEwMCk7XG4gICAgdGhpcy5teSAqPSB0aGlzLmVoICogKHRoaXMuc2NhbGFyWSAvIDEwMCk7XG4gICAgaWYgKCFpc05hTihwYXJzZUZsb2F0KHRoaXMubGltaXRYKSkpIHtcbiAgICAgIHRoaXMubXggPSB0aGlzLmNsYW1wKHRoaXMubXgsIC10aGlzLmxpbWl0WCwgdGhpcy5saW1pdFgpO1xuICAgIH1cbiAgICBpZiAoIWlzTmFOKHBhcnNlRmxvYXQodGhpcy5saW1pdFkpKSkge1xuICAgICAgdGhpcy5teSA9IHRoaXMuY2xhbXAodGhpcy5teSwgLXRoaXMubGltaXRZLCB0aGlzLmxpbWl0WSk7XG4gICAgfVxuICAgIHRoaXMudnggKz0gKHRoaXMubXggLSB0aGlzLnZ4KSAqIHRoaXMuZnJpY3Rpb25YO1xuICAgIHRoaXMudnkgKz0gKHRoaXMubXkgLSB0aGlzLnZ5KSAqIHRoaXMuZnJpY3Rpb25ZO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sYXllcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbGF5ZXIgPSB0aGlzLmxheWVyc1tpXTtcbiAgICAgIHZhciBkZXB0aCA9IHRoaXMuZGVwdGhzW2ldO1xuICAgICAgdmFyIHhPZmZzZXQgPSB0aGlzLnZ4ICogZGVwdGggKiAodGhpcy5pbnZlcnRYID8gLTEgOiAxKTtcbiAgICAgIHZhciB5T2Zmc2V0ID0gdGhpcy52eSAqIGRlcHRoICogKHRoaXMuaW52ZXJ0WSA/IC0xIDogMSk7XG4gICAgICB0aGlzLnNldFBvc2l0aW9uKGxheWVyLCB4T2Zmc2V0LCB5T2Zmc2V0KTtcbiAgICB9XG4gICAgdGhpcy5yYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5vbkFuaW1hdGlvbkZyYW1lKTtcbiAgfTtcblxuICBQYXJhbGxheC5wcm90b3R5cGUub25EZXZpY2VPcmllbnRhdGlvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAvLyBWYWxpZGF0ZSBlbnZpcm9ubWVudCBhbmQgZXZlbnQgcHJvcGVydGllcy5cbiAgICBpZiAoIXRoaXMuZGVza3RvcCAmJiBldmVudC5iZXRhICE9PSBudWxsICYmIGV2ZW50LmdhbW1hICE9PSBudWxsKSB7XG5cbiAgICAgIC8vIFNldCBvcmllbnRhdGlvbiBzdGF0dXMuXG4gICAgICB0aGlzLm9yaWVudGF0aW9uU3RhdHVzID0gMTtcblxuICAgICAgLy8gRXh0cmFjdCBSb3RhdGlvblxuICAgICAgdmFyIHggPSAoZXZlbnQuYmV0YSAgfHwgMCkgLyBNQUdJQ19OVU1CRVI7IC8vICAtOTAgOjogOTBcbiAgICAgIHZhciB5ID0gKGV2ZW50LmdhbW1hIHx8IDApIC8gTUFHSUNfTlVNQkVSOyAvLyAtMTgwIDo6IDE4MFxuXG4gICAgICAvLyBEZXRlY3QgT3JpZW50YXRpb24gQ2hhbmdlXG4gICAgICB2YXIgcG9ydHJhaXQgPSB0aGlzLndoID4gdGhpcy53dztcbiAgICAgIGlmICh0aGlzLnBvcnRyYWl0ICE9PSBwb3J0cmFpdCkge1xuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gcG9ydHJhaXQ7XG4gICAgICAgIHRoaXMuY2FsaWJyYXRpb25GbGFnID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IENhbGlicmF0aW9uXG4gICAgICBpZiAodGhpcy5jYWxpYnJhdGlvbkZsYWcpIHtcbiAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jeCA9IHg7XG4gICAgICAgIHRoaXMuY3kgPSB5O1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgSW5wdXRcbiAgICAgIHRoaXMuaXggPSB4O1xuICAgICAgdGhpcy5peSA9IHk7XG4gICAgfVxuICB9O1xuXG4gIFBhcmFsbGF4LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAvLyBDYWNoZSBtb3VzZSBjb29yZGluYXRlcy5cbiAgICB2YXIgY2xpZW50WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgdmFyIGNsaWVudFkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgLy8gQ2FsY3VsYXRlIE1vdXNlIElucHV0XG4gICAgaWYgKCF0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCAmJiB0aGlzLnJlbGF0aXZlSW5wdXQpIHtcblxuICAgICAgLy8gQ2xpcCBtb3VzZSBjb29yZGluYXRlcyBpbnNpZGUgZWxlbWVudCBib3VuZHMuXG4gICAgICBpZiAodGhpcy5jbGlwUmVsYXRpdmVJbnB1dCkge1xuICAgICAgICBjbGllbnRYID0gTWF0aC5tYXgoY2xpZW50WCwgdGhpcy5leCk7XG4gICAgICAgIGNsaWVudFggPSBNYXRoLm1pbihjbGllbnRYLCB0aGlzLmV4ICsgdGhpcy5ldyk7XG4gICAgICAgIGNsaWVudFkgPSBNYXRoLm1heChjbGllbnRZLCB0aGlzLmV5KTtcbiAgICAgICAgY2xpZW50WSA9IE1hdGgubWluKGNsaWVudFksIHRoaXMuZXkgKyB0aGlzLmVoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIGlucHV0IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50LlxuICAgICAgdGhpcy5peCA9IChjbGllbnRYIC0gdGhpcy5leCAtIHRoaXMuZWN4KSAvIHRoaXMuZXJ4O1xuICAgICAgdGhpcy5peSA9IChjbGllbnRZIC0gdGhpcy5leSAtIHRoaXMuZWN5KSAvIHRoaXMuZXJ5O1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGlucHV0IHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXG4gICAgICB0aGlzLml4ID0gKGNsaWVudFggLSB0aGlzLndjeCkgLyB0aGlzLndyeDtcbiAgICAgIHRoaXMuaXkgPSAoY2xpZW50WSAtIHRoaXMud2N5KSAvIHRoaXMud3J5O1xuICAgIH1cbiAgfTtcblxuICAvLyBFeHBvc2UgUGFyYWxsYXhcbiAgd2luZG93W05BTUVdID0gUGFyYWxsYXg7XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKipcbiAqIFJlcXVlc3QgQW5pbWF0aW9uIEZyYW1lIFBvbHlmaWxsLlxuICogQGF1dGhvciBUaW5vIFppamRlbFxuICogQGF1dGhvciBQYXVsIElyaXNoXG4gKiBAc2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC8xNTc5NjcxXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxhc3RUaW1lID0gMDtcbiAgdmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG4gIGZvcih2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gIH1cblxuICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVsZW1lbnQpIHtcbiAgICAgIHZhciBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XG4gICAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKTsgfSxcbiAgICAgICAgdGltZVRvQ2FsbCk7XG4gICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9O1xuICB9XG5cbiAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuICB9XG5cbn0oKSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
