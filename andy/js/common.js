$(document).ready(function(){function e(e){e=e.originalEvent.touches[0],c.heromouseX_end=e.pageX,c.heromouseY_end=e.pageY}function o(){if(c.wrp.hasClass("index")){c.blue_lineinit=$(".menua").eq(0),s("player",c.videoID,!1);var e=Math.round(4*Math.random());console.log(e),$(".break_wrapper .pg3 .person").eq(e).show()}else if(c.wrp.hasClass("rule"))c.blue_lineinit=$(".menua").eq(3),c.mobile||$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),u(!1);else if(c.wrp.hasClass("hero")){if(c.blue_lineinit=$(".menua").eq(1),!c.mobile)for(var o=0;o<$(".hero_box .person").length;o++)$(".hero_box .person").eq(o).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(a),u(!1)}d(c.blue_lineinit)}function n(){var e=Math.abs(c.heromouseY_end-c.heromouseY),o=c.heromouseX_end-c.heromouseX;if(!(e>=c.touchvalueY||Math.abs(o)<=c.touchvalueX)){var n=1*$(".person").attr("class").replace("person pe","").replace(" on","");n=o>0?1*n+1:1*n-1,n<1?n=5:n>5&&(n=1),window.location.href="hero"+n+".html"}}function i(e){e?$(".break_top_bar").css("height",$(window).height()).addClass("on"):$(".break_top_bar").attr("style","").removeClass("on")}function t(){c.blue_linetimeout=setTimeout(function(){clearTimeout(c.blue_linetimeout),d(c.blue_lineinit)},1500)}function a(){function e(){l<1?l=a:l>a&&(l=1),window.location.href="hero"+l+".html"}var o=$(this).find(".leftbtn"),n=$(this).find(".rightbtn"),i=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,l=1*i.attr("class").replace("person pe","").replace(" on","");i.addClass("on"),t.eq(l-1).addClass("on"),o.click(function(){l-=1,e()}),n.click(function(){l+=1,e()}),t.click(function(){l=$(this).index()+1,e()})}function l(e){FB.ui({method:"feed",name:c.sharetitle,caption:"",description:c.sharedes,display:"popup",link:e},function(e){})}function s(e,o,n){c.video=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{controls:0,autoplay:n,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:r}})}function r(){c.video.seekTo(1).pauseVideo(),u(!1)}function u(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function d(e){if(c.mobile){var o=e.offset().top-$(".break_top_bar").offset().top+$(".menua").height();if(c.blue_line==o)return;c.blue_line=o;var n;0==e.index()?n=70:1==e.index()?n=224:2==e.index()?n=186:3==e.index()?n=146:4==e.index()?n=146:5==e.index()&&(n=260),$(".blue_line").animate({top:c.blue_line,width:n},c.blue_line_speed)}else{if(c.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;c.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:c.blue_line,width:e.width()},c.blue_line_speed)}}var c={wrp:$(".break_wrapper"),touchvalueY:25,touchvalueX:50,blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/2016olympics/index.html",sharetitle:"突破極限之巔 - 2016里約奧運台灣代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運台灣代表隊，你們辛苦了！"};if($(window).width()<=640?c.mobile=!0:c.mobile=!1,c.wrp.hasClass("index")){var h,b,p;h=document.getElementById("canvas"),p=new lib.firwork,b=new createjs.Stage(h),b.addChild(p),b.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",b),c.mobile||(c.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),c.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:c.FBAppId,channelUrl:c.mainurl,status:!0,xfbml:!0,cookie:!0})}else c.wrp.hasClass("hero")&&(FB.init({appId:c.FBAppId,channelUrl:c.mainurl,status:!0,xfbml:!0,cookie:!0}),c.mobile&&($(".hero_box").bind("touchstart",function(o){o=o.originalEvent.touches[0],$(".hero_box").bind("touchmove",e),c.heromouseX=o.pageX,c.heromouseY=o.pageY}),$(".hero_box").bind("touchend",function(o){$(".hero_box").unbind("touchmove",e),n()})));$(".chatbtn").click(function(){window.open("whatsapp://send?text="+window.location.href)}),$(".linebtn").click(function(){window.open("//line.me/R/msg/text/?"+c.sharetitle+"，"+c.sharedes+window.location.href+"　","_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=400")}),$(window).on("touchmove",function(e){c.mobile&&$(".break_top_bar").hasClass("on")&&$(".break_top_bar").addClass("on_end").css("height",$(window).height()+100)}),$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on_end").removeClass("on"),i(!1)):(e.addClass("on"),i(!0))}),$(".hero_box .fbshare").click(function(){l(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){l(c.videolink)}),$(".videoctrl").click(function(){c.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){d($(this)),c.mobile||(5==$(this).index()?c.sub.stop().fadeIn():c.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(c.blue_linetimeout)}),$(".menu").mouseout(function(){t()}),c.sub.mousemove(function(){clearTimeout(c.blue_linetimeout)}),c.sub.mouseover(function(){c.mobile||c.sub.hasClass("on")||c.sub.stop().addClass("on").fadeIn()}),c.sub.mouseout(function(){t(),c.mobile||c.sub.hasClass("on")&&c.sub.stop().removeClass("on").fadeOut()}),$(window).load(o)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhlcm90b3VjaG1vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJvIiwiaGVyb21vdXNlWF9lbmQiLCJwYWdlWCIsImhlcm9tb3VzZVlfZW5kIiwicGFnZVkiLCJ3aW5kb3dMb2FkIiwid3JwIiwiaGFzQ2xhc3MiLCJibHVlX2xpbmVpbml0IiwiZXEiLCJjcmVhdGVWaWRlbyIsInZpZGVvSUQiLCJfcmFuZG9tIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiY29uc29sZSIsImxvZyIsInNob3ciLCJtb2JpbGUiLCJtQ3VzdG9tU2Nyb2xsYmFyIiwic2Nyb2xsSW5lcnRpYSIsInNjcm9sbEVhc2luZyIsInNob3dsb2FkaW5nIiwiaSIsImxlbmd0aCIsImZpbmQiLCJlYWNoIiwiaGVyb19ib3hmYyIsImJsdWVfbGluZSIsImNoZWNrSGVybyIsIl95IiwiYWJzIiwiaGVyb21vdXNlWSIsIl94IiwiaGVyb21vdXNlWCIsInRvdWNodmFsdWVZIiwidG91Y2h2YWx1ZVgiLCJub3dudW0iLCJhdHRyIiwicmVwbGFjZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInNob3dtZW51IiwiX3QiLCJjc3MiLCJoZWlnaHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibWVudW1vdXNlT3V0IiwiYmx1ZV9saW5ldGltZW91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjaGFuZ2VoZXJvIiwiX21heCIsImxlZnRidG4iLCJ0aGlzIiwicmlnaHRidG4iLCJwZXJzb24iLCJidCIsImNsaWNrIiwiaW5kZXgiLCJzaGFyZUZiIiwiX2xpbmsiLCJGQiIsInVpIiwibWV0aG9kIiwibmFtZSIsInNoYXJldGl0bGUiLCJjYXB0aW9uIiwiZGVzY3JpcHRpb24iLCJzaGFyZWRlcyIsImRpc3BsYXkiLCJsaW5rIiwicmVzcG9uc2UiLCJfbyIsIl9pZCIsIl9hdXRvcGxheSIsInZpZGVvIiwiWVQiLCJQbGF5ZXIiLCJ3aWR0aCIsInZpZGVvSWQiLCJwbGF5ZXJWYXJzIiwiY29udHJvbHMiLCJhdXRvcGxheSIsImVuYWJsZWpzYXBpIiwiaGQiLCJyZWwiLCJzaG93aW5mbyIsIm1vZGVzdGJyYW5kaW5nIiwiY2NfbG9hZF9wb2xpY3kiLCJ3bW9kZSIsImV2ZW50cyIsIm9uUmVhZHkiLCJ2aWRlb1JlYWR5Iiwic2Vla1RvIiwicGF1c2VWaWRlbyIsImZhZGVJbiIsImZhZGVPdXQiLCJfdG9wIiwib2Zmc2V0IiwidG9wIiwiX3dpZHRoIiwiYW5pbWF0ZSIsImJsdWVfbGluZV9zcGVlZCIsImxlZnQiLCJ2aWRlb2xpbmsiLCJzdWIiLCJGQkFwcElkIiwibWFpbnVybCIsImNhbnZhcyIsInN0YWdlIiwiZXhwb3J0Um9vdCIsImdldEVsZW1lbnRCeUlkIiwibGliIiwiZmlyd29yayIsImNyZWF0ZWpzIiwiU3RhZ2UiLCJhZGRDaGlsZCIsInVwZGF0ZSIsIlRpY2tlciIsInNldEZQUyIsInByb3BlcnRpZXMiLCJmcHMiLCJhZGRFdmVudExpc3RlbmVyIiwiUGFyYWxsYXgiLCJQYXJhbGxheDIiLCJpbml0IiwiYXBwSWQiLCJjaGFubmVsVXJsIiwic3RhdHVzIiwieGZibWwiLCJjb29raWUiLCJiaW5kIiwidW5iaW5kIiwib3BlbiIsIm9uIiwiX3RoIiwicGFyZW50IiwicGxheVZpZGVvIiwibW91c2VvdmVyIiwic3RvcCIsIm1vdXNlbW92ZSIsIm1vdXNlb3V0IiwibG9hZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0EyRGYsUUFBU0MsR0FBY0MsR0FDdEJBLEVBQUlBLEVBQUVDLGNBQWNDLFFBQVEsR0FDNUJDLEVBQUVDLGVBQWlCSixFQUFFSyxNQUNyQkYsRUFBRUcsZUFBaUJOLEVBQUVPLE1BMEV4QixRQUFTQyxLQUNSLEdBQUdMLEVBQUVNLElBQUlDLFNBQVMsU0FBUyxDQUcxQlAsRUFBRVEsY0FBY2YsRUFBRSxVQUFVZ0IsR0FBRyxHQUMvQkMsRUFBWSxTQUFTVixFQUFFVyxTQUFRLEVBQy9CLElBQUlDLEdBQVVDLEtBQUtDLE1BQW9CLEVBQWRELEtBQUtFLFNBQzlCQyxTQUFRQyxJQUFJTCxHQUNabkIsRUFBRSwrQkFBK0JnQixHQUFHRyxHQUFTTSxXQUV4QyxJQUFHbEIsRUFBRU0sSUFBSUMsU0FBUyxRQUd2QlAsRUFBRVEsY0FBY2YsRUFBRSxVQUFVZ0IsR0FBRyxHQUMzQlQsRUFBRW1CLFFBQVExQixFQUFFLHdCQUF3QjJCLGtCQUFrQkMsY0FBYyxJQUFJQyxhQUFhLFdBQ3pGQyxHQUFZLE9BRVAsSUFBR3ZCLEVBQUVNLElBQUlDLFNBQVMsUUFBUSxDQUkvQixHQURBUCxFQUFFUSxjQUFjZixFQUFFLFVBQVVnQixHQUFHLElBQzNCVCxFQUFFbUIsT0FDTCxJQUFJLEdBQUlLLEdBQUUsRUFBRUEsRUFBRS9CLEVBQUUscUJBQXFCZ0MsT0FBT0QsSUFDM0MvQixFQUFFLHFCQUFxQmdCLEdBQUdlLEdBQUdFLEtBQUssTUFBTU4sa0JBQWtCQyxjQUFjLElBQUlDLGFBQWEsVUFHM0Y3QixHQUFFLGFBQWFrQyxLQUFLQyxHQUNwQkwsR0FBWSxHQUViTSxFQUFVN0IsRUFBRVEsZUFJYixRQUFTc0IsS0FDUixHQUFJQyxHQUFLbEIsS0FBS21CLElBQUtoQyxFQUFFRyxlQUFpQkgsRUFBRWlDLFlBQ3BDQyxFQUFLbEMsRUFBRUMsZUFBaUJELEVBQUVtQyxVQUM5QixNQUFHSixHQUFNL0IsRUFBRW9DLGFBRVB2QixLQUFLbUIsSUFBSUUsSUFBS2xDLEVBQUVxQyxhQUFuQixDQUVBLEdBQUlDLEdBQTZFLEVBQXJFN0MsRUFBRSxXQUFXOEMsS0FBSyxTQUFTQyxRQUFRLFlBQVksSUFBSUEsUUFBUSxNQUFNLEdBQ3BFRixHQUFOSixFQUFHLEVBQW1CLEVBQVBJLEVBQVcsRUFDUixFQUFQQSxFQUFXLEVBQ3RCQSxFQUFPLEVBQUdBLEVBQU8sRUFDWkEsRUFBTyxJQUFHQSxFQUFPLEdBQ3pCRyxPQUFPQyxTQUFTQyxLQUFPLE9BQU9MLEVBQU8sU0FHdkMsUUFBU00sR0FBU0MsR0FDZEEsRUFDRnBELEVBQUUsa0JBQWtCcUQsSUFBSSxTQUFTckQsRUFBRWdELFFBQVFNLFVBQVVDLFNBQVMsTUFFOUR2RCxFQUFFLGtCQUFrQjhDLEtBQUssUUFBUSxJQUFJVSxZQUFZLE1BR25ELFFBQVNDLEtBQ1JsRCxFQUFFbUQsaUJBQW1CQyxXQUFXLFdBQy9CQyxhQUFhckQsRUFBRW1ELGtCQUNmdEIsRUFBVTdCLEVBQUVRLGdCQUNYLE1BRUgsUUFBU29CLEtBc0JSLFFBQVMwQixLQUNMaEIsRUFBTyxFQUFHQSxFQUFPaUIsRUFDWmpCLEVBQU9pQixJQUFNakIsRUFBTyxHQUM1QkcsT0FBT0MsU0FBU0MsS0FBTyxPQUFPTCxFQUFPLFFBeEJ0QyxHQUFJa0IsR0FBVS9ELEVBQUVnRSxNQUFNL0IsS0FBSyxZQUMxQmdDLEVBQVdqRSxFQUFFZ0UsTUFBTS9CLEtBQUssYUFDeEJpQyxFQUFTbEUsRUFBRWdFLE1BQU0vQixLQUFLLFdBQ3RCa0MsRUFBS25FLEVBQUVnRSxNQUFNL0IsS0FBSyxRQUFRQSxLQUFLLE9BQy9CNkIsRUFBTyxFQUNQakIsRUFBdUUsRUFBL0RxQixFQUFPcEIsS0FBSyxTQUFTQyxRQUFRLFlBQVksSUFBSUEsUUFBUSxNQUFNLEdBRXBFbUIsR0FBT1gsU0FBUyxNQUNoQlksRUFBR25ELEdBQUc2QixFQUFPLEdBQUdVLFNBQVMsTUFDekJRLEVBQVFLLE1BQU0sV0FDYnZCLEdBQVEsRUFDUmdCLE1BRURJLEVBQVNHLE1BQU0sV0FDZHZCLEdBQVEsRUFDUmdCLE1BRURNLEVBQUdDLE1BQU0sV0FDUnZCLEVBQVM3QyxFQUFFZ0UsTUFBTUssUUFBVSxFQUMzQlIsTUFRRixRQUFTUyxHQUFRQyxHQUNWQyxHQUFHQyxJQUNDQyxPQUFRLE9BQ1JDLEtBQU1wRSxFQUFFcUUsV0FDUkMsUUFBUyxHQUNUQyxZQUFhdkUsRUFBRXdFLFNBQ2ZDLFFBQVEsUUFDUkMsS0FBTVYsR0FDTCxTQUFTVyxNQUlyQixRQUFTakUsR0FBWWtFLEVBQUdDLEVBQUlDLEdBQ3JCOUUsRUFBRStFLE1BQVEsR0FBSUMsSUFBR0MsT0FBT0wsR0FDdEI3QixPQUFRLE9BQ1JtQyxNQUFPLE9BQ1BDLFFBQVNOLEVBQ1RPLFlBQ0VDLFNBQVcsRUFDWEMsU0FBV1IsRUFDWFMsWUFBYyxJQUNkQyxHQUFLLElBQ0xDLElBQU0sSUFDTkMsU0FBVyxJQUNYQyxlQUFpQixJQUNqQkMsZUFBaUIsSUFDakJDLE1BQVEsZUFFVkMsUUFDREMsUUFBV0MsS0FJaEIsUUFBU0EsS0FDUmhHLEVBQUUrRSxNQUFNa0IsT0FBTyxHQUFHQyxhQUNsQjNFLEdBQVksR0FFaEIsUUFBU0EsR0FBWXNCLEdBQ2pCQSxFQUNGcEQsRUFBRSxrQkFBa0IwRyxTQUVwQjFHLEVBQUUsa0JBQWtCMkcsVUFHdEIsUUFBU3ZFLEdBQVUrQyxHQUNsQixHQUFHNUUsRUFBRW1CLE9BQU8sQ0FDWCxHQUFJa0YsR0FBT3pCLEVBQUcwQixTQUFTQyxJQUFNOUcsRUFBRSxrQkFBa0I2RyxTQUFTQyxJQUFNOUcsRUFBRSxVQUFVc0QsUUFDNUUsSUFBRy9DLEVBQUU2QixXQUFXd0UsRUFBTSxNQUN0QnJHLEdBQUU2QixVQUFZd0UsQ0FDZCxJQUFJRyxFQUNXLElBQVo1QixFQUFHZCxRQUFZMEMsRUFBUyxHQUNQLEdBQVo1QixFQUFHZCxRQUFZMEMsRUFBUyxJQUNaLEdBQVo1QixFQUFHZCxRQUFZMEMsRUFBUyxJQUNaLEdBQVo1QixFQUFHZCxRQUFZMEMsRUFBUyxJQUNaLEdBQVo1QixFQUFHZCxRQUFZMEMsRUFBUyxJQUNaLEdBQVo1QixFQUFHZCxVQUFZMEMsRUFBUyxLQUNoQy9HLEVBQUUsY0FBY2dILFNBQVNGLElBQU12RyxFQUFFNkIsVUFBVXFELE1BQVFzQixHQUFReEcsRUFBRTBHLHFCQUN6RCxDQUNKLEdBQUcxRyxFQUFFNkIsV0FBWStDLEVBQUcwQixTQUFTSyxLQUFPbEgsRUFBRSxvQkFBb0I2RyxTQUFTSyxLQUFPLE1BQzFFM0csR0FBRTZCLFVBQVkrQyxFQUFHMEIsU0FBU0ssS0FBT2xILEVBQUUsb0JBQW9CNkcsU0FBU0ssS0FDaEVsSCxFQUFFLGNBQWNnSCxTQUFTRSxLQUFPM0csRUFBRTZCLFVBQVVxRCxNQUFRTixFQUFHTSxTQUFTbEYsRUFBRTBHLGtCQTFScEUsR0FBSTFHLElBQ0hNLElBQUtiLEVBQUUsa0JBQ1AyQyxZQUFhLEdBQ2JDLFlBQWEsR0FDYnFFLGdCQUFpQixJQUNqQi9GLFFBQVMsY0FDVGlHLFVBQVcsOENBQ1hDLElBQUtwSCxFQUFFLHVCQUNQcUgsUUFBUyxtQkFDVEMsUUFBUyw4REFDVDFDLFdBQVksZ0NBQ1pHLFNBQVUsMENBTVgsSUFIRy9FLEVBQUVnRCxRQUFReUMsU0FBUyxJQUFLbEYsRUFBRW1CLFFBQVMsRUFDakNuQixFQUFFbUIsUUFBUyxFQUVibkIsRUFBRU0sSUFBSUMsU0FBUyxTQUFTLENBQzFCLEdBQUl5RyxHQUFRQyxFQUFPQyxDQUNuQkYsR0FBU3RILFNBQVN5SCxlQUFlLFVBQ2pDRCxFQUFhLEdBQUlFLEtBQUlDLFFBQ3JCSixFQUFRLEdBQUlLLFVBQVNDLE1BQU1QLEdBQzNCQyxFQUFNTyxTQUFTTixHQUNmRCxFQUFNUSxTQUNOSCxTQUFTSSxPQUFPQyxPQUFPUCxJQUFJUSxXQUFXQyxLQUN0Q1AsU0FBU0ksT0FBT0ksaUJBQWlCLE9BQVFiLEdBQ3JDakgsRUFBRW1CLFNBQ0xuQixFQUFFK0gsU0FBVyxHQUFJQSxVQUFTckksU0FBU3lILGVBQWUsc0JBQ2xEbkgsRUFBRWdJLFVBQVksR0FBSUQsVUFBU3JJLFNBQVN5SCxlQUFlLHVCQUVwRGxELEdBQUdnRSxNQUNJQyxNQUFhbEksRUFBRThHLFFBQ2ZxQixXQUFhbkksRUFBRStHLFFBQ2ZxQixRQUFhLEVBQ2JDLE9BQWEsRUFDYkMsUUFBYSxRQUVadEksR0FBRU0sSUFBSUMsU0FBUyxVQUN2QjBELEdBQUdnRSxNQUNJQyxNQUFhbEksRUFBRThHLFFBQ2ZxQixXQUFhbkksRUFBRStHLFFBQ2ZxQixRQUFhLEVBQ2JDLE9BQWEsRUFDYkMsUUFBYSxJQUVkdEksRUFBRW1CLFNBQ0oxQixFQUFFLGFBQWE4SSxLQUFLLGFBQWEsU0FBUzFJLEdBQzVDQSxFQUFJQSxFQUFFQyxjQUFjQyxRQUFRLEdBQzVCTixFQUFFLGFBQWE4SSxLQUFLLFlBQVkzSSxHQUNoQ0ksRUFBRW1DLFdBQWF0QyxFQUFFSyxNQUNqQkYsRUFBRWlDLFdBQWFwQyxFQUFFTyxRQUVsQlgsRUFBRSxhQUFhOEksS0FBSyxXQUFXLFNBQVMxSSxHQUN2Q0osRUFBRSxhQUFhK0ksT0FBTyxZQUFZNUksR0FDbENrQyxPQVdIckMsR0FBRSxZQUFZb0UsTUFBTSxXQUNuQnBCLE9BQU9nRyxLQUFLLHdCQUF3QmhHLE9BQU9DLFNBQVNDLFFBRXJEbEQsRUFBRSxZQUFZb0UsTUFBTSxXQUNuQnBCLE9BQU9nRyxLQUFLLHlCQUF5QnpJLEVBQUVxRSxXQUFXLElBQUlyRSxFQUFFd0UsU0FBVS9CLE9BQU9DLFNBQVNDLEtBQU0sSUFBSSxTQUFVLDBGQUV2R2xELEVBQUVnRCxRQUFRaUcsR0FBRyxZQUFZLFNBQVM3SSxHQUM5QkcsRUFBRW1CLFFBQ0QxQixFQUFFLGtCQUFrQmMsU0FBUyxPQUMvQmQsRUFBRSxrQkFBa0J1RCxTQUFTLFVBQVVGLElBQUksU0FBU3JELEVBQUVnRCxRQUFRTSxTQUFTLE9BSTFFdEQsRUFBRSxXQUFXb0UsTUFBTSxXQUNsQixHQUFJOEUsR0FBTWxKLEVBQUVnRSxNQUFNbUYsU0FBU0EsUUFDeEJELEdBQUlwSSxTQUFTLE9BQ2ZvSSxFQUFJMUYsWUFBWSxVQUFVQSxZQUFZLE1BQ3RDTCxHQUFTLEtBRVQrRixFQUFJM0YsU0FBUyxNQUNiSixHQUFTLE1BR1huRCxFQUFFLHNCQUFzQm9FLE1BQU0sV0FDN0JFLEVBQVF0QixPQUFPQyxTQUFTQyxRQUV6QmxELEVBQUUsZ0NBQWdDb0UsTUFBTSxXQUN2Q0UsRUFBUS9ELEVBQUU0RyxhQUVYbkgsRUFBRSxjQUFjb0UsTUFBTSxXQUNyQjdELEVBQUUrRSxNQUFNOEQsWUFDUnBKLEVBQUUsY0FBYzJHLFlBRWpCM0csRUFBRSxVQUFVcUosVUFBVSxXQUNyQmpILEVBQVVwQyxFQUFFZ0UsT0FDUnpELEVBQUVtQixTQUNlLEdBQWpCMUIsRUFBRWdFLE1BQU1LLFFBQ1Y5RCxFQUFFNkcsSUFBSWtDLE9BQU81QyxTQUVibkcsRUFBRTZHLElBQUlrQyxPQUFPM0MsYUFJaEIzRyxFQUFFLFNBQVN1SixVQUFVLFdBQ3BCM0YsYUFBYXJELEVBQUVtRCxvQkFFaEIxRCxFQUFFLFNBQVN3SixTQUFTLFdBQ25CL0YsTUFFRGxELEVBQUU2RyxJQUFJbUMsVUFBVSxXQUNmM0YsYUFBYXJELEVBQUVtRCxvQkFFaEJuRCxFQUFFNkcsSUFBSWlDLFVBQVUsV0FDWDlJLEVBQUVtQixRQUNEbkIsRUFBRTZHLElBQUl0RyxTQUFTLE9BQ2xCUCxFQUFFNkcsSUFBSWtDLE9BQU8vRixTQUFTLE1BQU1tRCxXQUkvQm5HLEVBQUU2RyxJQUFJb0MsU0FBUyxXQUNkL0YsSUFDSWxELEVBQUVtQixRQUNGbkIsRUFBRTZHLElBQUl0RyxTQUFTLE9BQ2pCUCxFQUFFNkcsSUFBSWtDLE9BQU85RixZQUFZLE1BQU1tRCxZQUlsQzNHLEVBQUVnRCxRQUFReUcsS0FBSzdJIiwiZmlsZSI6ImNvbW1vbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG5cdC8vSW5pdFxyXG5cdHZhciBvID0ge1xyXG5cdFx0d3JwOiAkKCcuYnJlYWtfd3JhcHBlcicpLFxyXG5cdFx0dG91Y2h2YWx1ZVk6IDI1LFxyXG5cdFx0dG91Y2h2YWx1ZVg6IDUwLFxyXG5cdFx0Ymx1ZV9saW5lX3NwZWVkOiAxMDAsXHJcblx0XHR2aWRlb0lEOiAnYlJocGtwMV9xRUknLFxyXG5cdFx0dmlkZW9saW5rOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1iUmhwa3AxX3FFSScsXHJcblx0XHRzdWI6ICQoJy5icmVha190b3BfYmFyIC5zdWInKSxcclxuXHRcdEZCQXBwSWQ6ICcxMzAxOTczODIzMTUwOTg4JyxcclxuXHRcdG1haW51cmw6ICdodHRwOi8vd3d3LnNhbXN1bmcuY29tL3R3L2NhbXBhaWducy8yMDE2b2x5bXBpY3MvaW5kZXguaHRtbCcsXHJcblx0XHRzaGFyZXRpdGxlOiAn56qB56C05qW16ZmQ5LmL5beUIC0gMjAxNumHjOe0hOWlp+mBi+WPsOeBo+S7o+ihqOmaiiDorJ3orJ3kvaDnmoTliqrlipsnLFxyXG5cdFx0c2hhcmVkZXM6ICfnl5voi6bmnIPpgY7ljrvvvIzmpq7ogIDlsIfnlZnkuIvorJ3orJ3kvaDnmoTliqrlipvvvIwyMDE2IOmHjOe0hOWlp+mBi+WPsOeBo+S7o+ihqOmaiu+8jOS9oOWAkei+m+iLpuS6hu+8gSdcclxuXHR9O1xyXG5cclxuXHRpZigkKHdpbmRvdykud2lkdGgoKTw9NjQwKSBvLm1vYmlsZSA9IHRydWU7XHJcblx0ZWxzZSBvLm1vYmlsZSA9IGZhbHNlO1xyXG5cclxuXHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHR2YXIgY2FudmFzLCBzdGFnZSwgZXhwb3J0Um9vdDtcclxuXHRcdGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG5cdFx0ZXhwb3J0Um9vdCA9IG5ldyBsaWIuZmlyd29yaygpO1xyXG5cdFx0c3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoY2FudmFzKTtcclxuXHRcdHN0YWdlLmFkZENoaWxkKGV4cG9ydFJvb3QpO1xyXG5cdFx0c3RhZ2UudXBkYXRlKCk7XHJcblx0XHRjcmVhdGVqcy5UaWNrZXIuc2V0RlBTKGxpYi5wcm9wZXJ0aWVzLmZwcyk7XHJcblx0XHRjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgc3RhZ2UpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0by5QYXJhbGxheCA9IG5ldyBQYXJhbGxheChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWtfcGFnZV9wZzFfa3YnKSk7XHJcblx0XHRcdG8uUGFyYWxsYXgyID0gbmV3IFBhcmFsbGF4KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha19wYWdlX3BnMV9iZycpKTtcclxuXHRcdH1cclxuXHRcdEZCLmluaXQoe1xyXG5cdCAgICAgICAgYXBwSWQgICAgICA6IG8uRkJBcHBJZCxcclxuXHQgICAgICAgIGNoYW5uZWxVcmwgOiBvLm1haW51cmwsXHJcblx0ICAgICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgY29va2llICAgICA6IHRydWVcclxuXHQgICAgfSk7XHJcblx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblx0XHRGQi5pbml0KHtcclxuXHQgICAgICAgIGFwcElkICAgICAgOiBvLkZCQXBwSWQsXHJcblx0ICAgICAgICBjaGFubmVsVXJsIDogby5tYWludXJsLFxyXG5cdCAgICAgICAgc3RhdHVzICAgICA6IHRydWUsXHJcblx0ICAgICAgICB4ZmJtbCAgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIGNvb2tpZSAgICAgOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgICBpZihvLm1vYmlsZSl7XHJcblx0ICAgIFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2hzdGFydCcsZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCcpLmJpbmQoJ3RvdWNobW92ZScsaGVyb3RvdWNobW92ZSk7XHJcblx0XHRcdFx0by5oZXJvbW91c2VYID0gZS5wYWdlWDtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVkgPSBlLnBhZ2VZO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2hlbmQnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCcpLnVuYmluZCgndG91Y2htb3ZlJyxoZXJvdG91Y2htb3ZlKTtcclxuXHRcdFx0XHRjaGVja0hlcm8oKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGZ1bmN0aW9uIGhlcm90b3VjaG1vdmUoZSl7XHJcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWF9lbmQgPSBlLnBhZ2VYO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWV9lbmQgPSBlLnBhZ2VZO1xyXG5cdFx0XHR9XHJcblx0ICAgIH1cclxuXHR9XHJcblxyXG5cdC8vQWRkbGlzdGVuZXJcclxuXHQkKCcuY2hhdGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR3aW5kb3cub3BlbihcIndoYXRzYXBwOi8vc2VuZD90ZXh0PVwiK3dpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHR9KTtcclxuXHQkKCcubGluZWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR3aW5kb3cub3BlbihcIi8vbGluZS5tZS9SL21zZy90ZXh0Lz9cIitvLnNoYXJldGl0bGUrXCLvvIxcIitvLnNoYXJlZGVzKyB3aW5kb3cubG9jYXRpb24uaHJlZiArXCLjgIBcIiwnX2JsYW5rJywgXCJ0b29sYmFyPXllcywgc2Nyb2xsYmFycz15ZXMsIHJlc2l6YWJsZT15ZXMsIHRvcD0xMDAsIGxlZnQ9NTAwLCB3aWR0aD02MDAsIGhlaWdodD00MDBcIik7XHJcblx0fSk7XHJcblx0JCh3aW5kb3cpLm9uKCd0b3VjaG1vdmUnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0aWYoby5tb2JpbGUpe1xyXG5cdFx0XHRpZigkKCcuYnJlYWtfdG9wX2JhcicpLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0XHQkKCcuYnJlYWtfdG9wX2JhcicpLmFkZENsYXNzKCdvbl9lbmQnKS5jc3MoJ2hlaWdodCcsJCh3aW5kb3cpLmhlaWdodCgpKzEwMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcubV9pY29uJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHZhciBfdGggPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpO1xyXG5cdFx0aWYoX3RoLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0X3RoLnJlbW92ZUNsYXNzKCdvbl9lbmQnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0c2hvd21lbnUoZmFsc2UpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdF90aC5hZGRDbGFzcygnb24nKTtcclxuXHRcdFx0c2hvd21lbnUodHJ1ZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLmhlcm9fYm94IC5mYnNoYXJlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHNoYXJlRmIod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cdH0pXHJcblx0JCgnLmJyZWFrX3dyYXBwZXIgLnBnMiAuZmJzaGFyZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRzaGFyZUZiKG8udmlkZW9saW5rKTtcclxuXHR9KTtcclxuXHQkKCcudmlkZW9jdHJsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdG8udmlkZW8ucGxheVZpZGVvKCk7XHJcblx0XHQkKCcudmlkZW9jdHJsJykuZmFkZU91dCgpO1xyXG5cdH0pO1xyXG5cdCQoJy5tZW51YScpLm1vdXNlb3ZlcihmdW5jdGlvbigpe1xyXG5cdFx0Ymx1ZV9saW5lKCQodGhpcykpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoJCh0aGlzKS5pbmRleCgpPT01KXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuZmFkZUluKCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5mYWRlT3V0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcubWVudScpLm1vdXNlbW92ZShmdW5jdGlvbigpe1xyXG5cdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0fSk7XHJcblx0JCgnLm1lbnUnKS5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0bWVudW1vdXNlT3V0KCk7XHJcblx0fSk7XHJcblx0by5zdWIubW91c2Vtb3ZlKGZ1bmN0aW9uKCl7XHJcblx0XHRjbGVhclRpbWVvdXQoby5ibHVlX2xpbmV0aW1lb3V0KTtcclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCFvLnN1Yi5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmFkZENsYXNzKCdvbicpLmZhZGVJbigpO1x0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0bWVudW1vdXNlT3V0KCk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZihvLnN1Yi5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLnJlbW92ZUNsYXNzKCdvbicpLmZhZGVPdXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQod2luZG93KS5sb2FkKHdpbmRvd0xvYWQpO1xyXG5cdGZ1bmN0aW9uIHdpbmRvd0xvYWQoKXtcclxuXHRcdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdFx0XHJcblx0XHRcdC8vKiBpbmRleCAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDApO1xyXG5cdFx0XHRjcmVhdGVWaWRlbygncGxheWVyJyxvLnZpZGVvSUQsZmFsc2UpO1xyXG5cdFx0XHR2YXIgX3JhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo0KTtcclxuXHRcdFx0Y29uc29sZS5sb2coX3JhbmRvbSk7XHJcblx0XHRcdCQoJy5icmVha193cmFwcGVyIC5wZzMgLnBlcnNvbicpLmVxKF9yYW5kb20pLnNob3coKTtcclxuXHJcblx0XHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygncnVsZScpKXtcclxuXHJcblx0XHRcdC8vKiBydWxlICovL1xyXG5cdFx0XHRvLmJsdWVfbGluZWluaXQ9JCgnLm1lbnVhJykuZXEoMyk7XHJcblx0XHRcdGlmKCFvLm1vYmlsZSkgJChcIi5ydWxlX2JveCAucnVsZV93b3JkXCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG5cdFx0XHRzaG93bG9hZGluZyhmYWxzZSk7XHJcblxyXG5cdFx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblxyXG5cdFx0XHQvLyogaGVybyAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDEpO1xyXG5cdFx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRcdGZvcih2YXIgaT0wO2k8JCgnLmhlcm9fYm94IC5wZXJzb24nKS5sZW5ndGg7aSsrKXtcclxuXHRcdFx0XHRcdCQoJy5oZXJvX2JveCAucGVyc29uJykuZXEoaSkuZmluZCgnLncnKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0JCgnLmhlcm9fYm94JykuZWFjaChoZXJvX2JveGZjKTtcclxuXHRcdFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0Ymx1ZV9saW5lKG8uYmx1ZV9saW5laW5pdCk7XHJcblx0fVxyXG5cclxuXHQvL0V2ZW50XHJcblx0ZnVuY3Rpb24gY2hlY2tIZXJvKCl7XHJcblx0XHR2YXIgX3kgPSBNYXRoLmFicyggby5oZXJvbW91c2VZX2VuZCAtIG8uaGVyb21vdXNlWSk7XHJcblx0XHR2YXIgX3ggPSBvLmhlcm9tb3VzZVhfZW5kIC0gby5oZXJvbW91c2VYO1xyXG5cdFx0aWYoX3kgPj0gby50b3VjaHZhbHVlWSkgcmV0dXJuO1xyXG5cdFx0ZWxzZXtcclxuXHRcdFx0aWYoTWF0aC5hYnMoX3gpPD1vLnRvdWNodmFsdWVYKSByZXR1cm47XHJcblxyXG5cdFx0XHR2YXIgbm93bnVtID0kKCcucGVyc29uJykuYXR0cignY2xhc3MnKS5yZXBsYWNlKCdwZXJzb24gcGUnLCcnKS5yZXBsYWNlKCcgb24nLCcnKSoxO1xyXG5cdFx0XHRpZihfeD4wKSBub3dudW0gPSBub3dudW0qMSArIDE7XHJcblx0XHRcdGVsc2Ugbm93bnVtID0gbm93bnVtKjEgLSAxO1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPTU7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT41KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaG93bWVudShfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdCQoJy5icmVha190b3BfYmFyJykuY3NzKCdoZWlnaHQnLCQod2luZG93KS5oZWlnaHQoKSkuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5hdHRyKCdzdHlsZScsJycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBtZW51bW91c2VPdXQoKXtcclxuXHRcdG8uYmx1ZV9saW5ldGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0XHRcdGJsdWVfbGluZShvLmJsdWVfbGluZWluaXQpO1xyXG5cdFx0fSwxNTAwKTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gaGVyb19ib3hmYygpe1xyXG5cdFx0dmFyIGxlZnRidG4gPSAkKHRoaXMpLmZpbmQoJy5sZWZ0YnRuJyksXHJcblx0XHRcdHJpZ2h0YnRuID0gJCh0aGlzKS5maW5kKCcucmlnaHRidG4nKSxcclxuXHRcdFx0cGVyc29uID0gJCh0aGlzKS5maW5kKCcucGVyc29uJyksXHJcblx0XHRcdGJ0ID0gJCh0aGlzKS5maW5kKCcuc3ViJykuZmluZCgnLmJ0JyksXHJcblx0XHRcdF9tYXggPSA1LFxyXG5cdFx0XHRub3dudW0gPXBlcnNvbi5hdHRyKCdjbGFzcycpLnJlcGxhY2UoJ3BlcnNvbiBwZScsJycpLnJlcGxhY2UoJyBvbicsJycpKjE7XHJcblxyXG5cdFx0cGVyc29uLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0YnQuZXEobm93bnVtLTEpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0bGVmdGJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0tPTE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0cmlnaHRidG4uY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtKz0xO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdGJ0LmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bSA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0ZnVuY3Rpb24gY2hhbmdlaGVybygpe1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPV9tYXg7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT5fbWF4KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaGFyZUZiKF9saW5rKXtcclxuICAgICAgICBGQi51aSh7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdmZWVkJyxcclxuICAgICAgICAgICAgbmFtZTogby5zaGFyZXRpdGxlLFxyXG4gICAgICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogby5zaGFyZWRlcyxcclxuICAgICAgICAgICAgZGlzcGxheTpcInBvcHVwXCIsXHJcbiAgICAgICAgICAgIGxpbms6IF9saW5rXHJcbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICB9KTsgICAgICAgIFxyXG4gICAgfVxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVZpZGVvKF9vLF9pZCxfYXV0b3BsYXkpe1xyXG4gICAgICAgIG8udmlkZW8gPSBuZXcgWVQuUGxheWVyKF9vLCB7XHJcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICB2aWRlb0lkOiBfaWQsXHJcbiAgICAgICAgICBwbGF5ZXJWYXJzOntcclxuICAgICAgICAgICAgJ2NvbnRyb2xzJzowLFxyXG4gICAgICAgICAgICAnYXV0b3BsYXknOl9hdXRvcGxheSxcclxuICAgICAgICAgICAgJ2VuYWJsZWpzYXBpJzonMCcsXHJcbiAgICAgICAgICAgICdoZCc6JzEnLFxyXG4gICAgICAgICAgICAncmVsJzonMCcsXHJcbiAgICAgICAgICAgICdzaG93aW5mbyc6JzAnLFxyXG4gICAgICAgICAgICAnbW9kZXN0YnJhbmRpbmcnOicxJyxcclxuICAgICAgICAgICAgJ2NjX2xvYWRfcG9saWN5JzonMScsXHJcbiAgICAgICAgICAgICd3bW9kZSc6J3RyYW5zcGFyZW50JyAgICAgIFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGV2ZW50czoge1xyXG5cdCAgICAgICAgJ29uUmVhZHknOiB2aWRlb1JlYWR5XHJcblx0ICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdmlkZW9SZWFkeSgpe1xyXG4gICAgXHRvLnZpZGVvLnNlZWtUbygxKS5wYXVzZVZpZGVvKCk7XHJcbiAgICBcdHNob3dsb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuXHRmdW5jdGlvbiBzaG93bG9hZGluZyhfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdCQoJy5icmVha19sb2FkaW5nJykuZmFkZUluKCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JCgnLmJyZWFrX2xvYWRpbmcnKS5mYWRlT3V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGJsdWVfbGluZShfbyl7XHJcblx0XHRpZihvLm1vYmlsZSl7XHJcblx0XHRcdHZhciBfdG9wID0gX28ub2Zmc2V0KCkudG9wIC0gJCgnLmJyZWFrX3RvcF9iYXInKS5vZmZzZXQoKS50b3AgKyAkKCcubWVudWEnKS5oZWlnaHQoKTtcclxuXHRcdFx0aWYoby5ibHVlX2xpbmU9PV90b3Ape3JldHVybn1cclxuXHRcdFx0by5ibHVlX2xpbmUgPSBfdG9wO1xyXG5cdFx0XHR2YXIgX3dpZHRoO1xyXG5cdFx0XHRpZihfby5pbmRleCgpPT0wKSBfd2lkdGggPSA3MDtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0xKSBfd2lkdGggPSAyMjQ7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09MikgX3dpZHRoID0gMTg2O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTMpIF93aWR0aCA9IDE0NjtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT00KSBfd2lkdGggPSAxNDY7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09NSkgX3dpZHRoID0gMjYwO1xyXG5cdFx0XHQkKCcuYmx1ZV9saW5lJykuYW5pbWF0ZSh7J3RvcCc6by5ibHVlX2xpbmUsJ3dpZHRoJzpfd2lkdGh9LG8uYmx1ZV9saW5lX3NwZWVkKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRpZihvLmJsdWVfbGluZT09KF9vLm9mZnNldCgpLmxlZnQgLSAkKCcuYnJlYWtfdG9wX2JhcmluJykub2Zmc2V0KCkubGVmdCkpe3JldHVybn1cclxuXHRcdFx0by5ibHVlX2xpbmUgPSBfby5vZmZzZXQoKS5sZWZ0IC0gJCgnLmJyZWFrX3RvcF9iYXJpbicpLm9mZnNldCgpLmxlZnQ7XHJcblx0XHRcdCQoJy5ibHVlX2xpbmUnKS5hbmltYXRlKHsnbGVmdCc6by5ibHVlX2xpbmUsJ3dpZHRoJzpfby53aWR0aCgpfSxvLmJsdWVfbGluZV9zcGVlZCk7XHJcblx0XHR9XHJcblx0fVxyXG4gIFxyXG59KS8vcmVhZHkgZW5kICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
