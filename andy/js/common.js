$(document).ready(function(){function e(e){e=e.originalEvent.touches[0],b.heromouseX_end=e.pageX,b.heromouseY_end=e.pageY}function o(){if(b.wrp.hasClass("index")){b.blue_lineinit=$(".menua").eq(0),u("player",b.videoID,!1);var e=Math.round(4*Math.random());$(".break_wrapper .pg3 .person").eq(e).show()}else if(b.wrp.hasClass("rule"))b.blue_lineinit=$(".menua").eq(3),b.mobile||$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),h(!1);else if(b.wrp.hasClass("hero")){if(b.blue_lineinit=$(".menua").eq(1),!b.mobile)for(var o=0;o<$(".hero_box .person").length;o++)$(".hero_box .person").eq(o).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(s),h(!1)}c(b.blue_lineinit)}function n(){90==Math.abs(window.orientation)?$(".break_mobile_cover").fadeIn():$(".break_mobile_cover").fadeOut()}function i(){var e=Math.abs(b.heromouseY_end-b.heromouseY),o=b.heromouseX_end-b.heromouseX;if(!(e>=b.touchvalueY||Math.abs(o)<=b.touchvalueX)){var n=1*$(".person").attr("class").replace("person pe","").replace(" on","");n=o>0?1*n-1:1*n+1,n<1?n=5:n>5&&(n=1),window.location.href="hero"+n+".html"}}function t(e){e?(b.wrp.hasClass("index")&&($(".break_top_barin").removeClass("index"),$(".break_top_barin .logo").stop().animate({opacity:1},300)),$(".break_top_bar").css("height",$(window).height()).addClass("on")):(b.wrp.hasClass("index")&&($(".break_top_barin").addClass("index"),$(".break_top_barin .logo").stop().animate({opacity:0},300)),$(".break_top_bar").attr("style","").removeClass("on"))}function a(){b.blue_linetimeout=setTimeout(function(){clearTimeout(b.blue_linetimeout),c(b.blue_lineinit)},1500)}function s(){function e(){s<1?s=a:s>a&&(s=1),window.location.href="hero"+s+".html"}var o=$(this).find(".leftbtn"),n=$(this).find(".rightbtn"),i=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,s=1*i.attr("class").replace("person pe","").replace(" on","");i.addClass("on"),t.eq(s-1).addClass("on"),o.click(function(){s-=1,e()}),n.click(function(){s+=1,e()}),t.click(function(){s=$(this).index()+1,e()})}function l(e){FB.ui({method:"feed",name:b.sharetitle,caption:"",description:b.sharedes,display:"popup",link:e},function(e){})}function r(e){FB.ui({method:"feed",name:b.sharetitle,caption:"",description:b.sharedes,display:"popup",link:"https://ml-andy.github.io/samsung/andy/index.html",picture:"http://img.youtube.com/vi/bRhpkp1_qEI/0.jpg",source:"https://www.youtube.com/v/bRhpkp1_qEI?version=3&autohide=1&autoplay=1",type:"video"},function(e){})}function u(e,o,n){b.video=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{controls:0,autoplay:n,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:d}})}function d(){b.video.seekTo(1).pauseVideo(),h(!1)}function h(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function c(e){if(b.mobile){var o=e.offset().top-$(".break_top_bar").offset().top+.75*e.height();if(b.blue_line==o)return;b.blue_line=o;var n;0==e.index()?n=.5*e.height()/16*33:1==e.index()?n=.5*e.height()/16*107:2==e.index()?n=.5*e.height()/16*84:3==e.index()?n=.5*e.height()/16*69:4==e.index()?n=.5*e.height()/16*68:5==e.index()&&(n=.5*e.height()/16*118),$(".blue_line").animate({top:b.blue_line,width:n},b.blue_line_speed)}else{if(b.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;b.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:b.blue_line,width:e.width()},b.blue_line_speed)}}var b={wrp:$(".break_wrapper"),touchvalueY:25,touchvalueX:.4*$(window).width(),blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/olympics/",sharetitle:"突破極限之巔 - 2016里約奧運代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運代表隊，你們辛苦了！"};if($(window).width()<=640?b.mobile=!0:b.mobile=!1,b.wrp.hasClass("index")){var p,m,f;p=document.getElementById("canvas"),f=new lib.inedx,m=new createjs.Stage(p),m.addChild(f),m.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",m),b.mobile||(b.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),b.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:b.FBAppId,channelUrl:b.mainurl,status:!0,xfbml:!0,cookie:!0}),$(".break_top_bar .logo").css("opacity",0),b.mobile&&$(".break_top_barin").addClass("index")}else b.wrp.hasClass("hero")&&(FB.init({appId:b.FBAppId,channelUrl:b.mainurl,status:!0,xfbml:!0,cookie:!0}),b.mobile&&($(".hero_box").bind("touchstart",function(o){o=o.originalEvent.touches[0],$(".hero_box").bind("touchmove",e),b.heromouseX=o.pageX,b.heromouseY=o.pageY}),$(".hero_box").bind("touchend",function(o){$(".hero_box").unbind("touchmove",e),i()})));$(".logo").click(function(){b.wrp.hasClass("index")||(window.location.href="index.html")}),$(".chatbtn").click(function(){window.open("whatsapp://send?text="+window.location.href)}),$(".linebtn").click(function(){window.open("//line.me/R/msg/text/?"+b.sharetitle+"，"+b.sharedes+window.location.href+"　","_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=400")}),$(window).on("touchmove",function(e){b.mobile&&$(".break_top_bar").hasClass("on")&&$(".break_top_bar").addClass("on_end").css("height",$(window).height()+100)}),$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on_end").removeClass("on"),t(!1)):(e.addClass("on"),t(!0))}),$(".hero_box .fbshare").click(function(){l(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){r("https://ml-andy.github.io/samsung/andy/video.html")}),$(".videoctrl").click(function(){b.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){c($(this)),b.mobile||(6==$(this).index()?b.sub.stop().fadeIn():b.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(b.blue_linetimeout)}),$(".menu").mouseout(function(){a()}),b.sub.mousemove(function(){clearTimeout(b.blue_linetimeout)}),b.sub.mouseover(function(){b.mobile||b.sub.hasClass("on")||b.sub.stop().addClass("on").fadeIn()}),b.sub.mouseout(function(){a(),b.mobile||b.sub.hasClass("on")&&b.sub.stop().removeClass("on").fadeOut()}),window.onorientationchange=n,$(window).load(o)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhlcm90b3VjaG1vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJvIiwiaGVyb21vdXNlWF9lbmQiLCJwYWdlWCIsImhlcm9tb3VzZVlfZW5kIiwicGFnZVkiLCJ3aW5kb3dMb2FkIiwid3JwIiwiaGFzQ2xhc3MiLCJibHVlX2xpbmVpbml0IiwiZXEiLCJjcmVhdGVWaWRlbyIsInZpZGVvSUQiLCJfcmFuZG9tIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwic2hvdyIsIm1vYmlsZSIsIm1DdXN0b21TY3JvbGxiYXIiLCJzY3JvbGxJbmVydGlhIiwic2Nyb2xsRWFzaW5nIiwic2hvd2xvYWRpbmciLCJpIiwibGVuZ3RoIiwiZmluZCIsImVhY2giLCJoZXJvX2JveGZjIiwiYmx1ZV9saW5lIiwicmVhZERldmljZU9yaWVudGF0aW9uIiwiYWJzIiwid2luZG93Iiwib3JpZW50YXRpb24iLCJmYWRlSW4iLCJmYWRlT3V0IiwiY2hlY2tIZXJvIiwiX3kiLCJoZXJvbW91c2VZIiwiX3giLCJoZXJvbW91c2VYIiwidG91Y2h2YWx1ZVkiLCJ0b3VjaHZhbHVlWCIsIm5vd251bSIsImF0dHIiLCJyZXBsYWNlIiwibG9jYXRpb24iLCJocmVmIiwic2hvd21lbnUiLCJfdCIsInJlbW92ZUNsYXNzIiwic3RvcCIsImFuaW1hdGUiLCJvcGFjaXR5IiwiY3NzIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJtZW51bW91c2VPdXQiLCJibHVlX2xpbmV0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNoYW5nZWhlcm8iLCJfbWF4IiwibGVmdGJ0biIsInRoaXMiLCJyaWdodGJ0biIsInBlcnNvbiIsImJ0IiwiY2xpY2siLCJpbmRleCIsInNoYXJlRmIiLCJfbGluayIsIkZCIiwidWkiLCJtZXRob2QiLCJuYW1lIiwic2hhcmV0aXRsZSIsImNhcHRpb24iLCJkZXNjcmlwdGlvbiIsInNoYXJlZGVzIiwiZGlzcGxheSIsImxpbmsiLCJyZXNwb25zZSIsInNoYXJlRmJ2aWRlbyIsInBpY3R1cmUiLCJzb3VyY2UiLCJ0eXBlIiwiX28iLCJfaWQiLCJfYXV0b3BsYXkiLCJ2aWRlbyIsIllUIiwiUGxheWVyIiwid2lkdGgiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImNvbnRyb2xzIiwiYXV0b3BsYXkiLCJlbmFibGVqc2FwaSIsImhkIiwicmVsIiwic2hvd2luZm8iLCJtb2Rlc3RicmFuZGluZyIsImNjX2xvYWRfcG9saWN5Iiwid21vZGUiLCJldmVudHMiLCJvblJlYWR5IiwidmlkZW9SZWFkeSIsInNlZWtUbyIsInBhdXNlVmlkZW8iLCJfdG9wIiwib2Zmc2V0IiwidG9wIiwiX3dpZHRoIiwiYmx1ZV9saW5lX3NwZWVkIiwibGVmdCIsInZpZGVvbGluayIsInN1YiIsIkZCQXBwSWQiLCJtYWludXJsIiwiY2FudmFzIiwic3RhZ2UiLCJleHBvcnRSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJsaWIiLCJpbmVkeCIsImNyZWF0ZWpzIiwiU3RhZ2UiLCJhZGRDaGlsZCIsInVwZGF0ZSIsIlRpY2tlciIsInNldEZQUyIsInByb3BlcnRpZXMiLCJmcHMiLCJhZGRFdmVudExpc3RlbmVyIiwiUGFyYWxsYXgiLCJQYXJhbGxheDIiLCJpbml0IiwiYXBwSWQiLCJjaGFubmVsVXJsIiwic3RhdHVzIiwieGZibWwiLCJjb29raWUiLCJiaW5kIiwidW5iaW5kIiwib3BlbiIsIm9uIiwiX3RoIiwicGFyZW50IiwicGxheVZpZGVvIiwibW91c2VvdmVyIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJvbm9yaWVudGF0aW9uY2hhbmdlIiwibG9hZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0E2RGYsUUFBU0MsR0FBY0MsR0FDdEJBLEVBQUlBLEVBQUVDLGNBQWNDLFFBQVEsR0FDNUJDLEVBQUVDLGVBQWlCSixFQUFFSyxNQUNyQkYsRUFBRUcsZUFBaUJOLEVBQUVPLE1BOEV4QixRQUFTQyxLQUNSLEdBQUdMLEVBQUVNLElBQUlDLFNBQVMsU0FBUyxDQUcxQlAsRUFBRVEsY0FBY2YsRUFBRSxVQUFVZ0IsR0FBRyxHQUMvQkMsRUFBWSxTQUFTVixFQUFFVyxTQUFRLEVBQy9CLElBQUlDLEdBQVVDLEtBQUtDLE1BQW9CLEVBQWRELEtBQUtFLFNBQzlCdEIsR0FBRSwrQkFBK0JnQixHQUFHRyxHQUFTSSxXQUV4QyxJQUFHaEIsRUFBRU0sSUFBSUMsU0FBUyxRQUd2QlAsRUFBRVEsY0FBY2YsRUFBRSxVQUFVZ0IsR0FBRyxHQUMzQlQsRUFBRWlCLFFBQVF4QixFQUFFLHdCQUF3QnlCLGtCQUFrQkMsY0FBYyxJQUFJQyxhQUFhLFdBQ3pGQyxHQUFZLE9BRVAsSUFBR3JCLEVBQUVNLElBQUlDLFNBQVMsUUFBUSxDQUkvQixHQURBUCxFQUFFUSxjQUFjZixFQUFFLFVBQVVnQixHQUFHLElBQzNCVCxFQUFFaUIsT0FDTCxJQUFJLEdBQUlLLEdBQUUsRUFBRUEsRUFBRTdCLEVBQUUscUJBQXFCOEIsT0FBT0QsSUFDM0M3QixFQUFFLHFCQUFxQmdCLEdBQUdhLEdBQUdFLEtBQUssTUFBTU4sa0JBQWtCQyxjQUFjLElBQUlDLGFBQWEsVUFHM0YzQixHQUFFLGFBQWFnQyxLQUFLQyxHQUNwQkwsR0FBWSxHQUViTSxFQUFVM0IsRUFBRVEsZUFJYixRQUFTb0IsS0FDK0IsSUFBaENmLEtBQUtnQixJQUFJQyxPQUFPQyxhQUVoQnRDLEVBQUUsdUJBQXVCdUMsU0FHNUJ2QyxFQUFFLHVCQUF1QndDLFVBRzlCLFFBQVNDLEtBQ1IsR0FBSUMsR0FBS3RCLEtBQUtnQixJQUFLN0IsRUFBRUcsZUFBaUJILEVBQUVvQyxZQUNwQ0MsRUFBS3JDLEVBQUVDLGVBQWlCRCxFQUFFc0MsVUFDOUIsTUFBR0gsR0FBTW5DLEVBQUV1QyxhQUVQMUIsS0FBS2dCLElBQUlRLElBQUtyQyxFQUFFd0MsYUFBbkIsQ0FFQSxHQUFJQyxHQUE2RSxFQUFyRWhELEVBQUUsV0FBV2lELEtBQUssU0FBU0MsUUFBUSxZQUFZLElBQUlBLFFBQVEsTUFBTSxHQUNwRUYsR0FBTkosRUFBRyxFQUFtQixFQUFQSSxFQUFXLEVBQ1IsRUFBUEEsRUFBVyxFQUN0QkEsRUFBTyxFQUFHQSxFQUFPLEVBQ1pBLEVBQU8sSUFBR0EsRUFBTyxHQUN6QlgsT0FBT2MsU0FBU0MsS0FBTyxPQUFPSixFQUFPLFNBR3ZDLFFBQVNLLEdBQVNDLEdBQ2RBLEdBQ0MvQyxFQUFFTSxJQUFJQyxTQUFTLFdBQ2pCZCxFQUFFLG9CQUFvQnVELFlBQVksU0FDbEN2RCxFQUFFLDBCQUEwQndELE9BQU9DLFNBQVNDLFFBQVUsR0FBRyxNQUUxRDFELEVBQUUsa0JBQWtCMkQsSUFBSSxTQUFTM0QsRUFBRXFDLFFBQVF1QixVQUFVQyxTQUFTLFFBRTNEdEQsRUFBRU0sSUFBSUMsU0FBUyxXQUNqQmQsRUFBRSxvQkFBb0I2RCxTQUFTLFNBQy9CN0QsRUFBRSwwQkFBMEJ3RCxPQUFPQyxTQUFTQyxRQUFVLEdBQUcsTUFFMUQxRCxFQUFFLGtCQUFrQmlELEtBQUssUUFBUSxJQUFJTSxZQUFZLE9BR25ELFFBQVNPLEtBQ1J2RCxFQUFFd0QsaUJBQW1CQyxXQUFXLFdBQy9CQyxhQUFhMUQsRUFBRXdELGtCQUNmN0IsRUFBVTNCLEVBQUVRLGdCQUNYLE1BRUgsUUFBU2tCLEtBc0JSLFFBQVNpQyxLQUNMbEIsRUFBTyxFQUFHQSxFQUFPbUIsRUFDWm5CLEVBQU9tQixJQUFNbkIsRUFBTyxHQUM1QlgsT0FBT2MsU0FBU0MsS0FBTyxPQUFPSixFQUFPLFFBeEJ0QyxHQUFJb0IsR0FBVXBFLEVBQUVxRSxNQUFNdEMsS0FBSyxZQUMxQnVDLEVBQVd0RSxFQUFFcUUsTUFBTXRDLEtBQUssYUFDeEJ3QyxFQUFTdkUsRUFBRXFFLE1BQU10QyxLQUFLLFdBQ3RCeUMsRUFBS3hFLEVBQUVxRSxNQUFNdEMsS0FBSyxRQUFRQSxLQUFLLE9BQy9Cb0MsRUFBTyxFQUNQbkIsRUFBdUUsRUFBL0R1QixFQUFPdEIsS0FBSyxTQUFTQyxRQUFRLFlBQVksSUFBSUEsUUFBUSxNQUFNLEdBRXBFcUIsR0FBT1YsU0FBUyxNQUNoQlcsRUFBR3hELEdBQUdnQyxFQUFPLEdBQUdhLFNBQVMsTUFDekJPLEVBQVFLLE1BQU0sV0FDYnpCLEdBQVEsRUFDUmtCLE1BRURJLEVBQVNHLE1BQU0sV0FDZHpCLEdBQVEsRUFDUmtCLE1BRURNLEVBQUdDLE1BQU0sV0FDUnpCLEVBQVNoRCxFQUFFcUUsTUFBTUssUUFBVSxFQUMzQlIsTUFRRixRQUFTUyxHQUFRQyxHQUNWQyxHQUFHQyxJQUNDQyxPQUFRLE9BQ1JDLEtBQU16RSxFQUFFMEUsV0FDUkMsUUFBUyxHQUNUQyxZQUFhNUUsRUFBRTZFLFNBQ2ZDLFFBQVEsUUFDUkMsS0FBTVYsR0FDTCxTQUFTVyxNQUlsQixRQUFTQyxHQUFhWixHQUNsQkMsR0FBR0MsSUFDQ0MsT0FBUSxPQUNSQyxLQUFNekUsRUFBRTBFLFdBQ1JDLFFBQVMsR0FDVEMsWUFBYTVFLEVBQUU2RSxTQUNmQyxRQUFRLFFBQ1JDLEtBQU0sb0RBQ05HLFFBQVMsOENBQ1pDLE9BQU8sd0VBQ1BDLEtBQU0sU0FDRixTQUFTSixNQUlyQixRQUFTdEUsR0FBWTJFLEVBQUdDLEVBQUlDLEdBQ3JCdkYsRUFBRXdGLE1BQVEsR0FBSUMsSUFBR0MsT0FBT0wsR0FDdEJoQyxPQUFRLE9BQ1JzQyxNQUFPLE9BQ1BDLFFBQVNOLEVBQ1RPLFlBQ0VDLFNBQVcsRUFDWEMsU0FBV1IsRUFDWFMsWUFBYyxJQUNkQyxHQUFLLElBQ0xDLElBQU0sSUFDTkMsU0FBVyxJQUNYQyxlQUFpQixJQUNqQkMsZUFBaUIsSUFDakJDLE1BQVEsZUFFVkMsUUFDREMsUUFBV0MsS0FJaEIsUUFBU0EsS0FDUnpHLEVBQUV3RixNQUFNa0IsT0FBTyxHQUFHQyxhQUNsQnRGLEdBQVksR0FFaEIsUUFBU0EsR0FBWTBCLEdBQ2pCQSxFQUNGdEQsRUFBRSxrQkFBa0J1QyxTQUVwQnZDLEVBQUUsa0JBQWtCd0MsVUFHdEIsUUFBU04sR0FBVTBELEdBQ2xCLEdBQUdyRixFQUFFaUIsT0FBTyxDQUNYLEdBQUkyRixHQUFPdkIsRUFBR3dCLFNBQVNDLElBQU1ySCxFQUFFLGtCQUFrQm9ILFNBQVNDLElBQWtCLElBQVp6QixFQUFHaEMsUUFDbkUsSUFBR3JELEVBQUUyQixXQUFXaUYsRUFBTSxNQUN0QjVHLEdBQUUyQixVQUFZaUYsQ0FDZCxJQUFJRyxFQUNXLElBQVoxQixFQUFHbEIsUUFBWTRDLEVBQXFCLEdBQVoxQixFQUFHaEMsU0FBZSxHQUFLLEdBQzlCLEdBQVpnQyxFQUFHbEIsUUFBWTRDLEVBQXFCLEdBQVoxQixFQUFHaEMsU0FBZSxHQUFLLElBQ25DLEdBQVpnQyxFQUFHbEIsUUFBWTRDLEVBQXFCLEdBQVoxQixFQUFHaEMsU0FBZSxHQUFLLEdBQ25DLEdBQVpnQyxFQUFHbEIsUUFBWTRDLEVBQXFCLEdBQVoxQixFQUFHaEMsU0FBZSxHQUFLLEdBQ25DLEdBQVpnQyxFQUFHbEIsUUFBWTRDLEVBQXFCLEdBQVoxQixFQUFHaEMsU0FBZSxHQUFLLEdBQ25DLEdBQVpnQyxFQUFHbEIsVUFBWTRDLEVBQXFCLEdBQVoxQixFQUFHaEMsU0FBZSxHQUFLLEtBQ3ZENUQsRUFBRSxjQUFjeUQsU0FBUzRELElBQU05RyxFQUFFMkIsVUFBVWdFLE1BQVFvQixHQUFRL0csRUFBRWdILHFCQUN6RCxDQUNKLEdBQUdoSCxFQUFFMkIsV0FBWTBELEVBQUd3QixTQUFTSSxLQUFPeEgsRUFBRSxvQkFBb0JvSCxTQUFTSSxLQUFPLE1BQzFFakgsR0FBRTJCLFVBQVkwRCxFQUFHd0IsU0FBU0ksS0FBT3hILEVBQUUsb0JBQW9Cb0gsU0FBU0ksS0FDaEV4SCxFQUFFLGNBQWN5RCxTQUFTK0QsS0FBT2pILEVBQUUyQixVQUFVZ0UsTUFBUU4sRUFBR00sU0FBUzNGLEVBQUVnSCxrQkEvVHBFLEdBQUloSCxJQUNITSxJQUFLYixFQUFFLGtCQUNQOEMsWUFBYSxHQUNiQyxZQUErQixHQUFsQi9DLEVBQUVxQyxRQUFRNkQsUUFDdkJxQixnQkFBaUIsSUFDakJyRyxRQUFTLGNBQ1R1RyxVQUFXLDhDQUNYQyxJQUFLMUgsRUFBRSx1QkFDUDJILFFBQVMsbUJBQ1RDLFFBQVMsZ0RBQ1QzQyxXQUFZLDhCQUNaRyxTQUFVLHdDQU1YLElBSEdwRixFQUFFcUMsUUFBUTZELFNBQVMsSUFBSzNGLEVBQUVpQixRQUFTLEVBQ2pDakIsRUFBRWlCLFFBQVMsRUFFYmpCLEVBQUVNLElBQUlDLFNBQVMsU0FBUyxDQUMxQixHQUFJK0csR0FBUUMsRUFBT0MsQ0FDbkJGLEdBQVM1SCxTQUFTK0gsZUFBZSxVQUNqQ0QsRUFBYSxHQUFJRSxLQUFJQyxNQUNyQkosRUFBUSxHQUFJSyxVQUFTQyxNQUFNUCxHQUMzQkMsRUFBTU8sU0FBU04sR0FDZkQsRUFBTVEsU0FDTkgsU0FBU0ksT0FBT0MsT0FBT1AsSUFBSVEsV0FBV0MsS0FDdENQLFNBQVNJLE9BQU9JLGlCQUFpQixPQUFRYixHQUNyQ3ZILEVBQUVpQixTQUNMakIsRUFBRXFJLFNBQVcsR0FBSUEsVUFBUzNJLFNBQVMrSCxlQUFlLHNCQUNsRHpILEVBQUVzSSxVQUFZLEdBQUlELFVBQVMzSSxTQUFTK0gsZUFBZSx1QkFFcERuRCxHQUFHaUUsTUFDSUMsTUFBYXhJLEVBQUVvSCxRQUNmcUIsV0FBYXpJLEVBQUVxSCxRQUNmcUIsUUFBYSxFQUNiQyxPQUFhLEVBQ2JDLFFBQWEsSUFFakJuSixFQUFFLHdCQUF3QjJELElBQUksVUFBVSxHQUNyQ3BELEVBQUVpQixRQUFReEIsRUFBRSxvQkFBb0I2RCxTQUFTLGFBQ3ZDdEQsR0FBRU0sSUFBSUMsU0FBUyxVQUN2QitELEdBQUdpRSxNQUNJQyxNQUFheEksRUFBRW9ILFFBQ2ZxQixXQUFhekksRUFBRXFILFFBQ2ZxQixRQUFhLEVBQ2JDLE9BQWEsRUFDYkMsUUFBYSxJQUVkNUksRUFBRWlCLFNBQ0p4QixFQUFFLGFBQWFvSixLQUFLLGFBQWEsU0FBU2hKLEdBQzVDQSxFQUFJQSxFQUFFQyxjQUFjQyxRQUFRLEdBQzVCTixFQUFFLGFBQWFvSixLQUFLLFlBQVlqSixHQUNoQ0ksRUFBRXNDLFdBQWF6QyxFQUFFSyxNQUNqQkYsRUFBRW9DLFdBQWF2QyxFQUFFTyxRQUVsQlgsRUFBRSxhQUFhb0osS0FBSyxXQUFXLFNBQVNoSixHQUN2Q0osRUFBRSxhQUFhcUosT0FBTyxZQUFZbEosR0FDbENzQyxPQVdIekMsR0FBRSxTQUFTeUUsTUFBTSxXQUNabEUsRUFBRU0sSUFBSUMsU0FBUyxXQUFVdUIsT0FBT2MsU0FBU0MsS0FBTyxnQkFFckRwRCxFQUFFLFlBQVl5RSxNQUFNLFdBQ25CcEMsT0FBT2lILEtBQUssd0JBQXdCakgsT0FBT2MsU0FBU0MsUUFFckRwRCxFQUFFLFlBQVl5RSxNQUFNLFdBQ25CcEMsT0FBT2lILEtBQUsseUJBQXlCL0ksRUFBRTBFLFdBQVcsSUFBSTFFLEVBQUU2RSxTQUFVL0MsT0FBT2MsU0FBU0MsS0FBTSxJQUFJLFNBQVUsMEZBRXZHcEQsRUFBRXFDLFFBQVFrSCxHQUFHLFlBQVksU0FBU25KLEdBQzlCRyxFQUFFaUIsUUFDRHhCLEVBQUUsa0JBQWtCYyxTQUFTLE9BQy9CZCxFQUFFLGtCQUFrQjZELFNBQVMsVUFBVUYsSUFBSSxTQUFTM0QsRUFBRXFDLFFBQVF1QixTQUFTLE9BSTFFNUQsRUFBRSxXQUFXeUUsTUFBTSxXQUNsQixHQUFJK0UsR0FBTXhKLEVBQUVxRSxNQUFNb0YsU0FBU0EsUUFDeEJELEdBQUkxSSxTQUFTLE9BQ2YwSSxFQUFJakcsWUFBWSxVQUFVQSxZQUFZLE1BQ3RDRixHQUFTLEtBRVRtRyxFQUFJM0YsU0FBUyxNQUNiUixHQUFTLE1BR1hyRCxFQUFFLHNCQUFzQnlFLE1BQU0sV0FDN0JFLEVBQVF0QyxPQUFPYyxTQUFTQyxRQUV6QnBELEVBQUUsZ0NBQWdDeUUsTUFBTSxXQUN2Q2UsRUFBYSx1REFFZHhGLEVBQUUsY0FBY3lFLE1BQU0sV0FDckJsRSxFQUFFd0YsTUFBTTJELFlBQ1IxSixFQUFFLGNBQWN3QyxZQUVqQnhDLEVBQUUsVUFBVTJKLFVBQVUsV0FDckJ6SCxFQUFVbEMsRUFBRXFFLE9BQ1I5RCxFQUFFaUIsU0FDZSxHQUFqQnhCLEVBQUVxRSxNQUFNSyxRQUNWbkUsRUFBRW1ILElBQUlsRSxPQUFPakIsU0FFYmhDLEVBQUVtSCxJQUFJbEUsT0FBT2hCLGFBSWhCeEMsRUFBRSxTQUFTNEosVUFBVSxXQUNwQjNGLGFBQWExRCxFQUFFd0Qsb0JBRWhCL0QsRUFBRSxTQUFTNkosU0FBUyxXQUNuQi9GLE1BRUR2RCxFQUFFbUgsSUFBSWtDLFVBQVUsV0FDZjNGLGFBQWExRCxFQUFFd0Qsb0JBRWhCeEQsRUFBRW1ILElBQUlpQyxVQUFVLFdBQ1hwSixFQUFFaUIsUUFDRGpCLEVBQUVtSCxJQUFJNUcsU0FBUyxPQUNsQlAsRUFBRW1ILElBQUlsRSxPQUFPSyxTQUFTLE1BQU10QixXQUkvQmhDLEVBQUVtSCxJQUFJbUMsU0FBUyxXQUNkL0YsSUFDSXZELEVBQUVpQixRQUNGakIsRUFBRW1ILElBQUk1RyxTQUFTLE9BQ2pCUCxFQUFFbUgsSUFBSWxFLE9BQU9ELFlBQVksTUFBTWYsWUFJbENILE9BQU95SCxvQkFBc0IzSCxFQUM3Qm5DLEVBQUVxQyxRQUFRMEgsS0FBS25KIiwiZmlsZSI6ImNvbW1vbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG5cdC8vSW5pdFxyXG5cdHZhciBvID0ge1xyXG5cdFx0d3JwOiAkKCcuYnJlYWtfd3JhcHBlcicpLFxyXG5cdFx0dG91Y2h2YWx1ZVk6IDI1LFxyXG5cdFx0dG91Y2h2YWx1ZVg6ICQod2luZG93KS53aWR0aCgpKjAuNCxcclxuXHRcdGJsdWVfbGluZV9zcGVlZDogMTAwLFxyXG5cdFx0dmlkZW9JRDogJ2JSaHBrcDFfcUVJJyxcclxuXHRcdHZpZGVvbGluazogJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9YlJocGtwMV9xRUknLFxyXG5cdFx0c3ViOiAkKCcuYnJlYWtfdG9wX2JhciAuc3ViJyksXHJcblx0XHRGQkFwcElkOiAnMTMwMTk3MzgyMzE1MDk4OCcsXHJcblx0XHRtYWludXJsOiAnaHR0cDovL3d3dy5zYW1zdW5nLmNvbS90dy9jYW1wYWlnbnMvb2x5bXBpY3MvJyxcclxuXHRcdHNoYXJldGl0bGU6ICfnqoHnoLTmpbXpmZDkuYvlt5QgLSAyMDE26YeM57SE5aWn6YGL5Luj6KGo6ZqKIOisneisneS9oOeahOWKquWKmycsXHJcblx0XHRzaGFyZWRlczogJ+eXm+iLpuacg+mBjuWOu++8jOamruiAgOWwh+eVmeS4i+isneisneS9oOeahOWKquWKm++8jDIwMTYg6YeM57SE5aWn6YGL5Luj6KGo6ZqK77yM5L2g5YCR6L6b6Ium5LqG77yBJ1xyXG5cdH07XHJcblxyXG5cdGlmKCQod2luZG93KS53aWR0aCgpPD02NDApIG8ubW9iaWxlID0gdHJ1ZTtcclxuXHRlbHNlIG8ubW9iaWxlID0gZmFsc2U7XHJcblxyXG5cdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdHZhciBjYW52YXMsIHN0YWdlLCBleHBvcnRSb290O1xyXG5cdFx0Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcblx0XHRleHBvcnRSb290ID0gbmV3IGxpYi5pbmVkeCgpO1xyXG5cdFx0c3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoY2FudmFzKTtcclxuXHRcdHN0YWdlLmFkZENoaWxkKGV4cG9ydFJvb3QpO1xyXG5cdFx0c3RhZ2UudXBkYXRlKCk7XHJcblx0XHRjcmVhdGVqcy5UaWNrZXIuc2V0RlBTKGxpYi5wcm9wZXJ0aWVzLmZwcyk7XHJcblx0XHRjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgc3RhZ2UpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0by5QYXJhbGxheCA9IG5ldyBQYXJhbGxheChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWtfcGFnZV9wZzFfa3YnKSk7XHJcblx0XHRcdG8uUGFyYWxsYXgyID0gbmV3IFBhcmFsbGF4KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha19wYWdlX3BnMV9iZycpKTtcclxuXHRcdH1cclxuXHRcdEZCLmluaXQoe1xyXG5cdCAgICAgICAgYXBwSWQgICAgICA6IG8uRkJBcHBJZCxcclxuXHQgICAgICAgIGNoYW5uZWxVcmwgOiBvLm1haW51cmwsXHJcblx0ICAgICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgY29va2llICAgICA6IHRydWVcclxuXHQgICAgfSk7XHJcblx0ICAgICQoJy5icmVha190b3BfYmFyIC5sb2dvJykuY3NzKCdvcGFjaXR5JywwKTtcclxuXHQgICAgaWYoby5tb2JpbGUpICQoJy5icmVha190b3BfYmFyaW4nKS5hZGRDbGFzcygnaW5kZXgnKTtcclxuXHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygnaGVybycpKXtcclxuXHRcdEZCLmluaXQoe1xyXG5cdCAgICAgICAgYXBwSWQgICAgICA6IG8uRkJBcHBJZCxcclxuXHQgICAgICAgIGNoYW5uZWxVcmwgOiBvLm1haW51cmwsXHJcblx0ICAgICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgY29va2llICAgICA6IHRydWVcclxuXHQgICAgfSk7XHJcblx0ICAgIGlmKG8ubW9iaWxlKXtcclxuXHQgICAgXHQkKCcuaGVyb19ib3gnKS5iaW5kKCd0b3VjaHN0YXJ0JyxmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRlID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XHJcblx0XHRcdFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2htb3ZlJyxoZXJvdG91Y2htb3ZlKTtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVggPSBlLnBhZ2VYO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWSA9IGUucGFnZVk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkKCcuaGVyb19ib3gnKS5iaW5kKCd0b3VjaGVuZCcsZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0JCgnLmhlcm9fYm94JykudW5iaW5kKCd0b3VjaG1vdmUnLGhlcm90b3VjaG1vdmUpO1xyXG5cdFx0XHRcdGNoZWNrSGVybygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0ZnVuY3Rpb24gaGVyb3RvdWNobW92ZShlKXtcclxuXHRcdFx0XHRlID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XHJcblx0XHRcdFx0by5oZXJvbW91c2VYX2VuZCA9IGUucGFnZVg7XHJcblx0XHRcdFx0by5oZXJvbW91c2VZX2VuZCA9IGUucGFnZVk7XHJcblx0XHRcdH1cclxuXHQgICAgfVxyXG5cdH1cclxuXHJcblx0Ly9BZGRsaXN0ZW5lclxyXG5cdCQoJy5sb2dvJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdGlmKCFvLndycC5oYXNDbGFzcygnaW5kZXgnKSkgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaW5kZXguaHRtbCc7XHJcblx0fSk7XHJcblx0JCgnLmNoYXRidG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0d2luZG93Lm9wZW4oXCJ3aGF0c2FwcDovL3NlbmQ/dGV4dD1cIit3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblx0fSk7XHJcblx0JCgnLmxpbmVidG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0d2luZG93Lm9wZW4oXCIvL2xpbmUubWUvUi9tc2cvdGV4dC8/XCIrby5zaGFyZXRpdGxlK1wi77yMXCIrby5zaGFyZWRlcysgd2luZG93LmxvY2F0aW9uLmhyZWYgK1wi44CAXCIsJ19ibGFuaycsIFwidG9vbGJhcj15ZXMsIHNjcm9sbGJhcnM9eWVzLCByZXNpemFibGU9eWVzLCB0b3A9MTAwLCBsZWZ0PTUwMCwgd2lkdGg9NjAwLCBoZWlnaHQ9NDAwXCIpO1xyXG5cdH0pO1xyXG5cdCQod2luZG93KS5vbigndG91Y2htb3ZlJyxmdW5jdGlvbihlKXtcclxuXHRcdGlmKG8ubW9iaWxlKXtcclxuXHRcdFx0aWYoJCgnLmJyZWFrX3RvcF9iYXInKS5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5hZGRDbGFzcygnb25fZW5kJykuY3NzKCdoZWlnaHQnLCQod2luZG93KS5oZWlnaHQoKSsxMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLm1faWNvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgX3RoID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKTtcclxuXHRcdGlmKF90aC5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdF90aC5yZW1vdmVDbGFzcygnb25fZW5kJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcblx0XHRcdHNob3dtZW51KGZhbHNlKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRfdGguYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRcdHNob3dtZW51KHRydWUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQoJy5oZXJvX2JveCAuZmJzaGFyZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRzaGFyZUZiKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHR9KVxyXG5cdCQoJy5icmVha193cmFwcGVyIC5wZzIgLmZic2hhcmUnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0c2hhcmVGYnZpZGVvKFwiaHR0cHM6Ly9tbC1hbmR5LmdpdGh1Yi5pby9zYW1zdW5nL2FuZHkvdmlkZW8uaHRtbFwiKTtcclxuXHR9KTtcclxuXHQkKCcudmlkZW9jdHJsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdG8udmlkZW8ucGxheVZpZGVvKCk7XHJcblx0XHQkKCcudmlkZW9jdHJsJykuZmFkZU91dCgpO1xyXG5cdH0pO1xyXG5cdCQoJy5tZW51YScpLm1vdXNlb3ZlcihmdW5jdGlvbigpe1xyXG5cdFx0Ymx1ZV9saW5lKCQodGhpcykpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoJCh0aGlzKS5pbmRleCgpPT02KXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuZmFkZUluKCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5mYWRlT3V0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcubWVudScpLm1vdXNlbW92ZShmdW5jdGlvbigpe1xyXG5cdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0fSk7XHJcblx0JCgnLm1lbnUnKS5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0bWVudW1vdXNlT3V0KCk7XHJcblx0fSk7XHJcblx0by5zdWIubW91c2Vtb3ZlKGZ1bmN0aW9uKCl7XHJcblx0XHRjbGVhclRpbWVvdXQoby5ibHVlX2xpbmV0aW1lb3V0KTtcclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCFvLnN1Yi5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmFkZENsYXNzKCdvbicpLmZhZGVJbigpO1x0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0bWVudW1vdXNlT3V0KCk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZihvLnN1Yi5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLnJlbW92ZUNsYXNzKCdvbicpLmZhZGVPdXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHdpbmRvdy5vbm9yaWVudGF0aW9uY2hhbmdlID0gcmVhZERldmljZU9yaWVudGF0aW9uO1xyXG5cdCQod2luZG93KS5sb2FkKHdpbmRvd0xvYWQpO1xyXG5cdGZ1bmN0aW9uIHdpbmRvd0xvYWQoKXtcclxuXHRcdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdFx0XHJcblx0XHRcdC8vKiBpbmRleCAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDApO1xyXG5cdFx0XHRjcmVhdGVWaWRlbygncGxheWVyJyxvLnZpZGVvSUQsZmFsc2UpO1xyXG5cdFx0XHR2YXIgX3JhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo0KTtcclxuXHRcdFx0JCgnLmJyZWFrX3dyYXBwZXIgLnBnMyAucGVyc29uJykuZXEoX3JhbmRvbSkuc2hvdygpO1xyXG5cclxuXHRcdH1lbHNlIGlmKG8ud3JwLmhhc0NsYXNzKCdydWxlJykpe1xyXG5cclxuXHRcdFx0Ly8qIHJ1bGUgKi8vXHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgzKTtcclxuXHRcdFx0aWYoIW8ubW9iaWxlKSAkKFwiLnJ1bGVfYm94IC5ydWxlX3dvcmRcIikubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcblx0XHRcdHNob3dsb2FkaW5nKGZhbHNlKTtcclxuXHJcblx0XHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygnaGVybycpKXtcclxuXHJcblx0XHRcdC8vKiBoZXJvICovL1xyXG5cdFx0XHRvLmJsdWVfbGluZWluaXQ9JCgnLm1lbnVhJykuZXEoMSk7XHJcblx0XHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdFx0Zm9yKHZhciBpPTA7aTwkKCcuaGVyb19ib3ggLnBlcnNvbicpLmxlbmd0aDtpKyspe1xyXG5cdFx0XHRcdFx0JCgnLmhlcm9fYm94IC5wZXJzb24nKS5lcShpKS5maW5kKCcudycpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQkKCcuaGVyb19ib3gnKS5lYWNoKGhlcm9fYm94ZmMpO1xyXG5cdFx0XHRzaG93bG9hZGluZyhmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRibHVlX2xpbmUoby5ibHVlX2xpbmVpbml0KTtcclxuXHR9XHJcblxyXG5cdC8vRXZlbnRcclxuXHRmdW5jdGlvbiByZWFkRGV2aWNlT3JpZW50YXRpb24oKSB7XHJcblx0ICAgIGlmIChNYXRoLmFicyh3aW5kb3cub3JpZW50YXRpb24pID09IDkwKSB7XHJcblx0ICAgICAgICAvLyBMYW5kc2NhcGVcclxuXHQgICAgICAgICQoJy5icmVha19tb2JpbGVfY292ZXInKS5mYWRlSW4oKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgXHQvLyBQb3J0cmFpdFxyXG5cdCAgICBcdCQoJy5icmVha19tb2JpbGVfY292ZXInKS5mYWRlT3V0KCk7XHJcblx0ICAgIH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gY2hlY2tIZXJvKCl7XHJcblx0XHR2YXIgX3kgPSBNYXRoLmFicyggby5oZXJvbW91c2VZX2VuZCAtIG8uaGVyb21vdXNlWSk7XHJcblx0XHR2YXIgX3ggPSBvLmhlcm9tb3VzZVhfZW5kIC0gby5oZXJvbW91c2VYO1xyXG5cdFx0aWYoX3kgPj0gby50b3VjaHZhbHVlWSkgcmV0dXJuO1xyXG5cdFx0ZWxzZXtcclxuXHRcdFx0aWYoTWF0aC5hYnMoX3gpPD1vLnRvdWNodmFsdWVYKSByZXR1cm47XHJcblxyXG5cdFx0XHR2YXIgbm93bnVtID0kKCcucGVyc29uJykuYXR0cignY2xhc3MnKS5yZXBsYWNlKCdwZXJzb24gcGUnLCcnKS5yZXBsYWNlKCcgb24nLCcnKSoxO1xyXG5cdFx0XHRpZihfeD4wKSBub3dudW0gPSBub3dudW0qMSAtIDE7XHJcblx0XHRcdGVsc2Ugbm93bnVtID0gbm93bnVtKjEgKyAxO1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPTU7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT41KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaG93bWVudShfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdFx0XHQkKCcuYnJlYWtfdG9wX2JhcmluJykucmVtb3ZlQ2xhc3MoJ2luZGV4Jyk7XHJcblx0XHRcdFx0JCgnLmJyZWFrX3RvcF9iYXJpbiAubG9nbycpLnN0b3AoKS5hbmltYXRlKHsnb3BhY2l0eSc6MX0sMzAwKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkKCcuYnJlYWtfdG9wX2JhcicpLmNzcygnaGVpZ2h0JywkKHdpbmRvdykuaGVpZ2h0KCkpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdFx0XHQkKCcuYnJlYWtfdG9wX2JhcmluJykuYWRkQ2xhc3MoJ2luZGV4Jyk7XHJcblx0XHRcdFx0JCgnLmJyZWFrX3RvcF9iYXJpbiAubG9nbycpLnN0b3AoKS5hbmltYXRlKHsnb3BhY2l0eSc6MH0sMzAwKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkKCcuYnJlYWtfdG9wX2JhcicpLmF0dHIoJ3N0eWxlJywnJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIG1lbnVtb3VzZU91dCgpe1xyXG5cdFx0by5ibHVlX2xpbmV0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoby5ibHVlX2xpbmV0aW1lb3V0KTtcclxuXHRcdFx0Ymx1ZV9saW5lKG8uYmx1ZV9saW5laW5pdCk7XHJcblx0XHR9LDE1MDApO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBoZXJvX2JveGZjKCl7XHJcblx0XHR2YXIgbGVmdGJ0biA9ICQodGhpcykuZmluZCgnLmxlZnRidG4nKSxcclxuXHRcdFx0cmlnaHRidG4gPSAkKHRoaXMpLmZpbmQoJy5yaWdodGJ0bicpLFxyXG5cdFx0XHRwZXJzb24gPSAkKHRoaXMpLmZpbmQoJy5wZXJzb24nKSxcclxuXHRcdFx0YnQgPSAkKHRoaXMpLmZpbmQoJy5zdWInKS5maW5kKCcuYnQnKSxcclxuXHRcdFx0X21heCA9IDUsXHJcblx0XHRcdG5vd251bSA9cGVyc29uLmF0dHIoJ2NsYXNzJykucmVwbGFjZSgncGVyc29uIHBlJywnJykucmVwbGFjZSgnIG9uJywnJykqMTtcclxuXHJcblx0XHRwZXJzb24uYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRidC5lcShub3dudW0tMSkuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRsZWZ0YnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bS09MTtcclxuXHRcdFx0Y2hhbmdlaGVybygpO1xyXG5cdFx0fSk7XHJcblx0XHRyaWdodGJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0rPTE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0YnQuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtID0gJCh0aGlzKS5pbmRleCgpICsgMTtcclxuXHRcdFx0Y2hhbmdlaGVybygpO1xyXG5cdFx0fSk7XHJcblx0XHRmdW5jdGlvbiBjaGFuZ2VoZXJvKCl7XHJcblx0XHRcdGlmKG5vd251bTwxKXtub3dudW09X21heDt9XHJcblx0XHRcdGVsc2UgaWYobm93bnVtPl9tYXgpe25vd251bT0xO31cclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaGVybycrbm93bnVtKycuaHRtbCc7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNoYXJlRmIoX2xpbmspe1xyXG4gICAgICAgIEZCLnVpKHsgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ2ZlZWQnLFxyXG4gICAgICAgICAgICBuYW1lOiBvLnNoYXJldGl0bGUsXHJcbiAgICAgICAgICAgIGNhcHRpb246IFwiXCIsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBvLnNoYXJlZGVzLFxyXG4gICAgICAgICAgICBkaXNwbGF5OlwicG9wdXBcIixcclxuICAgICAgICAgICAgbGluazogX2xpbmtcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIH0pOyAgICAgICAgXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzaGFyZUZidmlkZW8oX2xpbmspe1xyXG4gICAgICAgIEZCLnVpKHsgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ2ZlZWQnLFxyXG4gICAgICAgICAgICBuYW1lOiBvLnNoYXJldGl0bGUsXHJcbiAgICAgICAgICAgIGNhcHRpb246IFwiXCIsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBvLnNoYXJlZGVzLFxyXG4gICAgICAgICAgICBkaXNwbGF5OlwicG9wdXBcIixcclxuICAgICAgICAgICAgbGluazogXCJodHRwczovL21sLWFuZHkuZ2l0aHViLmlvL3NhbXN1bmcvYW5keS9pbmRleC5odG1sXCIsXHJcbiAgICAgICAgICAgIHBpY3R1cmU6IFwiaHR0cDovL2ltZy55b3V0dWJlLmNvbS92aS9iUmhwa3AxX3FFSS8wLmpwZ1wiLFxyXG5cdCAgICAgICAgc291cmNlOidodHRwczovL3d3dy55b3V0dWJlLmNvbS92L2JSaHBrcDFfcUVJP3ZlcnNpb249MyZhdXRvaGlkZT0xJmF1dG9wbGF5PTEnLFxyXG5cdCAgICAgICAgdHlwZTogJ3ZpZGVvJ1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgfSk7ICAgICAgICBcclxuICAgIH1cclxuXHRmdW5jdGlvbiBjcmVhdGVWaWRlbyhfbyxfaWQsX2F1dG9wbGF5KXtcclxuICAgICAgICBvLnZpZGVvID0gbmV3IFlULlBsYXllcihfbywge1xyXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgdmlkZW9JZDogX2lkLFxyXG4gICAgICAgICAgcGxheWVyVmFyczp7XHJcbiAgICAgICAgICAgICdjb250cm9scyc6MCxcclxuICAgICAgICAgICAgJ2F1dG9wbGF5JzpfYXV0b3BsYXksXHJcbiAgICAgICAgICAgICdlbmFibGVqc2FwaSc6JzAnLFxyXG4gICAgICAgICAgICAnaGQnOicxJyxcclxuICAgICAgICAgICAgJ3JlbCc6JzAnLFxyXG4gICAgICAgICAgICAnc2hvd2luZm8nOicwJyxcclxuICAgICAgICAgICAgJ21vZGVzdGJyYW5kaW5nJzonMScsXHJcbiAgICAgICAgICAgICdjY19sb2FkX3BvbGljeSc6JzEnLFxyXG4gICAgICAgICAgICAnd21vZGUnOid0cmFuc3BhcmVudCcgICAgICBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBldmVudHM6IHtcclxuXHQgICAgICAgICdvblJlYWR5JzogdmlkZW9SZWFkeVxyXG5cdCAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHZpZGVvUmVhZHkoKXtcclxuICAgIFx0by52aWRlby5zZWVrVG8oMSkucGF1c2VWaWRlbygpO1xyXG4gICAgXHRzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcblx0ZnVuY3Rpb24gc2hvd2xvYWRpbmcoX3Qpe1xyXG5cdFx0aWYoX3Qpe1xyXG5cdFx0XHQkKCcuYnJlYWtfbG9hZGluZycpLmZhZGVJbigpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdCQoJy5icmVha19sb2FkaW5nJykuZmFkZU91dCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBibHVlX2xpbmUoX28pe1xyXG5cdFx0aWYoby5tb2JpbGUpe1xyXG5cdFx0XHR2YXIgX3RvcCA9IF9vLm9mZnNldCgpLnRvcCAtICQoJy5icmVha190b3BfYmFyJykub2Zmc2V0KCkudG9wICsgX28uaGVpZ2h0KCkqMC43NTtcclxuXHRcdFx0aWYoby5ibHVlX2xpbmU9PV90b3Ape3JldHVybn1cclxuXHRcdFx0by5ibHVlX2xpbmUgPSBfdG9wO1xyXG5cdFx0XHR2YXIgX3dpZHRoO1xyXG5cdFx0XHRpZihfby5pbmRleCgpPT0wKSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDMzO1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTEpIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogMTA3O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTIpIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogODQ7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09MykgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiA2OTtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT00KSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDY4O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTUpIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogMTE4O1xyXG5cdFx0XHQkKCcuYmx1ZV9saW5lJykuYW5pbWF0ZSh7J3RvcCc6by5ibHVlX2xpbmUsJ3dpZHRoJzpfd2lkdGh9LG8uYmx1ZV9saW5lX3NwZWVkKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRpZihvLmJsdWVfbGluZT09KF9vLm9mZnNldCgpLmxlZnQgLSAkKCcuYnJlYWtfdG9wX2JhcmluJykub2Zmc2V0KCkubGVmdCkpe3JldHVybn1cclxuXHRcdFx0by5ibHVlX2xpbmUgPSBfby5vZmZzZXQoKS5sZWZ0IC0gJCgnLmJyZWFrX3RvcF9iYXJpbicpLm9mZnNldCgpLmxlZnQ7XHJcblx0XHRcdCQoJy5ibHVlX2xpbmUnKS5hbmltYXRlKHsnbGVmdCc6by5ibHVlX2xpbmUsJ3dpZHRoJzpfby53aWR0aCgpfSxvLmJsdWVfbGluZV9zcGVlZCk7XHJcblx0XHR9XHJcblx0fVxyXG4gIFxyXG59KS8vcmVhZHkgZW5kICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
