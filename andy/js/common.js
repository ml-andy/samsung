$(document).ready(function(){function e(){if(u.wrp.hasClass("index")){u.blue_lineinit=$(".menua").eq(0),a("player",u.videoID,!1);var e=Math.round(4*Math.random());console.log(e),$(".break_wrapper .pg3 .person").eq(e).show()}else if(u.wrp.hasClass("rule"))u.blue_lineinit=$(".menua").eq(3),$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),s(!1);else if(u.wrp.hasClass("hero")){u.blue_lineinit=$(".menua").eq(1);for(var n=0;n<$(".hero_box .person").length;n++)$(".hero_box .person").eq(n).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(o),s(!1)}r(u.blue_lineinit)}function n(e){e?$(".break_top_bar").addClass("on").css("height",$(window).height()):$(".break_top_bar").removeClass("on").attr("style","")}function i(){u.blue_linetimeout=setTimeout(function(){clearTimeout(u.blue_linetimeout),r(u.blue_lineinit)},1500)}function o(){function e(){l<1?l=a:l>a&&(l=1),window.location.href="hero"+l+".html"}var n=$(this).find(".leftbtn"),i=$(this).find(".rightbtn"),o=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,l=1*o.attr("class").replace("person pe","").replace(" on","");o.addClass("on"),t.eq(l-1).addClass("on"),n.click(function(){l-=1,e()}),i.click(function(){l+=1,e()}),t.click(function(){l=$(this).index()+1,e()})}function t(e){FB.ui({method:"feed",name:u.sharetitle,caption:"",description:u.sharedes,display:"popup",link:e},function(e){})}function a(e,n,i){u.video=new YT.Player(e,{height:"100%",width:"100%",videoId:n,playerVars:{controls:0,autoplay:i,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:l}})}function l(){u.video.seekTo(1).pauseVideo(),s(!1)}function s(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function r(e){if(u.mobile){var n=e.offset().top-$(".break_top_bar").offset().top+60;if(u.blue_line==n)return;u.blue_line=n;var i;0==e.index()?i=70:1==e.index()?i=224:2==e.index()?i=186:3==e.index()?i=146:4==e.index()?i=146:5==e.index()&&(i=260),$(".blue_line").animate({top:u.blue_line,width:i},u.blue_line_speed)}else{if(u.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;u.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:u.blue_line,width:e.width()},u.blue_line_speed)}}var u={wrp:$(".break_wrapper"),blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/2016olympics/index.html",sharetitle:"突破極限之巔 - 2016里約奧運台灣代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運台灣代表隊，你們辛苦了！"};if($(window).width()<=640?u.mobile=!0:u.mobile=!1,u.wrp.hasClass("index")){var d,c,b;d=document.getElementById("canvas"),b=new lib.firwork,c=new createjs.Stage(d),c.addChild(b),c.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",c),u.mobile||(u.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),u.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:u.FBAppId,channelUrl:u.mainurl,status:!0,xfbml:!0,cookie:!0})}else u.wrp.hasClass("hero")&&FB.init({appId:u.FBAppId,channelUrl:u.mainurl,status:!0,xfbml:!0,cookie:!0});$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on"),n(!1)):(e.addClass("on"),n(!0))}),$(".hero_box .fbshare").click(function(){t(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){t(u.videolink)}),$(".videoctrl").click(function(){u.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){r($(this)),u.mobile||(5==$(this).index()?u.sub.stop().fadeIn():u.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(u.blue_linetimeout)}),$(".menu").mouseout(function(){i()}),u.sub.mousemove(function(){clearTimeout(u.blue_linetimeout)}),u.sub.mouseover(function(){u.mobile||u.sub.hasClass("on")||u.sub.stop().addClass("on").fadeIn()}),u.sub.mouseout(function(){i(),u.mobile||u.sub.hasClass("on")&&u.sub.stop().removeClass("on").fadeOut()}),$(window).load(e)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndpbmRvd0xvYWQiLCJvIiwid3JwIiwiaGFzQ2xhc3MiLCJibHVlX2xpbmVpbml0IiwiZXEiLCJjcmVhdGVWaWRlbyIsInZpZGVvSUQiLCJfcmFuZG9tIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiY29uc29sZSIsImxvZyIsInNob3ciLCJtQ3VzdG9tU2Nyb2xsYmFyIiwic2Nyb2xsSW5lcnRpYSIsInNjcm9sbEVhc2luZyIsInNob3dsb2FkaW5nIiwiaSIsImxlbmd0aCIsImZpbmQiLCJlYWNoIiwiaGVyb19ib3hmYyIsImJsdWVfbGluZSIsInNob3dtZW51IiwiX3QiLCJhZGRDbGFzcyIsImNzcyIsIndpbmRvdyIsImhlaWdodCIsInJlbW92ZUNsYXNzIiwiYXR0ciIsIm1lbnVtb3VzZU91dCIsImJsdWVfbGluZXRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2hhbmdlaGVybyIsIm5vd251bSIsIl9tYXgiLCJsb2NhdGlvbiIsImhyZWYiLCJsZWZ0YnRuIiwidGhpcyIsInJpZ2h0YnRuIiwicGVyc29uIiwiYnQiLCJyZXBsYWNlIiwiY2xpY2siLCJpbmRleCIsInNoYXJlRmIiLCJfbGluayIsIkZCIiwidWkiLCJtZXRob2QiLCJuYW1lIiwic2hhcmV0aXRsZSIsImNhcHRpb24iLCJkZXNjcmlwdGlvbiIsInNoYXJlZGVzIiwiZGlzcGxheSIsImxpbmsiLCJyZXNwb25zZSIsIl9vIiwiX2lkIiwiX2F1dG9wbGF5IiwidmlkZW8iLCJZVCIsIlBsYXllciIsIndpZHRoIiwidmlkZW9JZCIsInBsYXllclZhcnMiLCJjb250cm9scyIsImF1dG9wbGF5IiwiZW5hYmxlanNhcGkiLCJoZCIsInJlbCIsInNob3dpbmZvIiwibW9kZXN0YnJhbmRpbmciLCJjY19sb2FkX3BvbGljeSIsIndtb2RlIiwiZXZlbnRzIiwib25SZWFkeSIsInZpZGVvUmVhZHkiLCJzZWVrVG8iLCJwYXVzZVZpZGVvIiwiZmFkZUluIiwiZmFkZU91dCIsIm1vYmlsZSIsIl90b3AiLCJvZmZzZXQiLCJ0b3AiLCJfd2lkdGgiLCJhbmltYXRlIiwiYmx1ZV9saW5lX3NwZWVkIiwibGVmdCIsInZpZGVvbGluayIsInN1YiIsIkZCQXBwSWQiLCJtYWludXJsIiwiY2FudmFzIiwic3RhZ2UiLCJleHBvcnRSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJsaWIiLCJmaXJ3b3JrIiwiY3JlYXRlanMiLCJTdGFnZSIsImFkZENoaWxkIiwidXBkYXRlIiwiVGlja2VyIiwic2V0RlBTIiwicHJvcGVydGllcyIsImZwcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJQYXJhbGxheCIsIlBhcmFsbGF4MiIsImluaXQiLCJhcHBJZCIsImNoYW5uZWxVcmwiLCJzdGF0dXMiLCJ4ZmJtbCIsImNvb2tpZSIsIl90aCIsInBhcmVudCIsInBsYXlWaWRlbyIsIm1vdXNlb3ZlciIsInN0b3AiLCJtb3VzZW1vdmUiLCJtb3VzZW91dCIsImxvYWQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBd0dqQixRQUFTQyxLQUNSLEdBQUdDLEVBQUVDLElBQUlDLFNBQVMsU0FBUyxDQUMxQkYsRUFBRUcsY0FBY1AsRUFBRSxVQUFVUSxHQUFHLEdBQy9CQyxFQUFZLFNBQVNMLEVBQUVNLFNBQVEsRUFDL0IsSUFBSUMsR0FBVUMsS0FBS0MsTUFBb0IsRUFBZEQsS0FBS0UsU0FDOUJDLFNBQVFDLElBQUlMLEdBQ1pYLEVBQUUsK0JBQStCUSxHQUFHRyxHQUFTTSxXQUN4QyxJQUFHYixFQUFFQyxJQUFJQyxTQUFTLFFBQ3ZCRixFQUFFRyxjQUFjUCxFQUFFLFVBQVVRLEdBQUcsR0FDL0JSLEVBQUUsd0JBQXdCa0Isa0JBQWtCQyxjQUFjLElBQUlDLGFBQWEsV0FDM0VDLEdBQVksT0FDUCxJQUFHakIsRUFBRUMsSUFBSUMsU0FBUyxRQUFRLENBQy9CRixFQUFFRyxjQUFjUCxFQUFFLFVBQVVRLEdBQUcsRUFDL0IsS0FB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LCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcblx0Ly9Jbml0XHJcblx0dmFyIG8gPSB7XHJcblx0XHR3cnA6ICQoJy5icmVha193cmFwcGVyJyksXHJcblx0XHRibHVlX2xpbmVfc3BlZWQ6IDEwMCxcclxuXHRcdHZpZGVvSUQ6ICdiUmhwa3AxX3FFSScsXHJcblx0XHR2aWRlb2xpbms6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWJSaHBrcDFfcUVJJyxcclxuXHRcdHN1YjogJCgnLmJyZWFrX3RvcF9iYXIgLnN1YicpLFxyXG5cdFx0RkJBcHBJZDogJzEzMDE5NzM4MjMxNTA5ODgnLFxyXG5cdFx0bWFpbnVybDogJ2h0dHA6Ly93d3cuc2Ftc3VuZy5jb20vdHcvY2FtcGFpZ25zLzIwMTZvbHltcGljcy9pbmRleC5odG1sJyxcclxuXHRcdHNoYXJldGl0bGU6ICfnqoHnoLTmpbXpmZDkuYvlt5QgLSAyMDE26YeM57SE5aWn6YGL5Y+w54Gj5Luj6KGo6ZqKIOisneisneS9oOeahOWKquWKmycsXHJcblx0XHRzaGFyZWRlczogJ+eXm+iLpuacg+mBjuWOu++8jOamruiAgOWwh+eVmeS4i+isneisneS9oOeahOWKquWKm++8jDIwMTYg6YeM57SE5aWn6YGL5Y+w54Gj5Luj6KGo6ZqK77yM5L2g5YCR6L6b6Ium5LqG77yBJ1xyXG5cdH07XHJcblxyXG5cdGlmKCQod2luZG93KS53aWR0aCgpPD02NDApIG8ubW9iaWxlID0gdHJ1ZTtcclxuXHRlbHNlIG8ubW9iaWxlID0gZmFsc2U7XHJcblxyXG5cdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdHZhciBjYW52YXMsIHN0YWdlLCBleHBvcnRSb290O1xyXG5cdFx0Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcblx0XHRleHBvcnRSb290ID0gbmV3IGxpYi5maXJ3b3JrKCk7XHJcblx0XHRzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShjYW52YXMpO1xyXG5cdFx0c3RhZ2UuYWRkQ2hpbGQoZXhwb3J0Um9vdCk7XHJcblx0XHRzdGFnZS51cGRhdGUoKTtcclxuXHRcdGNyZWF0ZWpzLlRpY2tlci5zZXRGUFMobGliLnByb3BlcnRpZXMuZnBzKTtcclxuXHRcdGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBzdGFnZSk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRvLlBhcmFsbGF4ID0gbmV3IFBhcmFsbGF4KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha19wYWdlX3BnMV9rdicpKTtcclxuXHRcdFx0by5QYXJhbGxheDIgPSBuZXcgUGFyYWxsYXgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrX3BhZ2VfcGcxX2JnJykpO1xyXG5cdFx0fVxyXG5cdFx0RkIuaW5pdCh7XHJcblx0ICAgICAgICBhcHBJZCAgICAgIDogby5GQkFwcElkLFxyXG5cdCAgICAgICAgY2hhbm5lbFVybCA6IG8ubWFpbnVybCxcclxuXHQgICAgICAgIHN0YXR1cyAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgeGZibWwgICAgICA6IHRydWUsXHJcblx0ICAgICAgICBjb29raWUgICAgIDogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygnaGVybycpKXtcclxuXHRcdEZCLmluaXQoe1xyXG5cdCAgICAgICAgYXBwSWQgICAgICA6IG8uRkJBcHBJZCxcclxuXHQgICAgICAgIGNoYW5uZWxVcmwgOiBvLm1haW51cmwsXHJcblx0ICAgICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgY29va2llICAgICA6IHRydWVcclxuXHQgICAgfSk7XHJcblx0fVxyXG5cclxuXHQvL0FkZGxpc3RlbmVyXHJcblx0JCgnLm1faWNvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgX3RoID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKTtcclxuXHRcdGlmKF90aC5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdF90aC5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0c2hvd21lbnUoZmFsc2UpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdF90aC5hZGRDbGFzcygnb24nKTtcclxuXHRcdFx0c2hvd21lbnUodHJ1ZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLmhlcm9fYm94IC5mYnNoYXJlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHNoYXJlRmIod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cdH0pXHJcblx0JCgnLmJyZWFrX3dyYXBwZXIgLnBnMiAuZmJzaGFyZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRzaGFyZUZiKG8udmlkZW9saW5rKTtcclxuXHR9KTtcclxuXHQkKCcudmlkZW9jdHJsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdG8udmlkZW8ucGxheVZpZGVvKCk7XHJcblx0XHQkKCcudmlkZW9jdHJsJykuZmFkZU91dCgpO1xyXG5cdH0pO1xyXG5cdCQoJy5tZW51YScpLm1vdXNlb3ZlcihmdW5jdGlvbigpe1xyXG5cdFx0Ymx1ZV9saW5lKCQodGhpcykpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoJCh0aGlzKS5pbmRleCgpPT01KXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuZmFkZUluKCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5mYWRlT3V0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcubWVudScpLm1vdXNlbW92ZShmdW5jdGlvbigpe1xyXG5cdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0fSk7XHJcblx0JCgnLm1lbnUnKS5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0bWVudW1vdXNlT3V0KCk7XHJcblx0fSk7XHJcblx0by5zdWIubW91c2Vtb3ZlKGZ1bmN0aW9uKCl7XHJcblx0XHRjbGVhclRpbWVvdXQoby5ibHVlX2xpbmV0aW1lb3V0KTtcclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCFvLnN1Yi5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmFkZENsYXNzKCdvbicpLmZhZGVJbigpO1x0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0bWVudW1vdXNlT3V0KCk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZihvLnN1Yi5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLnJlbW92ZUNsYXNzKCdvbicpLmZhZGVPdXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQod2luZG93KS5sb2FkKHdpbmRvd0xvYWQpO1xyXG5cdGZ1bmN0aW9uIHdpbmRvd0xvYWQoKXtcclxuXHRcdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDApO1xyXG5cdFx0XHRjcmVhdGVWaWRlbygncGxheWVyJyxvLnZpZGVvSUQsZmFsc2UpO1xyXG5cdFx0XHR2YXIgX3JhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo0KTtcclxuXHRcdFx0Y29uc29sZS5sb2coX3JhbmRvbSk7XHJcblx0XHRcdCQoJy5icmVha193cmFwcGVyIC5wZzMgLnBlcnNvbicpLmVxKF9yYW5kb20pLnNob3coKTtcclxuXHRcdH1lbHNlIGlmKG8ud3JwLmhhc0NsYXNzKCdydWxlJykpe1xyXG5cdFx0XHRvLmJsdWVfbGluZWluaXQ9JCgnLm1lbnVhJykuZXEoMyk7XHJcblx0XHRcdCQoXCIucnVsZV9ib3ggLnJ1bGVfd29yZFwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG5cdFx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgxKTtcclxuXHRcdFx0Zm9yKHZhciBpPTA7aTwkKCcuaGVyb19ib3ggLnBlcnNvbicpLmxlbmd0aDtpKyspe1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCAucGVyc29uJykuZXEoaSkuZmluZCgnLncnKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkKCcuaGVyb19ib3gnKS5lYWNoKGhlcm9fYm94ZmMpO1xyXG5cdFx0XHRzaG93bG9hZGluZyhmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRibHVlX2xpbmUoby5ibHVlX2xpbmVpbml0KTtcclxuXHR9XHJcblxyXG5cdC8vRXZlbnRcclxuXHRmdW5jdGlvbiBzaG93bWVudShfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdCQoJy5icmVha190b3BfYmFyJykuYWRkQ2xhc3MoJ29uJykuY3NzKCdoZWlnaHQnLCQod2luZG93KS5oZWlnaHQoKSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5yZW1vdmVDbGFzcygnb24nKS5hdHRyKCdzdHlsZScsJycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBtZW51bW91c2VPdXQoKXtcclxuXHRcdG8uYmx1ZV9saW5ldGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0XHRcdGJsdWVfbGluZShvLmJsdWVfbGluZWluaXQpO1xyXG5cdFx0fSwxNTAwKTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gaGVyb19ib3hmYygpe1xyXG5cdFx0dmFyIGxlZnRidG4gPSAkKHRoaXMpLmZpbmQoJy5sZWZ0YnRuJyksXHJcblx0XHRcdHJpZ2h0YnRuID0gJCh0aGlzKS5maW5kKCcucmlnaHRidG4nKSxcclxuXHRcdFx0cGVyc29uID0gJCh0aGlzKS5maW5kKCcucGVyc29uJyksXHJcblx0XHRcdGJ0ID0gJCh0aGlzKS5maW5kKCcuc3ViJykuZmluZCgnLmJ0JyksXHJcblx0XHRcdF9tYXggPSA1LFxyXG5cdFx0XHRub3dudW0gPXBlcnNvbi5hdHRyKCdjbGFzcycpLnJlcGxhY2UoJ3BlcnNvbiBwZScsJycpLnJlcGxhY2UoJyBvbicsJycpKjE7XHJcblxyXG5cdFx0cGVyc29uLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0YnQuZXEobm93bnVtLTEpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0bGVmdGJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0tPTE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0cmlnaHRidG4uY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtKz0xO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdGJ0LmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bSA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0ZnVuY3Rpb24gY2hhbmdlaGVybygpe1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPV9tYXg7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT5fbWF4KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaGFyZUZiKF9saW5rKXtcclxuICAgICAgICBGQi51aSh7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdmZWVkJyxcclxuICAgICAgICAgICAgbmFtZTogby5zaGFyZXRpdGxlLFxyXG4gICAgICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogby5zaGFyZWRlcyxcclxuICAgICAgICAgICAgZGlzcGxheTpcInBvcHVwXCIsXHJcbiAgICAgICAgICAgIGxpbms6IF9saW5rXHJcbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICB9KTsgICAgICAgIFxyXG4gICAgfVxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVZpZGVvKF9vLF9pZCxfYXV0b3BsYXkpe1xyXG4gICAgICAgIG8udmlkZW8gPSBuZXcgWVQuUGxheWVyKF9vLCB7XHJcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICB2aWRlb0lkOiBfaWQsXHJcbiAgICAgICAgICBwbGF5ZXJWYXJzOntcclxuICAgICAgICAgICAgJ2NvbnRyb2xzJzowLFxyXG4gICAgICAgICAgICAnYXV0b3BsYXknOl9hdXRvcGxheSxcclxuICAgICAgICAgICAgJ2VuYWJsZWpzYXBpJzonMCcsXHJcbiAgICAgICAgICAgICdoZCc6JzEnLFxyXG4gICAgICAgICAgICAncmVsJzonMCcsXHJcbiAgICAgICAgICAgICdzaG93aW5mbyc6JzAnLFxyXG4gICAgICAgICAgICAnbW9kZXN0YnJhbmRpbmcnOicxJyxcclxuICAgICAgICAgICAgJ2NjX2xvYWRfcG9saWN5JzonMScsXHJcbiAgICAgICAgICAgICd3bW9kZSc6J3RyYW5zcGFyZW50JyAgICAgIFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGV2ZW50czoge1xyXG5cdCAgICAgICAgJ29uUmVhZHknOiB2aWRlb1JlYWR5XHJcblx0ICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdmlkZW9SZWFkeSgpe1xyXG4gICAgXHRvLnZpZGVvLnNlZWtUbygxKS5wYXVzZVZpZGVvKCk7XHJcbiAgICBcdHNob3dsb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuXHRmdW5jdGlvbiBzaG93bG9hZGluZyhfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdCQoJy5icmVha19sb2FkaW5nJykuZmFkZUluKCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JCgnLmJyZWFrX2xvYWRpbmcnKS5mYWRlT3V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGJsdWVfbGluZShfbyl7XHJcblx0XHRpZihvLm1vYmlsZSl7XHJcblx0XHRcdHZhciBfdG9wID0gX28ub2Zmc2V0KCkudG9wIC0gJCgnLmJyZWFrX3RvcF9iYXInKS5vZmZzZXQoKS50b3AgKyA2MDtcclxuXHRcdFx0aWYoby5ibHVlX2xpbmU9PV90b3Ape3JldHVybn1cclxuXHRcdFx0by5ibHVlX2xpbmUgPSBfdG9wO1xyXG5cdFx0XHR2YXIgX3dpZHRoO1xyXG5cdFx0XHRpZihfby5pbmRleCgpPT0wKSBfd2lkdGggPSA3MDtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0xKSBfd2lkdGggPSAyMjQ7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09MikgX3dpZHRoID0gMTg2O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTMpIF93aWR0aCA9IDE0NjtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT00KSBfd2lkdGggPSAxNDY7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09NSkgX3dpZHRoID0gMjYwO1xyXG5cdFx0XHQkKCcuYmx1ZV9saW5lJykuYW5pbWF0ZSh7J3RvcCc6by5ibHVlX2xpbmUsJ3dpZHRoJzpfd2lkdGh9LG8uYmx1ZV9saW5lX3NwZWVkKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRpZihvLmJsdWVfbGluZT09KF9vLm9mZnNldCgpLmxlZnQgLSAkKCcuYnJlYWtfdG9wX2JhcmluJykub2Zmc2V0KCkubGVmdCkpe3JldHVybn1cclxuXHRcdFx0by5ibHVlX2xpbmUgPSBfby5vZmZzZXQoKS5sZWZ0IC0gJCgnLmJyZWFrX3RvcF9iYXJpbicpLm9mZnNldCgpLmxlZnQ7XHJcblx0XHRcdCQoJy5ibHVlX2xpbmUnKS5hbmltYXRlKHsnbGVmdCc6by5ibHVlX2xpbmUsJ3dpZHRoJzpfby53aWR0aCgpfSxvLmJsdWVfbGluZV9zcGVlZCk7XHJcblx0XHR9XHJcblx0fVxyXG4gIFxyXG59KS8vcmVhZHkgZW5kICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
