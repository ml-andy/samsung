$(document).ready(function(){function e(e){e=e.originalEvent.touches[0],b.heromouseX_end=e.pageX,b.heromouseY_end=e.pageY}function o(){if(b.wrp.hasClass("index")){b.blue_lineinit=$(".menua").eq(0),u("player",b.videoID,!1);var e=Math.round(4*Math.random());$(".break_wrapper .pg3 .person").eq(e).show()}else if(b.wrp.hasClass("rule"))b.blue_lineinit=$(".menua").eq(3),b.mobile||$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),h(!1);else if(b.wrp.hasClass("hero")){if(b.blue_lineinit=$(".menua").eq(1),!b.mobile)for(var o=0;o<$(".hero_box .person").length;o++)$(".hero_box .person").eq(o).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(s),h(!1)}c(b.blue_lineinit)}function n(){90==Math.abs(window.orientation)?$(".break_mobile_cover").fadeIn():$(".break_mobile_cover").fadeOut()}function i(){var e=Math.abs(b.heromouseY_end-b.heromouseY),o=b.heromouseX_end-b.heromouseX;if(!(e>=b.touchvalueY||Math.abs(o)<=b.touchvalueX)){var n=1*$(".person").attr("class").replace("person pe","").replace(" on","");n=o>0?1*n-1:1*n+1,n<1?n=5:n>5&&(n=1),window.location.href="hero"+n+".html"}}function t(e){e?(b.wrp.hasClass("index")&&($(".break_top_barin").removeClass("index"),$(".break_top_barin .logo").stop().animate({opacity:1},300)),$(".break_top_bar").css("height",$(window).height()).addClass("on")):(b.wrp.hasClass("index")&&($(".break_top_barin").addClass("index"),$(".break_top_barin .logo").stop().animate({opacity:0},300)),$(".break_top_bar").attr("style","").removeClass("on"))}function a(){b.blue_linetimeout=setTimeout(function(){clearTimeout(b.blue_linetimeout),c(b.blue_lineinit)},1500)}function s(){function e(){s<1?s=a:s>a&&(s=1),window.location.href="hero"+s+".html"}var o=$(this).find(".leftbtn"),n=$(this).find(".rightbtn"),i=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,s=1*i.attr("class").replace("person pe","").replace(" on","");i.addClass("on"),t.eq(s-1).addClass("on"),o.click(function(){s-=1,e()}),n.click(function(){s+=1,e()}),t.click(function(){s=$(this).index()+1,e()})}function l(e){FB.ui({method:"feed",name:b.sharetitle,caption:"",description:b.sharedes,display:"popup",link:e},function(e){})}function r(e){FB.ui({method:"feed",name:b.sharetitle,description:b.sharedes,display:"popup",link:"https://ml-andy.github.io/samsung/andy/index.html",picture:"http://img.youtube.com/vi/bRhpkp1_qEI/0.jpg",source:"https://youtube.googleapis.com/v/bRhpkp1_qEI",type:"video"},function(e){})}function u(e,o,n){b.video=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{controls:0,autoplay:n,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:d}})}function d(){b.video.seekTo(1).pauseVideo(),h(!1)}function h(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function c(e){if(b.mobile){var o=e.offset().top-$(".break_top_bar").offset().top+.75*e.height();if(b.blue_line==o)return;b.blue_line=o;var n;0==e.index()?n=.5*e.height()/16*33:1==e.index()?n=.5*e.height()/16*107:2==e.index()?n=.5*e.height()/16*84:3==e.index()?n=.5*e.height()/16*69:4==e.index()?n=.5*e.height()/16*68:5==e.index()&&(n=.5*e.height()/16*118),$(".blue_line").animate({top:b.blue_line,width:n},b.blue_line_speed)}else{if(b.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;b.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:b.blue_line,width:e.width()},b.blue_line_speed)}}var b={wrp:$(".break_wrapper"),touchvalueY:25,touchvalueX:.4*$(window).width(),blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/olympics/",sharetitle:"突破極限之巔 - 2016里約奧運代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運代表隊，你們辛苦了！"};if($(window).width()<=640?b.mobile=!0:b.mobile=!1,b.wrp.hasClass("index")){var p,m,f;p=document.getElementById("canvas"),f=new lib.inedx,m=new createjs.Stage(p),m.addChild(f),m.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",m),b.mobile||(b.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),b.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:b.FBAppId,channelUrl:b.mainurl,status:!0,xfbml:!0,cookie:!0}),$(".break_top_bar .logo").css("opacity",0),b.mobile&&$(".break_top_barin").addClass("index")}else b.wrp.hasClass("hero")&&(FB.init({appId:b.FBAppId,channelUrl:b.mainurl,status:!0,xfbml:!0,cookie:!0}),b.mobile&&($(".hero_box").bind("touchstart",function(o){o=o.originalEvent.touches[0],$(".hero_box").bind("touchmove",e),b.heromouseX=o.pageX,b.heromouseY=o.pageY}),$(".hero_box").bind("touchend",function(o){$(".hero_box").unbind("touchmove",e),i()})));$(".logo").click(function(){b.wrp.hasClass("index")||(window.location.href="index.html")}),$(".chatbtn").click(function(){window.open("whatsapp://send?text="+window.location.href)}),$(".linebtn").click(function(){window.open("//line.me/R/msg/text/?"+b.sharetitle+"，"+b.sharedes+window.location.href+"　","_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=400")}),$(window).on("touchmove",function(e){b.mobile&&$(".break_top_bar").hasClass("on")&&$(".break_top_bar").addClass("on_end").css("height",$(window).height()+100)}),$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on_end").removeClass("on"),t(!1)):(e.addClass("on"),t(!0))}),$(".hero_box .fbshare").click(function(){l(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){r("https://ml-andy.github.io/samsung/andy/video.html")}),$(".videoctrl").click(function(){b.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){c($(this)),b.mobile||(6==$(this).index()?b.sub.stop().fadeIn():b.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(b.blue_linetimeout)}),$(".menu").mouseout(function(){a()}),b.sub.mousemove(function(){clearTimeout(b.blue_linetimeout)}),b.sub.mouseover(function(){b.mobile||b.sub.hasClass("on")||b.sub.stop().addClass("on").fadeIn()}),b.sub.mouseout(function(){a(),b.mobile||b.sub.hasClass("on")&&b.sub.stop().removeClass("on").fadeOut()}),window.onorientationchange=n,$(window).load(o)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhlcm90b3VjaG1vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJvIiwiaGVyb21vdXNlWF9lbmQiLCJwYWdlWCIsImhlcm9tb3VzZVlfZW5kIiwicGFnZVkiLCJ3aW5kb3dMb2FkIiwid3JwIiwiaGFzQ2xhc3MiLCJibHVlX2xpbmVpbml0IiwiZXEiLCJjcmVhdGVWaWRlbyIsInZpZGVvSUQiLCJfcmFuZG9tIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwic2hvdyIsIm1vYmlsZSIsIm1DdXN0b21TY3JvbGxiYXIiLCJzY3JvbGxJbmVydGlhIiwic2Nyb2xsRWFzaW5nIiwic2hvd2xvYWRpbmciLCJpIiwibGVuZ3RoIiwiZmluZCIsImVhY2giLCJoZXJvX2JveGZjIiwiYmx1ZV9saW5lIiwicmVhZERldmljZU9yaWVudGF0aW9uIiwiYWJzIiwid2luZG93Iiwib3JpZW50YXRpb24iLCJmYWRlSW4iLCJmYWRlT3V0IiwiY2hlY2tIZXJvIiwiX3kiLCJoZXJvbW91c2VZIiwiX3giLCJoZXJvbW91c2VYIiwidG91Y2h2YWx1ZVkiLCJ0b3VjaHZhbHVlWCIsIm5vd251bSIsImF0dHIiLCJyZXBsYWNlIiwibG9jYXRpb24iLCJocmVmIiwic2hvd21lbnUiLCJfdCIsInJlbW92ZUNsYXNzIiwic3RvcCIsImFuaW1hdGUiLCJvcGFjaXR5IiwiY3NzIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJtZW51bW91c2VPdXQiLCJibHVlX2xpbmV0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNoYW5nZWhlcm8iLCJfbWF4IiwibGVmdGJ0biIsInRoaXMiLCJyaWdodGJ0biIsInBlcnNvbiIsImJ0IiwiY2xpY2siLCJpbmRleCIsInNoYXJlRmIiLCJfbGluayIsIkZCIiwidWkiLCJtZXRob2QiLCJuYW1lIiwic2hhcmV0aXRsZSIsImNhcHRpb24iLCJkZXNjcmlwdGlvbiIsInNoYXJlZGVzIiwiZGlzcGxheSIsImxpbmsiLCJyZXNwb25zZSIsInNoYXJlRmJ2aWRlbyIsInBpY3R1cmUiLCJzb3VyY2UiLCJ0eXBlIiwiX28iLCJfaWQiLCJfYXV0b3BsYXkiLCJ2aWRlbyIsIllUIiwiUGxheWVyIiwid2lkdGgiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImNvbnRyb2xzIiwiYXV0b3BsYXkiLCJlbmFibGVqc2FwaSIsImhkIiwicmVsIiwic2hvd2luZm8iLCJtb2Rlc3RicmFuZGluZyIsImNjX2xvYWRfcG9saWN5Iiwid21vZGUiLCJldmVudHMiLCJvblJlYWR5IiwidmlkZW9SZWFkeSIsInNlZWtUbyIsInBhdXNlVmlkZW8iLCJfdG9wIiwib2Zmc2V0IiwidG9wIiwiX3dpZHRoIiwiYmx1ZV9saW5lX3NwZWVkIiwibGVmdCIsInZpZGVvbGluayIsInN1YiIsIkZCQXBwSWQiLCJtYWludXJsIiwiY2FudmFzIiwic3RhZ2UiLCJleHBvcnRSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJsaWIiLCJpbmVkeCIsImNyZWF0ZWpzIiwiU3RhZ2UiLCJhZGRDaGlsZCIsInVwZGF0ZSIsIlRpY2tlciIsInNldEZQUyIsInByb3BlcnRpZXMiLCJmcHMiLCJhZGRFdmVudExpc3RlbmVyIiwiUGFyYWxsYXgiLCJQYXJhbGxheDIiLCJpbml0IiwiYXBwSWQiLCJjaGFubmVsVXJsIiwic3RhdHVzIiwieGZibWwiLCJjb29raWUiLCJiaW5kIiwidW5iaW5kIiwib3BlbiIsIm9uIiwiX3RoIiwicGFyZW50IiwicGxheVZpZGVvIiwibW91c2VvdmVyIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJvbm9yaWVudGF0aW9uY2hhbmdlIiwibG9hZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0E2RGYsUUFBU0MsR0FBY0MsR0FDdEJBLEVBQUlBLEVBQUVDLGNBQWNDLFFBQVEsR0FDNUJDLEVBQUVDLGVBQWlCSixFQUFFSyxNQUNyQkYsRUFBRUcsZUFBaUJOLEVBQUVPLE1B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LEVBQUUsU0FBUzRKLFVBQVUsV0FDcEIzRixhQUFhMUQsRUFBRXdELG9CQUVoQi9ELEVBQUUsU0FBUzZKLFNBQVMsV0FDbkIvRixNQUVEdkQsRUFBRW1ILElBQUlrQyxVQUFVLFdBQ2YzRixhQUFhMUQsRUFBRXdELG9CQUVoQnhELEVBQUVtSCxJQUFJaUMsVUFBVSxXQUNYcEosRUFBRWlCLFFBQ0RqQixFQUFFbUgsSUFBSTVHLFNBQVMsT0FDbEJQLEVBQUVtSCxJQUFJbEUsT0FBT0ssU0FBUyxNQUFNdEIsV0FJL0JoQyxFQUFFbUgsSUFBSW1DLFNBQVMsV0FDZC9GLElBQ0l2RCxFQUFFaUIsUUFDRmpCLEVBQUVtSCxJQUFJNUcsU0FBUyxPQUNqQlAsRUFBRW1ILElBQUlsRSxPQUFPRCxZQUFZLE1BQU1mLFlBSWxDSCxPQUFPeUgsb0JBQXNCM0gsRUFDN0JuQyxFQUFFcUMsUUFBUTBILEtBQUtuSiIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cclxuXHQvL0luaXRcclxuXHR2YXIgbyA9IHtcclxuXHRcdHdycDogJCgnLmJyZWFrX3dyYXBwZXInKSxcclxuXHRcdHRvdWNodmFsdWVZOiAyNSxcclxuXHRcdHRvdWNodmFsdWVYOiAkKHdpbmRvdykud2lkdGgoKSowLjQsXHJcblx0XHRibHVlX2xpbmVfc3BlZWQ6IDEwMCxcclxuXHRcdHZpZGVvSUQ6ICdiUmhwa3AxX3FFSScsXHJcblx0XHR2aWRlb2xpbms6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWJSaHBrcDFfcUVJJyxcclxuXHRcdHN1YjogJCgnLmJyZWFrX3RvcF9iYXIgLnN1YicpLFxyXG5cdFx0RkJBcHBJZDogJzEzMDE5NzM4MjMxNTA5ODgnLFxyXG5cdFx0bWFpbnVybDogJ2h0dHA6Ly93d3cuc2Ftc3VuZy5jb20vdHcvY2FtcGFpZ25zL29seW1waWNzLycsXHJcblx0XHRzaGFyZXRpdGxlOiAn56qB56C05qW16ZmQ5LmL5beUIC0gMjAxNumHjOe0hOWlp+mBi+S7o+ihqOmaiiDorJ3orJ3kvaDnmoTliqrlipsnLFxyXG5cdFx0c2hhcmVkZXM6ICfnl5voi6bmnIPpgY7ljrvvvIzmpq7ogIDlsIfnlZnkuIvorJ3orJ3kvaDnmoTliqrlipvvvIwyMDE2IOmHjOe0hOWlp+mBi+S7o+ihqOmaiu+8jOS9oOWAkei+m+iLpuS6hu+8gSdcclxuXHR9O1xyXG5cclxuXHRpZigkKHdpbmRvdykud2lkdGgoKTw9NjQwKSBvLm1vYmlsZSA9IHRydWU7XHJcblx0ZWxzZSBvLm1vYmlsZSA9IGZhbHNlO1xyXG5cclxuXHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHR2YXIgY2FudmFzLCBzdGFnZSwgZXhwb3J0Um9vdDtcclxuXHRcdGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG5cdFx0ZXhwb3J0Um9vdCA9IG5ldyBsaWIuaW5lZHgoKTtcclxuXHRcdHN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKGNhbnZhcyk7XHJcblx0XHRzdGFnZS5hZGRDaGlsZChleHBvcnRSb290KTtcclxuXHRcdHN0YWdlLnVwZGF0ZSgpO1xyXG5cdFx0Y3JlYXRlanMuVGlja2VyLnNldEZQUyhsaWIucHJvcGVydGllcy5mcHMpO1xyXG5cdFx0Y3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsIHN0YWdlKTtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdG8uUGFyYWxsYXggPSBuZXcgUGFyYWxsYXgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrX3BhZ2VfcGcxX2t2JykpO1xyXG5cdFx0XHRvLlBhcmFsbGF4MiA9IG5ldyBQYXJhbGxheChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWtfcGFnZV9wZzFfYmcnKSk7XHJcblx0XHR9XHJcblx0XHRGQi5pbml0KHtcclxuXHQgICAgICAgIGFwcElkICAgICAgOiBvLkZCQXBwSWQsXHJcblx0ICAgICAgICBjaGFubmVsVXJsIDogby5tYWludXJsLFxyXG5cdCAgICAgICAgc3RhdHVzICAgICA6IHRydWUsXHJcblx0ICAgICAgICB4ZmJtbCAgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIGNvb2tpZSAgICAgOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgICAkKCcuYnJlYWtfdG9wX2JhciAubG9nbycpLmNzcygnb3BhY2l0eScsMCk7XHJcblx0ICAgIGlmKG8ubW9iaWxlKSAkKCcuYnJlYWtfdG9wX2JhcmluJykuYWRkQ2xhc3MoJ2luZGV4Jyk7XHJcblx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblx0XHRGQi5pbml0KHtcclxuXHQgICAgICAgIGFwcElkICAgICAgOiBvLkZCQXBwSWQsXHJcblx0ICAgICAgICBjaGFubmVsVXJsIDogby5tYWludXJsLFxyXG5cdCAgICAgICAgc3RhdHVzICAgICA6IHRydWUsXHJcblx0ICAgICAgICB4ZmJtbCAgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIGNvb2tpZSAgICAgOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgICBpZihvLm1vYmlsZSl7XHJcblx0ICAgIFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2hzdGFydCcsZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCcpLmJpbmQoJ3RvdWNobW92ZScsaGVyb3RvdWNobW92ZSk7XHJcblx0XHRcdFx0by5oZXJvbW91c2VYID0gZS5wYWdlWDtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVkgPSBlLnBhZ2VZO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2hlbmQnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCcpLnVuYmluZCgndG91Y2htb3ZlJyxoZXJvdG91Y2htb3ZlKTtcclxuXHRcdFx0XHRjaGVja0hlcm8oKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGZ1bmN0aW9uIGhlcm90b3VjaG1vdmUoZSl7XHJcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWF9lbmQgPSBlLnBhZ2VYO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWV9lbmQgPSBlLnBhZ2VZO1xyXG5cdFx0XHR9XHJcblx0ICAgIH1cclxuXHR9XHJcblxyXG5cdC8vQWRkbGlzdGVuZXJcclxuXHQkKCcubG9nbycpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRpZighby53cnAuaGFzQ2xhc3MoJ2luZGV4JykpIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2luZGV4Lmh0bWwnO1xyXG5cdH0pO1xyXG5cdCQoJy5jaGF0YnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHdpbmRvdy5vcGVuKFwid2hhdHNhcHA6Ly9zZW5kP3RleHQ9XCIrd2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cdH0pO1xyXG5cdCQoJy5saW5lYnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHdpbmRvdy5vcGVuKFwiLy9saW5lLm1lL1IvbXNnL3RleHQvP1wiK28uc2hhcmV0aXRsZStcIu+8jFwiK28uc2hhcmVkZXMrIHdpbmRvdy5sb2NhdGlvbi5ocmVmICtcIuOAgFwiLCdfYmxhbmsnLCBcInRvb2xiYXI9eWVzLCBzY3JvbGxiYXJzPXllcywgcmVzaXphYmxlPXllcywgdG9wPTEwMCwgbGVmdD01MDAsIHdpZHRoPTYwMCwgaGVpZ2h0PTQwMFwiKTtcclxuXHR9KTtcclxuXHQkKHdpbmRvdykub24oJ3RvdWNobW92ZScsZnVuY3Rpb24oZSl7XHJcblx0XHRpZihvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCQoJy5icmVha190b3BfYmFyJykuaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRcdCQoJy5icmVha190b3BfYmFyJykuYWRkQ2xhc3MoJ29uX2VuZCcpLmNzcygnaGVpZ2h0JywkKHdpbmRvdykuaGVpZ2h0KCkrMTAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQoJy5tX2ljb24nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0dmFyIF90aCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCk7XHJcblx0XHRpZihfdGguaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRfdGgucmVtb3ZlQ2xhc3MoJ29uX2VuZCcpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0XHRzaG93bWVudShmYWxzZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0X3RoLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRzaG93bWVudSh0cnVlKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcuaGVyb19ib3ggLmZic2hhcmUnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0c2hhcmVGYih3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblx0fSlcclxuXHQkKCcuYnJlYWtfd3JhcHBlciAucGcyIC5mYnNoYXJlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHNoYXJlRmJ2aWRlbyhcImh0dHBzOi8vbWwtYW5keS5naXRodWIuaW8vc2Ftc3VuZy9hbmR5L3ZpZGVvLmh0bWxcIik7XHJcblx0fSk7XHJcblx0JCgnLnZpZGVvY3RybCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRvLnZpZGVvLnBsYXlWaWRlbygpO1xyXG5cdFx0JCgnLnZpZGVvY3RybCcpLmZhZGVPdXQoKTtcclxuXHR9KTtcclxuXHQkKCcubWVudWEnKS5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdGJsdWVfbGluZSgkKHRoaXMpKTtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCQodGhpcykuaW5kZXgoKT09Nil7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmZhZGVJbigpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuZmFkZU91dCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLm1lbnUnKS5tb3VzZW1vdmUoZnVuY3Rpb24oKXtcclxuXHRcdGNsZWFyVGltZW91dChvLmJsdWVfbGluZXRpbWVvdXQpO1xyXG5cdH0pO1xyXG5cdCQoJy5tZW51JykubW91c2VvdXQoZnVuY3Rpb24oKXtcclxuXHRcdG1lbnVtb3VzZU91dCgpO1xyXG5cdH0pO1xyXG5cdG8uc3ViLm1vdXNlbW92ZShmdW5jdGlvbigpe1xyXG5cdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0fSk7XHJcblx0by5zdWIubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZighby5zdWIuaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5hZGRDbGFzcygnb24nKS5mYWRlSW4oKTtcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0by5zdWIubW91c2VvdXQoZnVuY3Rpb24oKXtcclxuXHRcdG1lbnVtb3VzZU91dCgpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoby5zdWIuaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5yZW1vdmVDbGFzcygnb24nKS5mYWRlT3V0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHR3aW5kb3cub25vcmllbnRhdGlvbmNoYW5nZSA9IHJlYWREZXZpY2VPcmllbnRhdGlvbjtcclxuXHQkKHdpbmRvdykubG9hZCh3aW5kb3dMb2FkKTtcclxuXHRmdW5jdGlvbiB3aW5kb3dMb2FkKCl7XHJcblx0XHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyogaW5kZXggKi8vXHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgwKTtcclxuXHRcdFx0Y3JlYXRlVmlkZW8oJ3BsYXllcicsby52aWRlb0lELGZhbHNlKTtcclxuXHRcdFx0dmFyIF9yYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqNCk7XHJcblx0XHRcdCQoJy5icmVha193cmFwcGVyIC5wZzMgLnBlcnNvbicpLmVxKF9yYW5kb20pLnNob3coKTtcclxuXHJcblx0XHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygncnVsZScpKXtcclxuXHJcblx0XHRcdC8vKiBydWxlICovL1xyXG5cdFx0XHRvLmJsdWVfbGluZWluaXQ9JCgnLm1lbnVhJykuZXEoMyk7XHJcblx0XHRcdGlmKCFvLm1vYmlsZSkgJChcIi5ydWxlX2JveCAucnVsZV93b3JkXCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG5cdFx0XHRzaG93bG9hZGluZyhmYWxzZSk7XHJcblxyXG5cdFx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblxyXG5cdFx0XHQvLyogaGVybyAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDEpO1xyXG5cdFx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRcdGZvcih2YXIgaT0wO2k8JCgnLmhlcm9fYm94IC5wZXJzb24nKS5sZW5ndGg7aSsrKXtcclxuXHRcdFx0XHRcdCQoJy5oZXJvX2JveCAucGVyc29uJykuZXEoaSkuZmluZCgnLncnKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0JCgnLmhlcm9fYm94JykuZWFjaChoZXJvX2JveGZjKTtcclxuXHRcdFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0Ymx1ZV9saW5lKG8uYmx1ZV9saW5laW5pdCk7XHJcblx0fVxyXG5cclxuXHQvL0V2ZW50XHJcblx0ZnVuY3Rpb24gcmVhZERldmljZU9yaWVudGF0aW9uKCkge1xyXG5cdCAgICBpZiAoTWF0aC5hYnMod2luZG93Lm9yaWVudGF0aW9uKSA9PSA5MCkge1xyXG5cdCAgICAgICAgLy8gTGFuZHNjYXBlXHJcblx0ICAgICAgICAkKCcuYnJlYWtfbW9iaWxlX2NvdmVyJykuZmFkZUluKCk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgIFx0Ly8gUG9ydHJhaXRcclxuXHQgICAgXHQkKCcuYnJlYWtfbW9iaWxlX2NvdmVyJykuZmFkZU91dCgpO1xyXG5cdCAgICB9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGNoZWNrSGVybygpe1xyXG5cdFx0dmFyIF95ID0gTWF0aC5hYnMoIG8uaGVyb21vdXNlWV9lbmQgLSBvLmhlcm9tb3VzZVkpO1xyXG5cdFx0dmFyIF94ID0gby5oZXJvbW91c2VYX2VuZCAtIG8uaGVyb21vdXNlWDtcclxuXHRcdGlmKF95ID49IG8udG91Y2h2YWx1ZVkpIHJldHVybjtcclxuXHRcdGVsc2V7XHJcblx0XHRcdGlmKE1hdGguYWJzKF94KTw9by50b3VjaHZhbHVlWCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0dmFyIG5vd251bSA9JCgnLnBlcnNvbicpLmF0dHIoJ2NsYXNzJykucmVwbGFjZSgncGVyc29uIHBlJywnJykucmVwbGFjZSgnIG9uJywnJykqMTtcclxuXHRcdFx0aWYoX3g+MCkgbm93bnVtID0gbm93bnVtKjEgLSAxO1xyXG5cdFx0XHRlbHNlIG5vd251bSA9IG5vd251bSoxICsgMTtcclxuXHRcdFx0aWYobm93bnVtPDEpe25vd251bT01O31cclxuXHRcdFx0ZWxzZSBpZihub3dudW0+NSl7bm93bnVtPTE7fVxyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdoZXJvJytub3dudW0rJy5odG1sJztcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gc2hvd21lbnUoX3Qpe1xyXG5cdFx0aWYoX3Qpe1xyXG5cdFx0XHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHRcdFx0JCgnLmJyZWFrX3RvcF9iYXJpbicpLnJlbW92ZUNsYXNzKCdpbmRleCcpO1xyXG5cdFx0XHRcdCQoJy5icmVha190b3BfYmFyaW4gLmxvZ28nKS5zdG9wKCkuYW5pbWF0ZSh7J29wYWNpdHknOjF9LDMwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5jc3MoJ2hlaWdodCcsJCh3aW5kb3cpLmhlaWdodCgpKS5hZGRDbGFzcygnb24nKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHRcdFx0JCgnLmJyZWFrX3RvcF9iYXJpbicpLmFkZENsYXNzKCdpbmRleCcpO1xyXG5cdFx0XHRcdCQoJy5icmVha190b3BfYmFyaW4gLmxvZ28nKS5zdG9wKCkuYW5pbWF0ZSh7J29wYWNpdHknOjB9LDMwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5hdHRyKCdzdHlsZScsJycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBtZW51bW91c2VPdXQoKXtcclxuXHRcdG8uYmx1ZV9saW5ldGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0XHRcdGJsdWVfbGluZShvLmJsdWVfbGluZWluaXQpO1xyXG5cdFx0fSwxNTAwKTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gaGVyb19ib3hmYygpe1xyXG5cdFx0dmFyIGxlZnRidG4gPSAkKHRoaXMpLmZpbmQoJy5sZWZ0YnRuJyksXHJcblx0XHRcdHJpZ2h0YnRuID0gJCh0aGlzKS5maW5kKCcucmlnaHRidG4nKSxcclxuXHRcdFx0cGVyc29uID0gJCh0aGlzKS5maW5kKCcucGVyc29uJyksXHJcblx0XHRcdGJ0ID0gJCh0aGlzKS5maW5kKCcuc3ViJykuZmluZCgnLmJ0JyksXHJcblx0XHRcdF9tYXggPSA1LFxyXG5cdFx0XHRub3dudW0gPXBlcnNvbi5hdHRyKCdjbGFzcycpLnJlcGxhY2UoJ3BlcnNvbiBwZScsJycpLnJlcGxhY2UoJyBvbicsJycpKjE7XHJcblxyXG5cdFx0cGVyc29uLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0YnQuZXEobm93bnVtLTEpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0bGVmdGJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0tPTE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0cmlnaHRidG4uY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtKz0xO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdGJ0LmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bSA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0ZnVuY3Rpb24gY2hhbmdlaGVybygpe1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPV9tYXg7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT5fbWF4KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaGFyZUZiKF9saW5rKXtcclxuICAgICAgICBGQi51aSh7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdmZWVkJyxcclxuICAgICAgICAgICAgbmFtZTogby5zaGFyZXRpdGxlLFxyXG4gICAgICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogby5zaGFyZWRlcyxcclxuICAgICAgICAgICAgZGlzcGxheTpcInBvcHVwXCIsXHJcbiAgICAgICAgICAgIGxpbms6IF9saW5rXHJcbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICB9KTsgICAgICAgIFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hhcmVGYnZpZGVvKF9saW5rKXtcclxuICAgICAgICBGQi51aSh7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdmZWVkJyxcclxuICAgICAgICAgICAgbmFtZTogby5zaGFyZXRpdGxlLFxyXG4gICAgICAgICAgICAvLyBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogby5zaGFyZWRlcyxcclxuICAgICAgICAgICAgZGlzcGxheTpcInBvcHVwXCIsXHJcbiAgICAgICAgICAgIGxpbms6IFwiaHR0cHM6Ly9tbC1hbmR5LmdpdGh1Yi5pby9zYW1zdW5nL2FuZHkvaW5kZXguaHRtbFwiLFxyXG4gICAgICAgICAgICBwaWN0dXJlOiBcImh0dHA6Ly9pbWcueW91dHViZS5jb20vdmkvYlJocGtwMV9xRUkvMC5qcGdcIixcclxuXHQgICAgICAgIHNvdXJjZTogJ2h0dHBzOi8veW91dHViZS5nb29nbGVhcGlzLmNvbS92L2JSaHBrcDFfcUVJJyxcclxuXHQgICAgICAgIHR5cGU6ICd2aWRlbydcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIH0pOyAgICAgICAgXHJcbiAgICB9XHJcblx0ZnVuY3Rpb24gY3JlYXRlVmlkZW8oX28sX2lkLF9hdXRvcGxheSl7XHJcbiAgICAgICAgby52aWRlbyA9IG5ldyBZVC5QbGF5ZXIoX28sIHtcclxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgIHZpZGVvSWQ6IF9pZCxcclxuICAgICAgICAgIHBsYXllclZhcnM6e1xyXG4gICAgICAgICAgICAnY29udHJvbHMnOjAsXHJcbiAgICAgICAgICAgICdhdXRvcGxheSc6X2F1dG9wbGF5LFxyXG4gICAgICAgICAgICAnZW5hYmxlanNhcGknOicwJyxcclxuICAgICAgICAgICAgJ2hkJzonMScsXHJcbiAgICAgICAgICAgICdyZWwnOicwJyxcclxuICAgICAgICAgICAgJ3Nob3dpbmZvJzonMCcsXHJcbiAgICAgICAgICAgICdtb2Rlc3RicmFuZGluZyc6JzEnLFxyXG4gICAgICAgICAgICAnY2NfbG9hZF9wb2xpY3knOicxJyxcclxuICAgICAgICAgICAgJ3dtb2RlJzondHJhbnNwYXJlbnQnICAgICAgXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXZlbnRzOiB7XHJcblx0ICAgICAgICAnb25SZWFkeSc6IHZpZGVvUmVhZHlcclxuXHQgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB2aWRlb1JlYWR5KCl7XHJcbiAgICBcdG8udmlkZW8uc2Vla1RvKDEpLnBhdXNlVmlkZW8oKTtcclxuICAgIFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG5cdGZ1bmN0aW9uIHNob3dsb2FkaW5nKF90KXtcclxuXHRcdGlmKF90KXtcclxuXHRcdFx0JCgnLmJyZWFrX2xvYWRpbmcnKS5mYWRlSW4oKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHQkKCcuYnJlYWtfbG9hZGluZycpLmZhZGVPdXQoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gYmx1ZV9saW5lKF9vKXtcclxuXHRcdGlmKG8ubW9iaWxlKXtcclxuXHRcdFx0dmFyIF90b3AgPSBfby5vZmZzZXQoKS50b3AgLSAkKCcuYnJlYWtfdG9wX2JhcicpLm9mZnNldCgpLnRvcCArIF9vLmhlaWdodCgpKjAuNzU7XHJcblx0XHRcdGlmKG8uYmx1ZV9saW5lPT1fdG9wKXtyZXR1cm59XHJcblx0XHRcdG8uYmx1ZV9saW5lID0gX3RvcDtcclxuXHRcdFx0dmFyIF93aWR0aDtcclxuXHRcdFx0aWYoX28uaW5kZXgoKT09MCkgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiAzMztcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0xKSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDEwNztcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0yKSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDg0O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTMpIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogNjk7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09NCkgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiA2ODtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT01KSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDExODtcclxuXHRcdFx0JCgnLmJsdWVfbGluZScpLmFuaW1hdGUoeyd0b3AnOm8uYmx1ZV9saW5lLCd3aWR0aCc6X3dpZHRofSxvLmJsdWVfbGluZV9zcGVlZCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYoby5ibHVlX2xpbmU9PShfby5vZmZzZXQoKS5sZWZ0IC0gJCgnLmJyZWFrX3RvcF9iYXJpbicpLm9mZnNldCgpLmxlZnQpKXtyZXR1cm59XHJcblx0XHRcdG8uYmx1ZV9saW5lID0gX28ub2Zmc2V0KCkubGVmdCAtICQoJy5icmVha190b3BfYmFyaW4nKS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHQkKCcuYmx1ZV9saW5lJykuYW5pbWF0ZSh7J2xlZnQnOm8uYmx1ZV9saW5lLCd3aWR0aCc6X28ud2lkdGgoKX0sby5ibHVlX2xpbmVfc3BlZWQpO1xyXG5cdFx0fVxyXG5cdH1cclxuICBcclxufSkvL3JlYWR5IGVuZCAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
