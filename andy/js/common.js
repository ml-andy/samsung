$(document).ready(function(){function e(e){e=e.originalEvent.touches[0],h.heromouseX_end=e.pageX,h.heromouseY_end=e.pageY}function o(){if(h.wrp.hasClass("index")){h.blue_lineinit=$(".menua").eq(0),r("player",h.videoID,!1);var e=Math.round(4*Math.random());$(".break_wrapper .pg3 .person").eq(e).show()}else if(h.wrp.hasClass("rule"))h.blue_lineinit=$(".menua").eq(3),h.mobile||$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),d(!1);else if(h.wrp.hasClass("hero")){if(h.blue_lineinit=$(".menua").eq(1),!h.mobile)for(var o=0;o<$(".hero_box .person").length;o++)$(".hero_box .person").eq(o).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(l),d(!1)}c(h.blue_lineinit)}function n(){alert(Math.abs(window.orientation)),90==Math.abs(window.orientation)?$(".break_mobile_cover").fadeIn():$(".break_mobile_cover").fadeOut()}function i(){var e=Math.abs(h.heromouseY_end-h.heromouseY),o=h.heromouseX_end-h.heromouseX;if(!(e>=h.touchvalueY||Math.abs(o)<=h.touchvalueX)){var n=1*$(".person").attr("class").replace("person pe","").replace(" on","");n=o>0?1*n-1:1*n+1,n<1?n=5:n>5&&(n=1),window.location.href="hero"+n+".html"}}function t(e){e?$(".break_top_bar").css("height",$(window).height()).addClass("on"):$(".break_top_bar").attr("style","").removeClass("on")}function a(){h.blue_linetimeout=setTimeout(function(){clearTimeout(h.blue_linetimeout),c(h.blue_lineinit)},1500)}function l(){function e(){l<1?l=a:l>a&&(l=1),window.location.href="hero"+l+".html"}var o=$(this).find(".leftbtn"),n=$(this).find(".rightbtn"),i=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,l=1*i.attr("class").replace("person pe","").replace(" on","");i.addClass("on"),t.eq(l-1).addClass("on"),o.click(function(){l-=1,e()}),n.click(function(){l+=1,e()}),t.click(function(){l=$(this).index()+1,e()})}function s(e){FB.ui({method:"feed",name:h.sharetitle,caption:"",description:h.sharedes,display:"popup",link:e},function(e){})}function r(e,o,n){h.video=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{controls:0,autoplay:n,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:u}})}function u(){h.video.seekTo(1).pauseVideo(),d(!1)}function d(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function c(e){if(h.mobile){var o=e.offset().top-$(".break_top_bar").offset().top+.75*e.height();if(h.blue_line==o)return;h.blue_line=o;var n;0==e.index()?n=.5*e.height()/16*33:1==e.index()?n=.5*e.height()/16*107:2==e.index()?n=.5*e.height()/16*84:3==e.index()?n=.5*e.height()/16*69:4==e.index()?n=.5*e.height()/16*68:5==e.index()&&(n=.5*e.height()/16*118),$(".blue_line").animate({top:h.blue_line,width:n},h.blue_line_speed)}else{if(h.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;h.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:h.blue_line,width:e.width()},h.blue_line_speed)}}var h={wrp:$(".break_wrapper"),touchvalueY:25,touchvalueX:100,blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/2016olympics/index.html",sharetitle:"突破極限之巔 - 2016里約奧運台灣代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運台灣代表隊，你們辛苦了！"};if($(window).width()<=640?h.mobile=!0:h.mobile=!1,h.wrp.hasClass("index")){var b,p,f;b=document.getElementById("canvas"),f=new lib.inedx,p=new createjs.Stage(b),p.addChild(f),p.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",p),h.mobile||(h.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),h.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:h.FBAppId,channelUrl:h.mainurl,status:!0,xfbml:!0,cookie:!0})}else h.wrp.hasClass("hero")&&(FB.init({appId:h.FBAppId,channelUrl:h.mainurl,status:!0,xfbml:!0,cookie:!0}),h.mobile&&($(".hero_box").bind("touchstart",function(o){o=o.originalEvent.touches[0],$(".hero_box").bind("touchmove",e),h.heromouseX=o.pageX,h.heromouseY=o.pageY}),$(".hero_box").bind("touchend",function(o){$(".hero_box").unbind("touchmove",e),i()})));$(".logo").click(function(){h.mobile&&(h.wrp.hasClass("index")||(window.location.href="index.html"))}),$(".chatbtn").click(function(){window.open("whatsapp://send?text="+window.location.href)}),$(".linebtn").click(function(){window.open("//line.me/R/msg/text/?"+h.sharetitle+"，"+h.sharedes+window.location.href+"　","_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=400")}),$(window).on("touchmove",function(e){h.mobile&&$(".break_top_bar").hasClass("on")&&$(".break_top_bar").addClass("on_end").css("height",$(window).height()+100)}),$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on_end").removeClass("on"),t(!1)):(e.addClass("on"),t(!0))}),$(".hero_box .fbshare").click(function(){s(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){s(h.videolink)}),$(".videoctrl").click(function(){h.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){c($(this)),h.mobile||(5==$(this).index()?h.sub.stop().fadeIn():h.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(h.blue_linetimeout)}),$(".menu").mouseout(function(){a()}),h.sub.mousemove(function(){clearTimeout(h.blue_linetimeout)}),h.sub.mouseover(function(){h.mobile||h.sub.hasClass("on")||h.sub.stop().addClass("on").fadeIn()}),h.sub.mouseout(function(){a(),h.mobile||h.sub.hasClass("on")&&h.sub.stop().removeClass("on").fadeOut()}),window.onorientationchange=n,$(window).load(o)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhlcm90b3VjaG1vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJvIiwiaGVyb21vdXNlWF9lbmQiLCJwYWdlWCIsImhlcm9tb3VzZVlfZW5kIiwicGFnZVkiLCJ3aW5kb3dMb2FkIiwid3JwIiwiaGFzQ2xhc3MiLCJibHVlX2xpbmVpbml0IiwiZXEiLCJjcmVhdGVWaWRlbyIsInZpZGVvSUQiLCJfcmFuZG9tIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwic2hvdyIsIm1vYmlsZSIsIm1DdXN0b21TY3JvbGxiYXIiLCJzY3JvbGxJbmVydGlhIiwic2Nyb2xsRWFzaW5nIiwic2hvd2xvYWRpbmciLCJpIiwibGVuZ3RoIiwiZmluZCIsImVhY2giLCJoZXJvX2JveGZjIiwiYmx1ZV9saW5lIiwicmVhZERldmljZU9yaWVudGF0aW9uIiwiYWxlcnQiLCJhYnMiLCJ3aW5kb3ciLCJvcmllbnRhdGlvbiIsImZhZGVJbiIsImZhZGVPdXQiLCJjaGVja0hlcm8iLCJfeSIsImhlcm9tb3VzZVkiLCJfeCIsImhlcm9tb3VzZVgiLCJ0b3VjaHZhbHVlWSIsInRvdWNodmFsdWVYIiwibm93bnVtIiwiYXR0ciIsInJlcGxhY2UiLCJsb2NhdGlvbiIsImhyZWYiLCJzaG93bWVudSIsIl90IiwiY3NzIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1lbnVtb3VzZU91dCIsImJsdWVfbGluZXRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2hhbmdlaGVybyIsIl9tYXgiLCJsZWZ0YnRuIiwidGhpcyIsInJpZ2h0YnRuIiwicGVyc29uIiwiYnQiLCJjbGljayIsImluZGV4Iiwic2hhcmVGYiIsIl9saW5rIiwiRkIiLCJ1aSIsIm1ldGhvZCIsIm5hbWUiLCJzaGFyZXRpdGxlIiwiY2FwdGlvbiIsImRlc2NyaXB0aW9uIiwic2hhcmVkZXMiLCJkaXNwbGF5IiwibGluayIsInJlc3BvbnNlIiwiX28iLCJfaWQiLCJfYXV0b3BsYXkiLCJ2aWRlbyIsIllUIiwiUGxheWVyIiwid2lkdGgiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImNvbnRyb2xzIiwiYXV0b3BsYXkiLCJlbmFibGVqc2FwaSIsImhkIiwicmVsIiwic2hvd2luZm8iLCJtb2Rlc3RicmFuZGluZyIsImNjX2xvYWRfcG9saWN5Iiwid21vZGUiLCJldmVudHMiLCJvblJlYWR5IiwidmlkZW9SZWFkeSIsInNlZWtUbyIsInBhdXNlVmlkZW8iLCJfdG9wIiwib2Zmc2V0IiwidG9wIiwiX3dpZHRoIiwiYW5pbWF0ZSIsImJsdWVfbGluZV9zcGVlZCIsImxlZnQiLCJ2aWRlb2xpbmsiLCJzdWIiLCJGQkFwcElkIiwibWFpbnVybCIsImNhbnZhcyIsInN0YWdlIiwiZXhwb3J0Um9vdCIsImdldEVsZW1lbnRCeUlkIiwibGliIiwiaW5lZHgiLCJjcmVhdGVqcyIsIlN0YWdlIiwiYWRkQ2hpbGQiLCJ1cGRhdGUiLCJUaWNrZXIiLCJzZXRGUFMiLCJwcm9wZXJ0aWVzIiwiZnBzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlBhcmFsbGF4IiwiUGFyYWxsYXgyIiwiaW5pdCIsImFwcElkIiwiY2hhbm5lbFVybCIsInN0YXR1cyIsInhmYm1sIiwiY29va2llIiwiYmluZCIsInVuYmluZCIsIm9wZW4iLCJvbiIsIl90aCIsInBhcmVudCIsInBsYXlWaWRlbyIsIm1vdXNlb3ZlciIsInN0b3AiLCJtb3VzZW1vdmUiLCJtb3VzZW91dCIsIm9ub3JpZW50YXRpb25jaGFuZ2UiLCJsb2FkIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQTJEZixRQUFTQyxHQUFjQyxHQUN0QkEsRUFBSUEsRUFBRUMsY0FBY0MsUUFBUSxHQUM1QkMsRUFBRUMsZUFBaUJKLEVBQUVLLE1BQ3JCRixFQUFFRyxlQUFpQk4sRUFBRU8sTUFnRnhCLFFBQVNDLEtBQ1IsR0FBR0wsRUFBRU0sSUFBSUMsU0FBUyxTQUFT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Y3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cclxuXHQvL0luaXRcclxuXHR2YXIgbyA9IHtcclxuXHRcdHdycDogJCgnLmJyZWFrX3dyYXBwZXInKSxcclxuXHRcdHRvdWNodmFsdWVZOiAyNSxcclxuXHRcdHRvdWNodmFsdWVYOiAxMDAsXHJcblx0XHRibHVlX2xpbmVfc3BlZWQ6IDEwMCxcclxuXHRcdHZpZGVvSUQ6ICdiUmhwa3AxX3FFSScsXHJcblx0XHR2aWRlb2xpbms6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWJSaHBrcDFfcUVJJyxcclxuXHRcdHN1YjogJCgnLmJyZWFrX3RvcF9iYXIgLnN1YicpLFxyXG5cdFx0RkJBcHBJZDogJzEzMDE5NzM4MjMxNTA5ODgnLFxyXG5cdFx0bWFpbnVybDogJ2h0dHA6Ly93d3cuc2Ftc3VuZy5jb20vdHcvY2FtcGFpZ25zLzIwMTZvbHltcGljcy9pbmRleC5odG1sJyxcclxuXHRcdHNoYXJldGl0bGU6ICfnqoHnoLTmpbXpmZDkuYvlt5QgLSAyMDE26YeM57SE5aWn6YGL5Y+w54Gj5Luj6KGo6ZqKIOisneisneS9oOeahOWKquWKmycsXHJcblx0XHRzaGFyZWRlczogJ+eXm+iLpuacg+mBjuWOu++8jOamruiAgOWwh+eVmeS4i+isneisneS9oOeahOWKquWKm++8jDIwMTYg6YeM57SE5aWn6YGL5Y+w54Gj5Luj6KGo6ZqK77yM5L2g5YCR6L6b6Ium5LqG77yBJ1xyXG5cdH07XHJcblxyXG5cdGlmKCQod2luZG93KS53aWR0aCgpPD02NDApIG8ubW9iaWxlID0gdHJ1ZTtcclxuXHRlbHNlIG8ubW9iaWxlID0gZmFsc2U7XHJcblxyXG5cdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdHZhciBjYW52YXMsIHN0YWdlLCBleHBvcnRSb290O1xyXG5cdFx0Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcblx0XHRleHBvcnRSb290ID0gbmV3IGxpYi5pbmVkeCgpO1xyXG5cdFx0c3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoY2FudmFzKTtcclxuXHRcdHN0YWdlLmFkZENoaWxkKGV4cG9ydFJvb3QpO1xyXG5cdFx0c3RhZ2UudXBkYXRlKCk7XHJcblx0XHRjcmVhdGVqcy5UaWNrZXIuc2V0RlBTKGxpYi5wcm9wZXJ0aWVzLmZwcyk7XHJcblx0XHRjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgc3RhZ2UpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0by5QYXJhbGxheCA9IG5ldyBQYXJhbGxheChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWtfcGFnZV9wZzFfa3YnKSk7XHJcblx0XHRcdG8uUGFyYWxsYXgyID0gbmV3IFBhcmFsbGF4KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha19wYWdlX3BnMV9iZycpKTtcclxuXHRcdH1cclxuXHRcdEZCLmluaXQoe1xyXG5cdCAgICAgICAgYXBwSWQgICAgICA6IG8uRkJBcHBJZCxcclxuXHQgICAgICAgIGNoYW5uZWxVcmwgOiBvLm1haW51cmwsXHJcblx0ICAgICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgY29va2llICAgICA6IHRydWVcclxuXHQgICAgfSk7XHJcblx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblx0XHRGQi5pbml0KHtcclxuXHQgICAgICAgIGFwcElkICAgICAgOiBvLkZCQXBwSWQsXHJcblx0ICAgICAgICBjaGFubmVsVXJsIDogby5tYWludXJsLFxyXG5cdCAgICAgICAgc3RhdHVzICAgICA6IHRydWUsXHJcblx0ICAgICAgICB4ZmJtbCAgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIGNvb2tpZSAgICAgOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgICBpZihvLm1vYmlsZSl7XHJcblx0ICAgIFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2hzdGFydCcsZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCcpLmJpbmQoJ3RvdWNobW92ZScsaGVyb3RvdWNobW92ZSk7XHJcblx0XHRcdFx0by5oZXJvbW91c2VYID0gZS5wYWdlWDtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVkgPSBlLnBhZ2VZO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2hlbmQnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdCQoJy5oZXJvX2JveCcpLnVuYmluZCgndG91Y2htb3ZlJyxoZXJvdG91Y2htb3ZlKTtcclxuXHRcdFx0XHRjaGVja0hlcm8oKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGZ1bmN0aW9uIGhlcm90b3VjaG1vdmUoZSl7XHJcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWF9lbmQgPSBlLnBhZ2VYO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWV9lbmQgPSBlLnBhZ2VZO1xyXG5cdFx0XHR9XHJcblx0ICAgIH1cclxuXHR9XHJcblxyXG5cdC8vQWRkbGlzdGVuZXJcclxuXHQkKCcubG9nbycpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRpZihvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCFvLndycC5oYXNDbGFzcygnaW5kZXgnKSkgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaW5kZXguaHRtbCc7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLmNoYXRidG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0d2luZG93Lm9wZW4oXCJ3aGF0c2FwcDovL3NlbmQ/dGV4dD1cIit3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblx0fSk7XHJcblx0JCgnLmxpbmVidG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0d2luZG93Lm9wZW4oXCIvL2xpbmUubWUvUi9tc2cvdGV4dC8/XCIrby5zaGFyZXRpdGxlK1wi77yMXCIrby5zaGFyZWRlcysgd2luZG93LmxvY2F0aW9uLmhyZWYgK1wi44CAXCIsJ19ibGFuaycsIFwidG9vbGJhcj15ZXMsIHNjcm9sbGJhcnM9eWVzLCByZXNpemFibGU9eWVzLCB0b3A9MTAwLCBsZWZ0PTUwMCwgd2lkdGg9NjAwLCBoZWlnaHQ9NDAwXCIpO1xyXG5cdH0pO1xyXG5cdCQod2luZG93KS5vbigndG91Y2htb3ZlJyxmdW5jdGlvbihlKXtcclxuXHRcdGlmKG8ubW9iaWxlKXtcclxuXHRcdFx0aWYoJCgnLmJyZWFrX3RvcF9iYXInKS5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5hZGRDbGFzcygnb25fZW5kJykuY3NzKCdoZWlnaHQnLCQod2luZG93KS5oZWlnaHQoKSsxMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLm1faWNvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgX3RoID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKTtcclxuXHRcdGlmKF90aC5oYXNDbGFzcygnb24nKSl7XHJcblx0XHRcdF90aC5yZW1vdmVDbGFzcygnb25fZW5kJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcblx0XHRcdHNob3dtZW51KGZhbHNlKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRfdGguYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHRcdHNob3dtZW51KHRydWUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQoJy5oZXJvX2JveCAuZmJzaGFyZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRzaGFyZUZiKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHR9KVxyXG5cdCQoJy5icmVha193cmFwcGVyIC5wZzIgLmZic2hhcmUnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0c2hhcmVGYihvLnZpZGVvbGluayk7XHJcblx0fSk7XHJcblx0JCgnLnZpZGVvY3RybCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRvLnZpZGVvLnBsYXlWaWRlbygpO1xyXG5cdFx0JCgnLnZpZGVvY3RybCcpLmZhZGVPdXQoKTtcclxuXHR9KTtcclxuXHQkKCcubWVudWEnKS5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdGJsdWVfbGluZSgkKHRoaXMpKTtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCQodGhpcykuaW5kZXgoKT09NSl7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmZhZGVJbigpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuZmFkZU91dCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLm1lbnUnKS5tb3VzZW1vdmUoZnVuY3Rpb24oKXtcclxuXHRcdGNsZWFyVGltZW91dChvLmJsdWVfbGluZXRpbWVvdXQpO1xyXG5cdH0pO1xyXG5cdCQoJy5tZW51JykubW91c2VvdXQoZnVuY3Rpb24oKXtcclxuXHRcdG1lbnVtb3VzZU91dCgpO1xyXG5cdH0pO1xyXG5cdG8uc3ViLm1vdXNlbW92ZShmdW5jdGlvbigpe1xyXG5cdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0fSk7XHJcblx0by5zdWIubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZighby5zdWIuaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5hZGRDbGFzcygnb24nKS5mYWRlSW4oKTtcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0by5zdWIubW91c2VvdXQoZnVuY3Rpb24oKXtcclxuXHRcdG1lbnVtb3VzZU91dCgpO1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoby5zdWIuaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5yZW1vdmVDbGFzcygnb24nKS5mYWRlT3V0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHR3aW5kb3cub25vcmllbnRhdGlvbmNoYW5nZSA9IHJlYWREZXZpY2VPcmllbnRhdGlvbjtcclxuXHQkKHdpbmRvdykubG9hZCh3aW5kb3dMb2FkKTtcclxuXHRmdW5jdGlvbiB3aW5kb3dMb2FkKCl7XHJcblx0XHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyogaW5kZXggKi8vXHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgwKTtcclxuXHRcdFx0Y3JlYXRlVmlkZW8oJ3BsYXllcicsby52aWRlb0lELGZhbHNlKTtcclxuXHRcdFx0dmFyIF9yYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqNCk7XHJcblx0XHRcdCQoJy5icmVha193cmFwcGVyIC5wZzMgLnBlcnNvbicpLmVxKF9yYW5kb20pLnNob3coKTtcclxuXHJcblx0XHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygncnVsZScpKXtcclxuXHJcblx0XHRcdC8vKiBydWxlICovL1xyXG5cdFx0XHRvLmJsdWVfbGluZWluaXQ9JCgnLm1lbnVhJykuZXEoMyk7XHJcblx0XHRcdGlmKCFvLm1vYmlsZSkgJChcIi5ydWxlX2JveCAucnVsZV93b3JkXCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG5cdFx0XHRzaG93bG9hZGluZyhmYWxzZSk7XHJcblxyXG5cdFx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ2hlcm8nKSl7XHJcblxyXG5cdFx0XHQvLyogaGVybyAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDEpO1xyXG5cdFx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRcdGZvcih2YXIgaT0wO2k8JCgnLmhlcm9fYm94IC5wZXJzb24nKS5sZW5ndGg7aSsrKXtcclxuXHRcdFx0XHRcdCQoJy5oZXJvX2JveCAucGVyc29uJykuZXEoaSkuZmluZCgnLncnKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0JCgnLmhlcm9fYm94JykuZWFjaChoZXJvX2JveGZjKTtcclxuXHRcdFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0Ymx1ZV9saW5lKG8uYmx1ZV9saW5laW5pdCk7XHJcblx0fVxyXG5cclxuXHQvL0V2ZW50XHJcblx0ZnVuY3Rpb24gcmVhZERldmljZU9yaWVudGF0aW9uKCkge1xyXG5cdFx0YWxlcnQoTWF0aC5hYnMod2luZG93Lm9yaWVudGF0aW9uKSk7XHJcblx0ICAgIGlmIChNYXRoLmFicyh3aW5kb3cub3JpZW50YXRpb24pID09IDkwKSB7XHJcblx0ICAgICAgICAvLyBMYW5kc2NhcGVcclxuXHQgICAgICAgICQoJy5icmVha19tb2JpbGVfY292ZXInKS5mYWRlSW4oKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgXHQvLyBQb3J0cmFpdFxyXG5cdCAgICBcdCQoJy5icmVha19tb2JpbGVfY292ZXInKS5mYWRlT3V0KCk7XHJcblx0ICAgIH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gY2hlY2tIZXJvKCl7XHJcblx0XHR2YXIgX3kgPSBNYXRoLmFicyggby5oZXJvbW91c2VZX2VuZCAtIG8uaGVyb21vdXNlWSk7XHJcblx0XHR2YXIgX3ggPSBvLmhlcm9tb3VzZVhfZW5kIC0gby5oZXJvbW91c2VYO1xyXG5cdFx0aWYoX3kgPj0gby50b3VjaHZhbHVlWSkgcmV0dXJuO1xyXG5cdFx0ZWxzZXtcclxuXHRcdFx0aWYoTWF0aC5hYnMoX3gpPD1vLnRvdWNodmFsdWVYKSByZXR1cm47XHJcblxyXG5cdFx0XHR2YXIgbm93bnVtID0kKCcucGVyc29uJykuYXR0cignY2xhc3MnKS5yZXBsYWNlKCdwZXJzb24gcGUnLCcnKS5yZXBsYWNlKCcgb24nLCcnKSoxO1xyXG5cdFx0XHRpZihfeD4wKSBub3dudW0gPSBub3dudW0qMSAtIDE7XHJcblx0XHRcdGVsc2Ugbm93bnVtID0gbm93bnVtKjEgKyAxO1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPTU7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT41KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaG93bWVudShfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdCQoJy5icmVha190b3BfYmFyJykuY3NzKCdoZWlnaHQnLCQod2luZG93KS5oZWlnaHQoKSkuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JCgnLmJyZWFrX3RvcF9iYXInKS5hdHRyKCdzdHlsZScsJycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBtZW51bW91c2VPdXQoKXtcclxuXHRcdG8uYmx1ZV9saW5ldGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KG8uYmx1ZV9saW5ldGltZW91dCk7XHJcblx0XHRcdGJsdWVfbGluZShvLmJsdWVfbGluZWluaXQpO1xyXG5cdFx0fSwxNTAwKTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gaGVyb19ib3hmYygpe1xyXG5cdFx0dmFyIGxlZnRidG4gPSAkKHRoaXMpLmZpbmQoJy5sZWZ0YnRuJyksXHJcblx0XHRcdHJpZ2h0YnRuID0gJCh0aGlzKS5maW5kKCcucmlnaHRidG4nKSxcclxuXHRcdFx0cGVyc29uID0gJCh0aGlzKS5maW5kKCcucGVyc29uJyksXHJcblx0XHRcdGJ0ID0gJCh0aGlzKS5maW5kKCcuc3ViJykuZmluZCgnLmJ0JyksXHJcblx0XHRcdF9tYXggPSA1LFxyXG5cdFx0XHRub3dudW0gPXBlcnNvbi5hdHRyKCdjbGFzcycpLnJlcGxhY2UoJ3BlcnNvbiBwZScsJycpLnJlcGxhY2UoJyBvbicsJycpKjE7XHJcblxyXG5cdFx0cGVyc29uLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0YnQuZXEobm93bnVtLTEpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0bGVmdGJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0tPTE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0cmlnaHRidG4uY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtKz0xO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdGJ0LmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bSA9ICQodGhpcykuaW5kZXgoKSArIDE7XHJcblx0XHRcdGNoYW5nZWhlcm8oKTtcclxuXHRcdH0pO1xyXG5cdFx0ZnVuY3Rpb24gY2hhbmdlaGVybygpe1xyXG5cdFx0XHRpZihub3dudW08MSl7bm93bnVtPV9tYXg7fVxyXG5cdFx0XHRlbHNlIGlmKG5vd251bT5fbWF4KXtub3dudW09MTt9XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2hlcm8nK25vd251bSsnLmh0bWwnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBzaGFyZUZiKF9saW5rKXtcclxuICAgICAgICBGQi51aSh7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdmZWVkJyxcclxuICAgICAgICAgICAgbmFtZTogby5zaGFyZXRpdGxlLFxyXG4gICAgICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogby5zaGFyZWRlcyxcclxuICAgICAgICAgICAgZGlzcGxheTpcInBvcHVwXCIsXHJcbiAgICAgICAgICAgIGxpbms6IF9saW5rXHJcbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICB9KTsgICAgICAgIFxyXG4gICAgfVxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVZpZGVvKF9vLF9pZCxfYXV0b3BsYXkpe1xyXG4gICAgICAgIG8udmlkZW8gPSBuZXcgWVQuUGxheWVyKF9vLCB7XHJcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICB2aWRlb0lkOiBfaWQsXHJcbiAgICAgICAgICBwbGF5ZXJWYXJzOntcclxuICAgICAgICAgICAgJ2NvbnRyb2xzJzowLFxyXG4gICAgICAgICAgICAnYXV0b3BsYXknOl9hdXRvcGxheSxcclxuICAgICAgICAgICAgJ2VuYWJsZWpzYXBpJzonMCcsXHJcbiAgICAgICAgICAgICdoZCc6JzEnLFxyXG4gICAgICAgICAgICAncmVsJzonMCcsXHJcbiAgICAgICAgICAgICdzaG93aW5mbyc6JzAnLFxyXG4gICAgICAgICAgICAnbW9kZXN0YnJhbmRpbmcnOicxJyxcclxuICAgICAgICAgICAgJ2NjX2xvYWRfcG9saWN5JzonMScsXHJcbiAgICAgICAgICAgICd3bW9kZSc6J3RyYW5zcGFyZW50JyAgICAgIFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGV2ZW50czoge1xyXG5cdCAgICAgICAgJ29uUmVhZHknOiB2aWRlb1JlYWR5XHJcblx0ICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdmlkZW9SZWFkeSgpe1xyXG4gICAgXHRvLnZpZGVvLnNlZWtUbygxKS5wYXVzZVZpZGVvKCk7XHJcbiAgICBcdHNob3dsb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuXHRmdW5jdGlvbiBzaG93bG9hZGluZyhfdCl7XHJcblx0XHRpZihfdCl7XHJcblx0XHRcdCQoJy5icmVha19sb2FkaW5nJykuZmFkZUluKCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JCgnLmJyZWFrX2xvYWRpbmcnKS5mYWRlT3V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGJsdWVfbGluZShfbyl7XHJcblx0XHRpZihvLm1vYmlsZSl7XHJcblx0XHRcdHZhciBfdG9wID0gX28ub2Zmc2V0KCkudG9wIC0gJCgnLmJyZWFrX3RvcF9iYXInKS5vZmZzZXQoKS50b3AgKyBfby5oZWlnaHQoKSowLjc1O1xyXG5cdFx0XHRpZihvLmJsdWVfbGluZT09X3RvcCl7cmV0dXJufVxyXG5cdFx0XHRvLmJsdWVfbGluZSA9IF90b3A7XHJcblx0XHRcdHZhciBfd2lkdGg7XHJcblx0XHRcdGlmKF9vLmluZGV4KCk9PTApIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogMzM7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09MSkgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiAxMDc7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09MikgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiA4NDtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0zKSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDY5O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTQpIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogNjg7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09NSkgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiAxMTg7XHJcblx0XHRcdCQoJy5ibHVlX2xpbmUnKS5hbmltYXRlKHsndG9wJzpvLmJsdWVfbGluZSwnd2lkdGgnOl93aWR0aH0sby5ibHVlX2xpbmVfc3BlZWQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGlmKG8uYmx1ZV9saW5lPT0oX28ub2Zmc2V0KCkubGVmdCAtICQoJy5icmVha190b3BfYmFyaW4nKS5vZmZzZXQoKS5sZWZ0KSl7cmV0dXJufVxyXG5cdFx0XHRvLmJsdWVfbGluZSA9IF9vLm9mZnNldCgpLmxlZnQgLSAkKCcuYnJlYWtfdG9wX2JhcmluJykub2Zmc2V0KCkubGVmdDtcclxuXHRcdFx0JCgnLmJsdWVfbGluZScpLmFuaW1hdGUoeydsZWZ0JzpvLmJsdWVfbGluZSwnd2lkdGgnOl9vLndpZHRoKCl9LG8uYmx1ZV9saW5lX3NwZWVkKTtcclxuXHRcdH1cclxuXHR9XHJcbiAgXHJcbn0pLy9yZWFkeSBlbmQgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
