$(document).ready(function(){function e(e){e=e.originalEvent.touches[0],c.heromouseX_end=e.pageX,c.heromouseY_end=e.pageY}function o(){if(alert("v 1.0"),c.wrp.hasClass("index")){c.blue_lineinit=$(".menua").eq(0),s("player",c.videoID,!1);var e=Math.round(4*Math.random());console.log(e),$(".break_wrapper .pg3 .person").eq(e).show()}else if(c.wrp.hasClass("rule"))c.blue_lineinit=$(".menua").eq(3),c.mobile||$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),u(!1);else if(c.wrp.hasClass("hero")){if(c.blue_lineinit=$(".menua").eq(1),!c.mobile)for(var o=0;o<$(".hero_box .person").length;o++)$(".hero_box .person").eq(o).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(a),u(!1)}d(c.blue_lineinit)}function n(){var e=Math.abs(c.heromouseY_end-c.heromouseY),o=c.heromouseX_end-c.heromouseX;if(!(e>=c.touchvalueY||Math.abs(o)<=c.touchvalueX)){var n=1*$(".person").attr("class").replace("person pe","").replace(" on","");n=o>0?1*n+1:1*n-1,n<1?n=5:n>5&&(n=1),window.location.href="hero"+n+".html"}}function i(e){e?$(".break_top_bar").css("height",$(window).height()).addClass("on"):$(".break_top_bar").attr("style","").removeClass("on")}function t(){c.blue_linetimeout=setTimeout(function(){clearTimeout(c.blue_linetimeout),d(c.blue_lineinit)},1500)}function a(){function e(){l<1?l=a:l>a&&(l=1),window.location.href="hero"+l+".html"}var o=$(this).find(".leftbtn"),n=$(this).find(".rightbtn"),i=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,l=1*i.attr("class").replace("person pe","").replace(" on","");i.addClass("on"),t.eq(l-1).addClass("on"),o.click(function(){l-=1,e()}),n.click(function(){l+=1,e()}),t.click(function(){l=$(this).index()+1,e()})}function l(e){FB.ui({method:"feed",name:c.sharetitle,caption:"",description:c.sharedes,display:"popup",link:e},function(e){})}function s(e,o,n){c.video=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{controls:0,autoplay:n,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:r}})}function r(){c.video.seekTo(1).pauseVideo(),u(!1)}function u(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function d(e){if(c.mobile){var o=e.offset().top-$(".break_top_bar").offset().top+60;if(c.blue_line==o)return;c.blue_line=o;var n;0==e.index()?n=70:1==e.index()?n=224:2==e.index()?n=186:3==e.index()?n=146:4==e.index()?n=146:5==e.index()&&(n=260),$(".blue_line").animate({top:c.blue_line,width:n},c.blue_line_speed)}else{if(c.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;c.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:c.blue_line,width:e.width()},c.blue_line_speed)}}var c={wrp:$(".break_wrapper"),touchvalueY:25,touchvalueX:50,blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/2016olympics/index.html",sharetitle:"突破極限之巔 - 2016里約奧運台灣代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運台灣代表隊，你們辛苦了！"};if($(window).width()<=640?c.mobile=!0:c.mobile=!1,c.wrp.hasClass("index")){var b,h,p;b=document.getElementById("canvas"),p=new lib.firwork,h=new createjs.Stage(b),h.addChild(p),h.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",h),c.mobile||(c.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),c.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:c.FBAppId,channelUrl:c.mainurl,status:!0,xfbml:!0,cookie:!0})}else c.wrp.hasClass("hero")&&(FB.init({appId:c.FBAppId,channelUrl:c.mainurl,status:!0,xfbml:!0,cookie:!0}),c.mobile&&($(".hero_box").bind("touchstart",function(o){o=o.originalEvent.touches[0],$(".hero_box").bind("touchmove",e),c.heromouseX=o.pageX,c.heromouseY=o.pageY}),$(".hero_box").bind("touchend",function(o){$(".hero_box").unbind("touchmove",e),n()})));$(".chatbtn").click(function(){window.open("whatsapp://send?text="+window.location.href)}),$(".linebtn").click(function(){window.open("//line.me/R/msg/text/?"+c.sharetitle+"，"+c.sharedes+window.location.href+"　","_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=400")}),$(window).on("touchmove",function(e){c.mobile&&$(".break_top_bar").hasClass("on")&&$(".break_top_bar").addClass("on_end").css("height",$(window).height()+100)}),$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on_end").removeClass("on"),i(!1)):(e.addClass("on"),i(!0))}),$(".hero_box .fbshare").click(function(){l(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){l(c.videolink)}),$(".videoctrl").click(function(){c.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){d($(this)),c.mobile||(5==$(this).index()?c.sub.stop().fadeIn():c.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(c.blue_linetimeout)}),$(".menu").mouseout(function(){t()}),c.sub.mousemove(function(){clearTimeout(c.blue_linetimeout)}),c.sub.mouseover(function(){c.mobile||c.sub.hasClass("on")||c.sub.stop().addClass("on").fadeIn()}),c.sub.mouseout(function(){t(),c.mobile||c.sub.hasClass("on")&&c.sub.stop().removeClass("on").fadeOut()}),$(window).load(o)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhlcm90b3VjaG1vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJvIiwiaGVyb21vdXNlWF9lbmQiLCJwYWdlWCIsImhlcm9tb3VzZVlfZW5kIiwicGFnZVkiLCJ3aW5kb3dMb2FkIiwiYWxlcnQiLCJ3cnAiLCJoYXNDbGFzcyIsImJsdWVfbGluZWluaXQiLCJlcSIsImNyZWF0ZVZpZGVvIiwidmlkZW9JRCIsIl9yYW5kb20iLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjb25zb2xlIiwibG9nIiwic2hvdyIsIm1vYmlsZSIsIm1DdXN0b21TY3JvbGxiYXIiLCJzY3JvbGxJbmVydGlhIiwic2Nyb2xsRWFzaW5nIiwic2hvd2xvYWRpbmciLCJpIiwibGVuZ3RoIiwiZmluZCIsImVhY2giLCJoZXJvX2JveGZjIiwiYmx1ZV9saW5lIiwiY2hlY2tIZXJvIiwiX3kiLCJhYnMiLCJoZXJvbW91c2VZIiwiX3giLCJoZXJvbW91c2VYIiwidG91Y2h2YWx1ZVkiLCJ0b3VjaHZhbHVlWCIsIm5vd251bSIsImF0dHIiLCJyZXBsYWNlIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic2hvd21lbnUiLCJfdCIsImNzcyIsImhlaWdodCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtZW51bW91c2VPdXQiLCJibHVlX2xpbmV0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNoYW5nZWhlcm8iLCJfbWF4IiwibGVmdGJ0biIsInRoaXMiLCJyaWdodGJ0biIsInBlcnNvbiIsImJ0IiwiY2xpY2siLCJpbmRleCIsInNoYXJlRmIiLCJfbGluayIsIkZCIiwidWkiLCJtZXRob2QiLCJuYW1lIiwic2hhcmV0aXRsZSIsImNhcHRpb24iLCJkZXNjcmlwdGlvbiIsInNoYXJlZGVzIiwiZGlzcGxheSIsImxpbmsiLCJyZXNwb25zZSIsIl9vIiwiX2lkIiwiX2F1dG9wbGF5IiwidmlkZW8iLCJZVCIsIlBsYXllciIsIndpZHRoIiwidmlkZW9JZCIsInBsYXllclZhcnMiLCJjb250cm9scyIsImF1dG9wbGF5IiwiZW5hYmxlanNhcGkiLCJoZCIsInJlbCIsInNob3dpbmZvIiwibW9kZXN0YnJhbmRpbmciLCJjY19sb2FkX3BvbGljeSIsIndtb2RlIiwiZXZlbnRzIiwib25SZWFkeSIsInZpZGVvUmVhZHkiLCJzZWVrVG8iLCJwYXVzZVZpZGVvIiwiZmFkZUluIiwiZmFkZU91dCIsIl90b3AiLCJvZmZzZXQiLCJ0b3AiLCJfd2lkdGgiLCJhbmltYXRlIiwiYmx1ZV9saW5lX3NwZWVkIiwibGVmdCIsInZpZGVvbGluayIsInN1YiIsIkZCQXBwSWQiLCJtYWludXJsIiwiY2FudmFzIiwic3RhZ2UiLCJleHBvcnRSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJsaWIiLCJmaXJ3b3JrIiwiY3JlYXRlanMiLCJTdGFnZSIsImFkZENoaWxkIiwidXBkYXRlIiwiVGlja2VyIiwic2V0RlBTIiwicHJvcGVydGllcyIsImZwcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJQYXJhbGxheCIsIlBhcmFsbGF4MiIsImluaXQiLCJhcHBJZCIsImNoYW5uZWxVcmwiLCJzdGF0dXMiLCJ4ZmJtbCIsImNvb2tpZSIsImJpbmQiLCJ1bmJpbmQiLCJvcGVuIiwib24iLCJfdGgiLCJwYXJlbnQiLCJwbGF5VmlkZW8iLCJtb3VzZW92ZXIiLCJzdG9wIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJsb2FkIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQTJEZixRQUFTQyxHQUFjQyxHQUN0QkEsRUFBSUEsRUFBRUMsY0FBY0MsUUFBUSxHQUM1QkMsRUFBRUMsZUFBaUJKLEVBQUVLLE1BQ3JCRixFQUFFRyxlQUFpQk4sRUFBRU8sTUEwRXhCLFFBQVNDLEtBRVIsR0FEQUMsTUFBTSxTQUNITixFQUFFTyxJQUFJQyxTQUFTLFNBQVMsQ0FHMUJSLEVBQUVTLGNBQWNoQixFQUFFLFVBQVVp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QUFFaUUsTUFBTUssUUFDVi9ELEVBQUU4RyxJQUFJa0MsT0FBTzVDLFNBRWJwRyxFQUFFOEcsSUFBSWtDLE9BQU8zQyxhQUloQjVHLEVBQUUsU0FBU3dKLFVBQVUsV0FDcEIzRixhQUFhdEQsRUFBRW9ELG9CQUVoQjNELEVBQUUsU0FBU3lKLFNBQVMsV0FDbkIvRixNQUVEbkQsRUFBRThHLElBQUltQyxVQUFVLFdBQ2YzRixhQUFhdEQsRUFBRW9ELG9CQUVoQnBELEVBQUU4RyxJQUFJaUMsVUFBVSxXQUNYL0ksRUFBRW9CLFFBQ0RwQixFQUFFOEcsSUFBSXRHLFNBQVMsT0FDbEJSLEVBQUU4RyxJQUFJa0MsT0FBTy9GLFNBQVMsTUFBTW1ELFdBSS9CcEcsRUFBRThHLElBQUlvQyxTQUFTLFdBQ2QvRixJQUNJbkQsRUFBRW9CLFFBQ0ZwQixFQUFFOEcsSUFBSXRHLFNBQVMsT0FDakJSLEVBQUU4RyxJQUFJa0MsT0FBTzlGLFlBQVksTUFBTW1ELFlBSWxDNUcsRUFBRWlELFFBQVF5RyxLQUFLOUkiLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcblx0Ly9Jbml0XHJcblx0dmFyIG8gPSB7XHJcblx0XHR3cnA6ICQoJy5icmVha193cmFwcGVyJyksXHJcblx0XHR0b3VjaHZhbHVlWTogMjUsXHJcblx0XHR0b3VjaHZhbHVlWDogNTAsXHJcblx0XHRibHVlX2xpbmVfc3BlZWQ6IDEwMCxcclxuXHRcdHZpZGVvSUQ6ICdiUmhwa3AxX3FFSScsXHJcblx0XHR2aWRlb2xpbms6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWJSaHBrcDFfcUVJJyxcclxuXHRcdHN1YjogJCgnLmJyZWFrX3RvcF9iYXIgLnN1YicpLFxyXG5cdFx0RkJBcHBJZDogJzEzMDE5NzM4MjMxNTA5ODgnLFxyXG5cdFx0bWFpbnVybDogJ2h0dHA6Ly93d3cuc2Ftc3VuZy5jb20vdHcvY2FtcGFpZ25zLzIwMTZvbHltcGljcy9pbmRleC5odG1sJyxcclxuXHRcdHNoYXJldGl0bGU6ICfnqoHnoLTmpbXpmZDkuYvlt5QgLSAyMDE26YeM57SE5aWn6YGL5Y+w54Gj5Luj6KGo6ZqKIOisneisneS9oOeahOWKquWKmycsXHJcblx0XHRzaGFyZWRlczogJ+eXm+iLpuacg+mBjuWOu++8jOamruiAgOWwh+eVmeS4i+isneisneS9oOeahOWKquWKm++8jDIwMTYg6YeM57SE5aWn6YGL5Y+w54Gj5Luj6KGo6ZqK77yM5L2g5YCR6L6b6Ium5LqG77yBJ1xyXG5cdH07XHJcblxyXG5cdGlmKCQod2luZG93KS53aWR0aCgpPD02NDApIG8ubW9iaWxlID0gdHJ1ZTtcclxuXHRlbHNlIG8ubW9iaWxlID0gZmFsc2U7XHJcblxyXG5cdGlmKG8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKXtcclxuXHRcdHZhciBjYW52YXMsIHN0YWdlLCBleHBvcnRSb290O1xyXG5cdFx0Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcblx0XHRleHBvcnRSb290ID0gbmV3IGxpYi5maXJ3b3JrKCk7XHJcblx0XHRzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShjYW52YXMpO1xyXG5cdFx0c3RhZ2UuYWRkQ2hpbGQoZXhwb3J0Um9vdCk7XHJcblx0XHRzdGFnZS51cGRhdGUoKTtcclxuXHRcdGNyZWF0ZWpzLlRpY2tlci5zZXRGUFMobGliLnByb3BlcnRpZXMuZnBzKTtcclxuXHRcdGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBzdGFnZSk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRvLlBhcmFsbGF4ID0gbmV3IFBhcmFsbGF4KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha19wYWdlX3BnMV9rdicpKTtcclxuXHRcdFx0by5QYXJhbGxheDIgPSBuZXcgUGFyYWxsYXgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrX3BhZ2VfcGcxX2JnJykpO1xyXG5cdFx0fVxyXG5cdFx0RkIuaW5pdCh7XHJcblx0ICAgICAgICBhcHBJZCAgICAgIDogby5GQkFwcElkLFxyXG5cdCAgICAgICAgY2hhbm5lbFVybCA6IG8ubWFpbnVybCxcclxuXHQgICAgICAgIHN0YXR1cyAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgeGZibWwgICAgICA6IHRydWUsXHJcblx0ICAgICAgICBjb29raWUgICAgIDogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHR9ZWxzZSBpZihvLndycC5oYXNDbGFzcygnaGVybycpKXtcclxuXHRcdEZCLmluaXQoe1xyXG5cdCAgICAgICAgYXBwSWQgICAgICA6IG8uRkJBcHBJZCxcclxuXHQgICAgICAgIGNoYW5uZWxVcmwgOiBvLm1haW51cmwsXHJcblx0ICAgICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuXHQgICAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgY29va2llICAgICA6IHRydWVcclxuXHQgICAgfSk7XHJcblx0ICAgIGlmKG8ubW9iaWxlKXtcclxuXHQgICAgXHQkKCcuaGVyb19ib3gnKS5iaW5kKCd0b3VjaHN0YXJ0JyxmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRlID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XHJcblx0XHRcdFx0JCgnLmhlcm9fYm94JykuYmluZCgndG91Y2htb3ZlJyxoZXJvdG91Y2htb3ZlKTtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVggPSBlLnBhZ2VYO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWSA9IGUucGFnZVk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkKCcuaGVyb19ib3gnKS5iaW5kKCd0b3VjaGVuZCcsZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0JCgnLmhlcm9fYm94JykudW5iaW5kKCd0b3VjaG1vdmUnLGhlcm90b3VjaG1vdmUpO1xyXG5cdFx0XHRcdGNoZWNrSGVybygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0ZnVuY3Rpb24gaGVyb3RvdWNobW92ZShlKXtcclxuXHRcdFx0XHRlID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XHJcblx0XHRcdFx0by5oZXJvbW91c2VYX2VuZCA9IGUucGFnZVg7XHJcblx0XHRcdFx0by5oZXJvbW91c2VZX2VuZCA9IGUucGFnZVk7XHJcblx0XHRcdH1cclxuXHQgICAgfVxyXG5cdH1cclxuXHJcblx0Ly9BZGRsaXN0ZW5lclxyXG5cdCQoJy5jaGF0YnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHdpbmRvdy5vcGVuKFwid2hhdHNhcHA6Ly9zZW5kP3RleHQ9XCIrd2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cdH0pO1xyXG5cdCQoJy5saW5lYnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHdpbmRvdy5vcGVuKFwiLy9saW5lLm1lL1IvbXNnL3RleHQvP1wiK28uc2hhcmV0aXRsZStcIu+8jFwiK28uc2hhcmVkZXMrIHdpbmRvdy5sb2NhdGlvbi5ocmVmICtcIuOAgFwiLCdfYmxhbmsnLCBcInRvb2xiYXI9eWVzLCBzY3JvbGxiYXJzPXllcywgcmVzaXphYmxlPXllcywgdG9wPTEwMCwgbGVmdD01MDAsIHdpZHRoPTYwMCwgaGVpZ2h0PTQwMFwiKTtcclxuXHR9KTtcclxuXHQkKHdpbmRvdykub24oJ3RvdWNobW92ZScsZnVuY3Rpb24oZSl7XHJcblx0XHRpZihvLm1vYmlsZSl7XHJcblx0XHRcdGlmKCQoJy5icmVha190b3BfYmFyJykuaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRcdCQoJy5icmVha190b3BfYmFyJykuYWRkQ2xhc3MoJ29uX2VuZCcpLmNzcygnaGVpZ2h0JywkKHdpbmRvdykuaGVpZ2h0KCkrMTAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQoJy5tX2ljb24nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0dmFyIF90aCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCk7XHJcblx0XHRpZihfdGguaGFzQ2xhc3MoJ29uJykpe1xyXG5cdFx0XHRfdGgucmVtb3ZlQ2xhc3MoJ29uX2VuZCcpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG5cdFx0XHRzaG93bWVudShmYWxzZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0X3RoLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0XHRzaG93bWVudSh0cnVlKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcuaGVyb19ib3ggLmZic2hhcmUnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0c2hhcmVGYih3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblx0fSlcclxuXHQkKCcuYnJlYWtfd3JhcHBlciAucGcyIC5mYnNoYXJlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHNoYXJlRmIoby52aWRlb2xpbmspO1xyXG5cdH0pO1xyXG5cdCQoJy52aWRlb2N0cmwnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0by52aWRlby5wbGF5VmlkZW8oKTtcclxuXHRcdCQoJy52aWRlb2N0cmwnKS5mYWRlT3V0KCk7XHJcblx0fSk7XHJcblx0JCgnLm1lbnVhJykubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHRibHVlX2xpbmUoJCh0aGlzKSk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZigkKHRoaXMpLmluZGV4KCk9PTUpe1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5mYWRlSW4oKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmZhZGVPdXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQoJy5tZW51JykubW91c2Vtb3ZlKGZ1bmN0aW9uKCl7XHJcblx0XHRjbGVhclRpbWVvdXQoby5ibHVlX2xpbmV0aW1lb3V0KTtcclxuXHR9KTtcclxuXHQkKCcubWVudScpLm1vdXNlb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRtZW51bW91c2VPdXQoKTtcclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW1vdmUoZnVuY3Rpb24oKXtcclxuXHRcdGNsZWFyVGltZW91dChvLmJsdWVfbGluZXRpbWVvdXQpO1xyXG5cdH0pO1xyXG5cdG8uc3ViLm1vdXNlb3ZlcihmdW5jdGlvbigpe1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoIW8uc3ViLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuYWRkQ2xhc3MoJ29uJykuZmFkZUluKCk7XHRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdG8uc3ViLm1vdXNlb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRtZW51bW91c2VPdXQoKTtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKG8uc3ViLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkucmVtb3ZlQ2xhc3MoJ29uJykuZmFkZU91dCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCh3aW5kb3cpLmxvYWQod2luZG93TG9hZCk7XHJcblx0ZnVuY3Rpb24gd2luZG93TG9hZCgpe1xyXG5cdFx0YWxlcnQoJ3YgMS4wJyk7XHJcblx0XHRpZihvLndycC5oYXNDbGFzcygnaW5kZXgnKSl7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyogaW5kZXggKi8vXHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgwKTtcclxuXHRcdFx0Y3JlYXRlVmlkZW8oJ3BsYXllcicsby52aWRlb0lELGZhbHNlKTtcclxuXHRcdFx0dmFyIF9yYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqNCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKF9yYW5kb20pO1xyXG5cdFx0XHQkKCcuYnJlYWtfd3JhcHBlciAucGczIC5wZXJzb24nKS5lcShfcmFuZG9tKS5zaG93KCk7XHJcblxyXG5cdFx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ3J1bGUnKSl7XHJcblxyXG5cdFx0XHQvLyogcnVsZSAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDMpO1xyXG5cdFx0XHRpZighby5tb2JpbGUpICQoXCIucnVsZV9ib3ggLnJ1bGVfd29yZFwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG5cclxuXHRcdH1lbHNlIGlmKG8ud3JwLmhhc0NsYXNzKCdoZXJvJykpe1xyXG5cclxuXHRcdFx0Ly8qIGhlcm8gKi8vXHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgxKTtcclxuXHRcdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0XHRmb3IodmFyIGk9MDtpPCQoJy5oZXJvX2JveCAucGVyc29uJykubGVuZ3RoO2krKyl7XHJcblx0XHRcdFx0XHQkKCcuaGVyb19ib3ggLnBlcnNvbicpLmVxKGkpLmZpbmQoJy53JykubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdCQoJy5oZXJvX2JveCcpLmVhY2goaGVyb19ib3hmYyk7XHJcblx0XHRcdHNob3dsb2FkaW5nKGZhbHNlKTtcclxuXHRcdH1cclxuXHRcdGJsdWVfbGluZShvLmJsdWVfbGluZWluaXQpO1xyXG5cdH1cclxuXHJcblx0Ly9FdmVudFxyXG5cdGZ1bmN0aW9uIGNoZWNrSGVybygpe1xyXG5cdFx0dmFyIF95ID0gTWF0aC5hYnMoIG8uaGVyb21vdXNlWV9lbmQgLSBvLmhlcm9tb3VzZVkpO1xyXG5cdFx0dmFyIF94ID0gby5oZXJvbW91c2VYX2VuZCAtIG8uaGVyb21vdXNlWDtcclxuXHRcdGlmKF95ID49IG8udG91Y2h2YWx1ZVkpIHJldHVybjtcclxuXHRcdGVsc2V7XHJcblx0XHRcdGlmKE1hdGguYWJzKF94KTw9by50b3VjaHZhbHVlWCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0dmFyIG5vd251bSA9JCgnLnBlcnNvbicpLmF0dHIoJ2NsYXNzJykucmVwbGFjZSgncGVyc29uIHBlJywnJykucmVwbGFjZSgnIG9uJywnJykqMTtcclxuXHRcdFx0aWYoX3g+MCkgbm93bnVtID0gbm93bnVtKjEgKyAxO1xyXG5cdFx0XHRlbHNlIG5vd251bSA9IG5vd251bSoxIC0gMTtcclxuXHRcdFx0aWYobm93bnVtPDEpe25vd251bT01O31cclxuXHRcdFx0ZWxzZSBpZihub3dudW0+NSl7bm93bnVtPTE7fVxyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdoZXJvJytub3dudW0rJy5odG1sJztcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gc2hvd21lbnUoX3Qpe1xyXG5cdFx0aWYoX3Qpe1xyXG5cdFx0XHQkKCcuYnJlYWtfdG9wX2JhcicpLmNzcygnaGVpZ2h0JywkKHdpbmRvdykuaGVpZ2h0KCkpLmFkZENsYXNzKCdvbicpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdCQoJy5icmVha190b3BfYmFyJykuYXR0cignc3R5bGUnLCcnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gbWVudW1vdXNlT3V0KCl7XHJcblx0XHRvLmJsdWVfbGluZXRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdGNsZWFyVGltZW91dChvLmJsdWVfbGluZXRpbWVvdXQpO1xyXG5cdFx0XHRibHVlX2xpbmUoby5ibHVlX2xpbmVpbml0KTtcclxuXHRcdH0sMTUwMCk7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGhlcm9fYm94ZmMoKXtcclxuXHRcdHZhciBsZWZ0YnRuID0gJCh0aGlzKS5maW5kKCcubGVmdGJ0bicpLFxyXG5cdFx0XHRyaWdodGJ0biA9ICQodGhpcykuZmluZCgnLnJpZ2h0YnRuJyksXHJcblx0XHRcdHBlcnNvbiA9ICQodGhpcykuZmluZCgnLnBlcnNvbicpLFxyXG5cdFx0XHRidCA9ICQodGhpcykuZmluZCgnLnN1YicpLmZpbmQoJy5idCcpLFxyXG5cdFx0XHRfbWF4ID0gNSxcclxuXHRcdFx0bm93bnVtID1wZXJzb24uYXR0cignY2xhc3MnKS5yZXBsYWNlKCdwZXJzb24gcGUnLCcnKS5yZXBsYWNlKCcgb24nLCcnKSoxO1xyXG5cclxuXHRcdHBlcnNvbi5hZGRDbGFzcygnb24nKTtcclxuXHRcdGJ0LmVxKG5vd251bS0xKS5hZGRDbGFzcygnb24nKTtcclxuXHRcdGxlZnRidG4uY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtLT0xO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdHJpZ2h0YnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bSs9MTtcclxuXHRcdFx0Y2hhbmdlaGVybygpO1xyXG5cdFx0fSk7XHJcblx0XHRidC5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0gPSAkKHRoaXMpLmluZGV4KCkgKyAxO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdGZ1bmN0aW9uIGNoYW5nZWhlcm8oKXtcclxuXHRcdFx0aWYobm93bnVtPDEpe25vd251bT1fbWF4O31cclxuXHRcdFx0ZWxzZSBpZihub3dudW0+X21heCl7bm93bnVtPTE7fVxyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdoZXJvJytub3dudW0rJy5odG1sJztcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gc2hhcmVGYihfbGluayl7XHJcbiAgICAgICAgRkIudWkoeyAgICAgICAgICAgICBcclxuICAgICAgICAgICAgbWV0aG9kOiAnZmVlZCcsXHJcbiAgICAgICAgICAgIG5hbWU6IG8uc2hhcmV0aXRsZSxcclxuICAgICAgICAgICAgY2FwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG8uc2hhcmVkZXMsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6XCJwb3B1cFwiLFxyXG4gICAgICAgICAgICBsaW5rOiBfbGlua1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgfSk7ICAgICAgICBcclxuICAgIH1cclxuXHRmdW5jdGlvbiBjcmVhdGVWaWRlbyhfbyxfaWQsX2F1dG9wbGF5KXtcclxuICAgICAgICBvLnZpZGVvID0gbmV3IFlULlBsYXllcihfbywge1xyXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgdmlkZW9JZDogX2lkLFxyXG4gICAgICAgICAgcGxheWVyVmFyczp7XHJcbiAgICAgICAgICAgICdjb250cm9scyc6MCxcclxuICAgICAgICAgICAgJ2F1dG9wbGF5JzpfYXV0b3BsYXksXHJcbiAgICAgICAgICAgICdlbmFibGVqc2FwaSc6JzAnLFxyXG4gICAgICAgICAgICAnaGQnOicxJyxcclxuICAgICAgICAgICAgJ3JlbCc6JzAnLFxyXG4gICAgICAgICAgICAnc2hvd2luZm8nOicwJyxcclxuICAgICAgICAgICAgJ21vZGVzdGJyYW5kaW5nJzonMScsXHJcbiAgICAgICAgICAgICdjY19sb2FkX3BvbGljeSc6JzEnLFxyXG4gICAgICAgICAgICAnd21vZGUnOid0cmFuc3BhcmVudCcgICAgICBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBldmVudHM6IHtcclxuXHQgICAgICAgICdvblJlYWR5JzogdmlkZW9SZWFkeVxyXG5cdCAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHZpZGVvUmVhZHkoKXtcclxuICAgIFx0by52aWRlby5zZWVrVG8oMSkucGF1c2VWaWRlbygpO1xyXG4gICAgXHRzaG93bG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcblx0ZnVuY3Rpb24gc2hvd2xvYWRpbmcoX3Qpe1xyXG5cdFx0aWYoX3Qpe1xyXG5cdFx0XHQkKCcuYnJlYWtfbG9hZGluZycpLmZhZGVJbigpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdCQoJy5icmVha19sb2FkaW5nJykuZmFkZU91dCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBibHVlX2xpbmUoX28pe1xyXG5cdFx0aWYoby5tb2JpbGUpe1xyXG5cdFx0XHR2YXIgX3RvcCA9IF9vLm9mZnNldCgpLnRvcCAtICQoJy5icmVha190b3BfYmFyJykub2Zmc2V0KCkudG9wICsgNjA7XHJcblx0XHRcdGlmKG8uYmx1ZV9saW5lPT1fdG9wKXtyZXR1cm59XHJcblx0XHRcdG8uYmx1ZV9saW5lID0gX3RvcDtcclxuXHRcdFx0dmFyIF93aWR0aDtcclxuXHRcdFx0aWYoX28uaW5kZXgoKT09MCkgX3dpZHRoID0gNzA7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09MSkgX3dpZHRoID0gMjI0O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTIpIF93aWR0aCA9IDE4NjtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0zKSBfd2lkdGggPSAxNDY7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09NCkgX3dpZHRoID0gMTQ2O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTUpIF93aWR0aCA9IDI2MDtcclxuXHRcdFx0JCgnLmJsdWVfbGluZScpLmFuaW1hdGUoeyd0b3AnOm8uYmx1ZV9saW5lLCd3aWR0aCc6X3dpZHRofSxvLmJsdWVfbGluZV9zcGVlZCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYoby5ibHVlX2xpbmU9PShfby5vZmZzZXQoKS5sZWZ0IC0gJCgnLmJyZWFrX3RvcF9iYXJpbicpLm9mZnNldCgpLmxlZnQpKXtyZXR1cm59XHJcblx0XHRcdG8uYmx1ZV9saW5lID0gX28ub2Zmc2V0KCkubGVmdCAtICQoJy5icmVha190b3BfYmFyaW4nKS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHQkKCcuYmx1ZV9saW5lJykuYW5pbWF0ZSh7J2xlZnQnOm8uYmx1ZV9saW5lLCd3aWR0aCc6X28ud2lkdGgoKX0sby5ibHVlX2xpbmVfc3BlZWQpO1xyXG5cdFx0fVxyXG5cdH1cclxuICBcclxufSkvL3JlYWR5IGVuZCAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
