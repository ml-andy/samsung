$(document).ready(function(){function e(e){e=e.originalEvent.touches[0],b.heromouseX_end=e.pageX,b.heromouseY_end=e.pageY}function o(){if(b.wrp.hasClass("index")){b.blue_lineinit=$(".menua").eq(0),u("player",b.videoID,!1);var e=Math.round(4*Math.random());$(".break_wrapper .pg3 .person").eq(e).show()}else if(b.wrp.hasClass("rule"))b.blue_lineinit=$(".menua").eq(3),b.mobile||$(".rule_box .rule_word").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),c(!1);else if(b.wrp.hasClass("hero")){if(b.blue_lineinit=$(".menua").eq(1),!b.mobile)for(var o=0;o<$(".hero_box .person").length;o++)$(".hero_box .person").eq(o).find(".w").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"});$(".hero_box").each(s),c(!1)}h(b.blue_lineinit)}function n(){90==Math.abs(window.orientation)?$(".break_mobile_cover").fadeIn():$(".break_mobile_cover").fadeOut()}function i(){var e=Math.abs(b.heromouseY_end-b.heromouseY),o=b.heromouseX_end-b.heromouseX;if(!(e>=b.touchvalueY||Math.abs(o)<=b.touchvalueX)){var n=1*$(".person").attr("class").replace("person pe","").replace(" on","");n=o>0?1*n-1:1*n+1,n<1?n=5:n>5&&(n=1),window.location.href="hero"+n+".html"}}function t(e){e?(b.wrp.hasClass("index")&&($(".break_top_barin").removeClass("index"),$(".break_top_barin .logo").stop().animate({opacity:1},300)),$(".break_top_bar").css("height",$(window).height()).addClass("on")):(b.wrp.hasClass("index")&&($(".break_top_barin").addClass("index"),$(".break_top_barin .logo").stop().animate({opacity:0},300)),$(".break_top_bar").attr("style","").removeClass("on"))}function a(){b.blue_linetimeout=setTimeout(function(){clearTimeout(b.blue_linetimeout),h(b.blue_lineinit)},1500)}function s(){function e(){s<1?s=a:s>a&&(s=1),window.location.href="hero"+s+".html"}var o=$(this).find(".leftbtn"),n=$(this).find(".rightbtn"),i=$(this).find(".person"),t=$(this).find(".sub").find(".bt"),a=5,s=1*i.attr("class").replace("person pe","").replace(" on","");i.addClass("on"),t.eq(s-1).addClass("on"),o.click(function(){s-=1,e()}),n.click(function(){s+=1,e()}),t.click(function(){s=$(this).index()+1,e()})}function l(e){FB.ui({method:"feed",name:b.sharetitle,caption:"",description:b.sharedes,display:"popup",link:e},function(e){})}function r(e){FB.ui({method:"feed",name:b.sharetitle,caption:"",description:b.sharedes,display:"popup",link:e,type:"video"},function(e){})}function u(e,o,n){b.video=new YT.Player(e,{height:"100%",width:"100%",videoId:o,playerVars:{controls:0,autoplay:n,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"},events:{onReady:d}})}function d(){b.video.seekTo(1).pauseVideo(),c(!1)}function c(e){e?$(".break_loading").fadeIn():$(".break_loading").fadeOut()}function h(e){if(b.mobile){var o=e.offset().top-$(".break_top_bar").offset().top+.75*e.height();if(b.blue_line==o)return;b.blue_line=o;var n;0==e.index()?n=.5*e.height()/16*33:1==e.index()?n=.5*e.height()/16*107:2==e.index()?n=.5*e.height()/16*84:3==e.index()?n=.5*e.height()/16*69:4==e.index()?n=.5*e.height()/16*68:5==e.index()&&(n=.5*e.height()/16*118),$(".blue_line").animate({top:b.blue_line,width:n},b.blue_line_speed)}else{if(b.blue_line==e.offset().left-$(".break_top_barin").offset().left)return;b.blue_line=e.offset().left-$(".break_top_barin").offset().left,$(".blue_line").animate({left:b.blue_line,width:e.width()},b.blue_line_speed)}}var b={wrp:$(".break_wrapper"),touchvalueY:25,touchvalueX:.4*$(window).width(),blue_line_speed:100,videoID:"bRhpkp1_qEI",videolink:"https://www.youtube.com/watch?v=bRhpkp1_qEI",sub:$(".break_top_bar .sub"),FBAppId:"1301973823150988",mainurl:"http://www.samsung.com/tw/campaigns/olympics/",sharetitle:"突破極限之巔 - 2016里約奧運代表隊 謝謝你的努力",sharedes:"痛苦會過去，榮耀將留下謝謝你的努力，2016 里約奧運代表隊，你們辛苦了！"};if($(window).width()<=640?b.mobile=!0:b.mobile=!1,b.wrp.hasClass("index")){var p,f,m;p=document.getElementById("canvas"),m=new lib.inedx,f=new createjs.Stage(p),f.addChild(m),f.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",f),b.mobile||(b.Parallax=new Parallax(document.getElementById("break_page_pg1_kv")),b.Parallax2=new Parallax(document.getElementById("break_page_pg1_bg"))),FB.init({appId:b.FBAppId,channelUrl:b.mainurl,status:!0,xfbml:!0,cookie:!0}),$(".break_top_bar .logo").css("opacity",0),b.mobile&&$(".break_top_barin").addClass("index")}else b.wrp.hasClass("hero")&&(FB.init({appId:b.FBAppId,channelUrl:b.mainurl,status:!0,xfbml:!0,cookie:!0}),b.mobile&&($(".hero_box").bind("touchstart",function(o){o=o.originalEvent.touches[0],$(".hero_box").bind("touchmove",e),b.heromouseX=o.pageX,b.heromouseY=o.pageY}),$(".hero_box").bind("touchend",function(o){$(".hero_box").unbind("touchmove",e),i()})));$(".logo").click(function(){b.wrp.hasClass("index")||(window.location.href="index.html")}),$(".chatbtn").click(function(){window.open("whatsapp://send?text="+window.location.href)}),$(".linebtn").click(function(){window.open("//line.me/R/msg/text/?"+b.sharetitle+"，"+b.sharedes+window.location.href+"　","_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=400")}),$(window).on("touchmove",function(e){b.mobile&&$(".break_top_bar").hasClass("on")&&$(".break_top_bar").addClass("on_end").css("height",$(window).height()+100)}),$(".m_icon").click(function(){var e=$(this).parent().parent();e.hasClass("on")?(e.removeClass("on_end").removeClass("on"),t(!1)):(e.addClass("on"),t(!0))}),$(".hero_box .fbshare").click(function(){l(window.location.href)}),$(".break_wrapper .pg2 .fbshare").click(function(){r("https://ml-andy.github.io/samsung/andy/video.html")}),$(".videoctrl").click(function(){b.video.playVideo(),$(".videoctrl").fadeOut()}),$(".menua").mouseover(function(){h($(this)),b.mobile||(6==$(this).index()?b.sub.stop().fadeIn():b.sub.stop().fadeOut())}),$(".menu").mousemove(function(){clearTimeout(b.blue_linetimeout)}),$(".menu").mouseout(function(){a()}),b.sub.mousemove(function(){clearTimeout(b.blue_linetimeout)}),b.sub.mouseover(function(){b.mobile||b.sub.hasClass("on")||b.sub.stop().addClass("on").fadeIn()}),b.sub.mouseout(function(){a(),b.mobile||b.sub.hasClass("on")&&b.sub.stop().removeClass("on").fadeOut()}),window.onorientationchange=n,$(window).load(o)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhlcm90b3VjaG1vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJvIiwiaGVyb21vdXNlWF9lbmQiLCJwYWdlWCIsImhlcm9tb3VzZVlfZW5kIiwicGFnZVkiLCJ3aW5kb3dMb2FkIiwid3JwIiwiaGFzQ2xhc3MiLCJibHVlX2xpbmVpbml0IiwiZXEiLCJjcmVhdGVWaWRlbyIsInZpZGVvSUQiLCJfcmFuZG9tIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwic2hvdyIsIm1vYmlsZSIsIm1DdXN0b21TY3JvbGxiYXIiLCJzY3JvbGxJbmVydGlhIiwic2Nyb2xsRWFzaW5nIiwic2hvd2xvYWRpbmciLCJpIiwibGVuZ3RoIiwiZmluZCIsImVhY2giLCJoZXJvX2JveGZjIiwiYmx1ZV9saW5lIiwicmVhZERldmljZU9yaWVudGF0aW9uIiwiYWJzIiwid2luZG93Iiwib3JpZW50YXRpb24iLCJmYWRlSW4iLCJmYWRlT3V0IiwiY2hlY2tIZXJvIiwiX3kiLCJoZXJvbW91c2VZIiwiX3giLCJoZXJvbW91c2VYIiwidG91Y2h2YWx1ZVkiLCJ0b3VjaHZhbHVlWCIsIm5vd251bSIsImF0dHIiLCJyZXBsYWNlIiwibG9jYXRpb24iLCJocmVmIiwic2hvd21lbnUiLCJfdCIsInJlbW92ZUNsYXNzIiwic3RvcCIsImFuaW1hdGUiLCJvcGFjaXR5IiwiY3NzIiwiaGVpZ2h0IiwiYWRkQ2xhc3MiLCJtZW51bW91c2VPdXQiLCJibHVlX2xpbmV0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNoYW5nZWhlcm8iLCJfbWF4IiwibGVmdGJ0biIsInRoaXMiLCJyaWdodGJ0biIsInBlcnNvbiIsImJ0IiwiY2xpY2siLCJpbmRleCIsInNoYXJlRmIiLCJfbGluayIsIkZCIiwidWkiLCJtZXRob2QiLCJuYW1lIiwic2hhcmV0aXRsZSIsImNhcHRpb24iLCJkZXNjcmlwdGlvbiIsInNoYXJlZGVzIiwiZGlzcGxheSIsImxpbmsiLCJyZXNwb25zZSIsInNoYXJlRmJ2aWRlbyIsInR5cGUiLCJfbyIsIl9pZCIsIl9hdXRvcGxheSIsInZpZGVvIiwiWVQiLCJQbGF5ZXIiLCJ3aWR0aCIsInZpZGVvSWQiLCJwbGF5ZXJWYXJzIiwiY29udHJvbHMiLCJhdXRvcGxheSIsImVuYWJsZWpzYXBpIiwiaGQiLCJyZWwiLCJzaG93aW5mbyIsIm1vZGVzdGJyYW5kaW5nIiwiY2NfbG9hZF9wb2xpY3kiLCJ3bW9kZSIsImV2ZW50cyIsIm9uUmVhZHkiLCJ2aWRlb1JlYWR5Iiwic2Vla1RvIiwicGF1c2VWaWRlbyIsIl90b3AiLCJvZmZzZXQiLCJ0b3AiLCJfd2lkdGgiLCJibHVlX2xpbmVfc3BlZWQiLCJsZWZ0IiwidmlkZW9saW5rIiwic3ViIiwiRkJBcHBJZCIsIm1haW51cmwiLCJjYW52YXMiLCJzdGFnZSIsImV4cG9ydFJvb3QiLCJnZXRFbGVtZW50QnlJZCIsImxpYiIsImluZWR4IiwiY3JlYXRlanMiLCJTdGFnZSIsImFkZENoaWxkIiwidXBkYXRlIiwiVGlja2VyIiwic2V0RlBTIiwicHJvcGVydGllcyIsImZwcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJQYXJhbGxheCIsIlBhcmFsbGF4MiIsImluaXQiLCJhcHBJZCIsImNoYW5uZWxVcmwiLCJzdGF0dXMiLCJ4ZmJtbCIsImNvb2tpZSIsImJpbmQiLCJ1bmJpbmQiLCJvcGVuIiwib24iLCJfdGgiLCJwYXJlbnQiLCJwbGF5VmlkZW8iLCJtb3VzZW92ZXIiLCJtb3VzZW1vdmUiLCJtb3VzZW91dCIsIm9ub3JpZW50YXRpb25jaGFuZ2UiLCJsb2FkIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQTZEZixRQUFTQyxHQUFjQyxHQUN0QkEsRUFBSUEsRUFBRUMsY0FBY0MsUUFBUSxHQUM1QkMsRUFBRUMsZUFBaUJKLEVBQUVLLE1BQ3JCRixFQUFFRyxlQUFpQk4sRUFBRU8sTUE4RXhCLFFBQVNDLEtBQ1IsR0FB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LEVBQUV3RCxvQkFFaEIvRCxFQUFFLFNBQVMySixTQUFTLFdBQ25CN0YsTUFFRHZELEVBQUVpSCxJQUFJa0MsVUFBVSxXQUNmekYsYUFBYTFELEVBQUV3RCxvQkFFaEJ4RCxFQUFFaUgsSUFBSWlDLFVBQVUsV0FDWGxKLEVBQUVpQixRQUNEakIsRUFBRWlILElBQUkxRyxTQUFTLE9BQ2xCUCxFQUFFaUgsSUFBSWhFLE9BQU9LLFNBQVMsTUFBTXRCLFdBSS9CaEMsRUFBRWlILElBQUltQyxTQUFTLFdBQ2Q3RixJQUNJdkQsRUFBRWlCLFFBQ0ZqQixFQUFFaUgsSUFBSTFHLFNBQVMsT0FDakJQLEVBQUVpSCxJQUFJaEUsT0FBT0QsWUFBWSxNQUFNZixZQUlsQ0gsT0FBT3VILG9CQUFzQnpILEVBQzdCbkMsRUFBRXFDLFFBQVF3SCxLQUFLakoiLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcblx0Ly9Jbml0XHJcblx0dmFyIG8gPSB7XHJcblx0XHR3cnA6ICQoJy5icmVha193cmFwcGVyJyksXHJcblx0XHR0b3VjaHZhbHVlWTogMjUsXHJcblx0XHR0b3VjaHZhbHVlWDogJCh3aW5kb3cpLndpZHRoKCkqMC40LFxyXG5cdFx0Ymx1ZV9saW5lX3NwZWVkOiAxMDAsXHJcblx0XHR2aWRlb0lEOiAnYlJocGtwMV9xRUknLFxyXG5cdFx0dmlkZW9saW5rOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1iUmhwa3AxX3FFSScsXHJcblx0XHRzdWI6ICQoJy5icmVha190b3BfYmFyIC5zdWInKSxcclxuXHRcdEZCQXBwSWQ6ICcxMzAxOTczODIzMTUwOTg4JyxcclxuXHRcdG1haW51cmw6ICdodHRwOi8vd3d3LnNhbXN1bmcuY29tL3R3L2NhbXBhaWducy9vbHltcGljcy8nLFxyXG5cdFx0c2hhcmV0aXRsZTogJ+eqgeegtOaltemZkOS5i+W3lCAtIDIwMTbph4zntITlpafpgYvku6Pooajpmoog6Kyd6Kyd5L2g55qE5Yqq5YqbJyxcclxuXHRcdHNoYXJlZGVzOiAn55eb6Ium5pyD6YGO5Y6777yM5qau6ICA5bCH55WZ5LiL6Kyd6Kyd5L2g55qE5Yqq5Yqb77yMMjAxNiDph4zntITlpafpgYvku6PooajpmorvvIzkvaDlgJHovpvoi6bkuobvvIEnXHJcblx0fTtcclxuXHJcblx0aWYoJCh3aW5kb3cpLndpZHRoKCk8PTY0MCkgby5tb2JpbGUgPSB0cnVlO1xyXG5cdGVsc2Ugby5tb2JpbGUgPSBmYWxzZTtcclxuXHJcblx0aWYoby53cnAuaGFzQ2xhc3MoJ2luZGV4Jykpe1xyXG5cdFx0dmFyIGNhbnZhcywgc3RhZ2UsIGV4cG9ydFJvb3Q7XHJcblx0XHRjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuXHRcdGV4cG9ydFJvb3QgPSBuZXcgbGliLmluZWR4KCk7XHJcblx0XHRzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShjYW52YXMpO1xyXG5cdFx0c3RhZ2UuYWRkQ2hpbGQoZXhwb3J0Um9vdCk7XHJcblx0XHRzdGFnZS51cGRhdGUoKTtcclxuXHRcdGNyZWF0ZWpzLlRpY2tlci5zZXRGUFMobGliLnByb3BlcnRpZXMuZnBzKTtcclxuXHRcdGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBzdGFnZSk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRvLlBhcmFsbGF4ID0gbmV3IFBhcmFsbGF4KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVha19wYWdlX3BnMV9rdicpKTtcclxuXHRcdFx0by5QYXJhbGxheDIgPSBuZXcgUGFyYWxsYXgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrX3BhZ2VfcGcxX2JnJykpO1xyXG5cdFx0fVxyXG5cdFx0RkIuaW5pdCh7XHJcblx0ICAgICAgICBhcHBJZCAgICAgIDogby5GQkFwcElkLFxyXG5cdCAgICAgICAgY2hhbm5lbFVybCA6IG8ubWFpbnVybCxcclxuXHQgICAgICAgIHN0YXR1cyAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgeGZibWwgICAgICA6IHRydWUsXHJcblx0ICAgICAgICBjb29raWUgICAgIDogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgJCgnLmJyZWFrX3RvcF9iYXIgLmxvZ28nKS5jc3MoJ29wYWNpdHknLDApO1xyXG5cdCAgICBpZihvLm1vYmlsZSkgJCgnLmJyZWFrX3RvcF9iYXJpbicpLmFkZENsYXNzKCdpbmRleCcpO1xyXG5cdH1lbHNlIGlmKG8ud3JwLmhhc0NsYXNzKCdoZXJvJykpe1xyXG5cdFx0RkIuaW5pdCh7XHJcblx0ICAgICAgICBhcHBJZCAgICAgIDogby5GQkFwcElkLFxyXG5cdCAgICAgICAgY2hhbm5lbFVybCA6IG8ubWFpbnVybCxcclxuXHQgICAgICAgIHN0YXR1cyAgICAgOiB0cnVlLFxyXG5cdCAgICAgICAgeGZibWwgICAgICA6IHRydWUsXHJcblx0ICAgICAgICBjb29raWUgICAgIDogdHJ1ZVxyXG5cdCAgICB9KTtcclxuXHQgICAgaWYoby5tb2JpbGUpe1xyXG5cdCAgICBcdCQoJy5oZXJvX2JveCcpLmJpbmQoJ3RvdWNoc3RhcnQnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdGUgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcclxuXHRcdFx0XHQkKCcuaGVyb19ib3gnKS5iaW5kKCd0b3VjaG1vdmUnLGhlcm90b3VjaG1vdmUpO1xyXG5cdFx0XHRcdG8uaGVyb21vdXNlWCA9IGUucGFnZVg7XHJcblx0XHRcdFx0by5oZXJvbW91c2VZID0gZS5wYWdlWTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdCQoJy5oZXJvX2JveCcpLmJpbmQoJ3RvdWNoZW5kJyxmdW5jdGlvbihlKXtcclxuXHRcdFx0XHQkKCcuaGVyb19ib3gnKS51bmJpbmQoJ3RvdWNobW92ZScsaGVyb3RvdWNobW92ZSk7XHJcblx0XHRcdFx0Y2hlY2tIZXJvKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRmdW5jdGlvbiBoZXJvdG91Y2htb3ZlKGUpe1xyXG5cdFx0XHRcdGUgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVhfZW5kID0gZS5wYWdlWDtcclxuXHRcdFx0XHRvLmhlcm9tb3VzZVlfZW5kID0gZS5wYWdlWTtcclxuXHRcdFx0fVxyXG5cdCAgICB9XHJcblx0fVxyXG5cclxuXHQvL0FkZGxpc3RlbmVyXHJcblx0JCgnLmxvZ28nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0aWYoIW8ud3JwLmhhc0NsYXNzKCdpbmRleCcpKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdpbmRleC5odG1sJztcclxuXHR9KTtcclxuXHQkKCcuY2hhdGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR3aW5kb3cub3BlbihcIndoYXRzYXBwOi8vc2VuZD90ZXh0PVwiK3dpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHR9KTtcclxuXHQkKCcubGluZWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHR3aW5kb3cub3BlbihcIi8vbGluZS5tZS9SL21zZy90ZXh0Lz9cIitvLnNoYXJldGl0bGUrXCLvvIxcIitvLnNoYXJlZGVzKyB3aW5kb3cubG9jYXRpb24uaHJlZiArXCLjgIBcIiwnX2JsYW5rJywgXCJ0b29sYmFyPXllcywgc2Nyb2xsYmFycz15ZXMsIHJlc2l6YWJsZT15ZXMsIHRvcD0xMDAsIGxlZnQ9NTAwLCB3aWR0aD02MDAsIGhlaWdodD00MDBcIik7XHJcblx0fSk7XHJcblx0JCh3aW5kb3cpLm9uKCd0b3VjaG1vdmUnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0aWYoby5tb2JpbGUpe1xyXG5cdFx0XHRpZigkKCcuYnJlYWtfdG9wX2JhcicpLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0XHQkKCcuYnJlYWtfdG9wX2JhcicpLmFkZENsYXNzKCdvbl9lbmQnKS5jc3MoJ2hlaWdodCcsJCh3aW5kb3cpLmhlaWdodCgpKzEwMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHQkKCcubV9pY29uJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHZhciBfdGggPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpO1xyXG5cdFx0aWYoX3RoLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0X3RoLnJlbW92ZUNsYXNzKCdvbl9lbmQnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdFx0c2hvd21lbnUoZmFsc2UpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdF90aC5hZGRDbGFzcygnb24nKTtcclxuXHRcdFx0c2hvd21lbnUodHJ1ZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0JCgnLmhlcm9fYm94IC5mYnNoYXJlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdHNoYXJlRmIod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cdH0pXHJcblx0JCgnLmJyZWFrX3dyYXBwZXIgLnBnMiAuZmJzaGFyZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRzaGFyZUZidmlkZW8oXCJodHRwczovL21sLWFuZHkuZ2l0aHViLmlvL3NhbXN1bmcvYW5keS92aWRlby5odG1sXCIpO1xyXG5cdH0pO1xyXG5cdCQoJy52aWRlb2N0cmwnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0by52aWRlby5wbGF5VmlkZW8oKTtcclxuXHRcdCQoJy52aWRlb2N0cmwnKS5mYWRlT3V0KCk7XHJcblx0fSk7XHJcblx0JCgnLm1lbnVhJykubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHRibHVlX2xpbmUoJCh0aGlzKSk7XHJcblx0XHRpZighby5tb2JpbGUpe1xyXG5cdFx0XHRpZigkKHRoaXMpLmluZGV4KCk9PTYpe1xyXG5cdFx0XHRcdG8uc3ViLnN0b3AoKS5mYWRlSW4oKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0by5zdWIuc3RvcCgpLmZhZGVPdXQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdCQoJy5tZW51JykubW91c2Vtb3ZlKGZ1bmN0aW9uKCl7XHJcblx0XHRjbGVhclRpbWVvdXQoby5ibHVlX2xpbmV0aW1lb3V0KTtcclxuXHR9KTtcclxuXHQkKCcubWVudScpLm1vdXNlb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRtZW51bW91c2VPdXQoKTtcclxuXHR9KTtcclxuXHRvLnN1Yi5tb3VzZW1vdmUoZnVuY3Rpb24oKXtcclxuXHRcdGNsZWFyVGltZW91dChvLmJsdWVfbGluZXRpbWVvdXQpO1xyXG5cdH0pO1xyXG5cdG8uc3ViLm1vdXNlb3ZlcihmdW5jdGlvbigpe1xyXG5cdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0aWYoIW8uc3ViLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkuYWRkQ2xhc3MoJ29uJykuZmFkZUluKCk7XHRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdG8uc3ViLm1vdXNlb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRtZW51bW91c2VPdXQoKTtcclxuXHRcdGlmKCFvLm1vYmlsZSl7XHJcblx0XHRcdGlmKG8uc3ViLmhhc0NsYXNzKCdvbicpKXtcclxuXHRcdFx0XHRvLnN1Yi5zdG9wKCkucmVtb3ZlQ2xhc3MoJ29uJykuZmFkZU91dCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0d2luZG93Lm9ub3JpZW50YXRpb25jaGFuZ2UgPSByZWFkRGV2aWNlT3JpZW50YXRpb247XHJcblx0JCh3aW5kb3cpLmxvYWQod2luZG93TG9hZCk7XHJcblx0ZnVuY3Rpb24gd2luZG93TG9hZCgpe1xyXG5cdFx0aWYoby53cnAuaGFzQ2xhc3MoJ2luZGV4Jykpe1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8qIGluZGV4ICovL1xyXG5cdFx0XHRvLmJsdWVfbGluZWluaXQ9JCgnLm1lbnVhJykuZXEoMCk7XHJcblx0XHRcdGNyZWF0ZVZpZGVvKCdwbGF5ZXInLG8udmlkZW9JRCxmYWxzZSk7XHJcblx0XHRcdHZhciBfcmFuZG9tID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjQpO1xyXG5cdFx0XHQkKCcuYnJlYWtfd3JhcHBlciAucGczIC5wZXJzb24nKS5lcShfcmFuZG9tKS5zaG93KCk7XHJcblxyXG5cdFx0fWVsc2UgaWYoby53cnAuaGFzQ2xhc3MoJ3J1bGUnKSl7XHJcblxyXG5cdFx0XHQvLyogcnVsZSAqLy9cclxuXHRcdFx0by5ibHVlX2xpbmVpbml0PSQoJy5tZW51YScpLmVxKDMpO1xyXG5cdFx0XHRpZighby5tb2JpbGUpICQoXCIucnVsZV9ib3ggLnJ1bGVfd29yZFwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuXHRcdFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG5cclxuXHRcdH1lbHNlIGlmKG8ud3JwLmhhc0NsYXNzKCdoZXJvJykpe1xyXG5cclxuXHRcdFx0Ly8qIGhlcm8gKi8vXHJcblx0XHRcdG8uYmx1ZV9saW5laW5pdD0kKCcubWVudWEnKS5lcSgxKTtcclxuXHRcdFx0aWYoIW8ubW9iaWxlKXtcclxuXHRcdFx0XHRmb3IodmFyIGk9MDtpPCQoJy5oZXJvX2JveCAucGVyc29uJykubGVuZ3RoO2krKyl7XHJcblx0XHRcdFx0XHQkKCcuaGVyb19ib3ggLnBlcnNvbicpLmVxKGkpLmZpbmQoJy53JykubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdCQoJy5oZXJvX2JveCcpLmVhY2goaGVyb19ib3hmYyk7XHJcblx0XHRcdHNob3dsb2FkaW5nKGZhbHNlKTtcclxuXHRcdH1cclxuXHRcdGJsdWVfbGluZShvLmJsdWVfbGluZWluaXQpO1xyXG5cdH1cclxuXHJcblx0Ly9FdmVudFxyXG5cdGZ1bmN0aW9uIHJlYWREZXZpY2VPcmllbnRhdGlvbigpIHtcclxuXHQgICAgaWYgKE1hdGguYWJzKHdpbmRvdy5vcmllbnRhdGlvbikgPT0gOTApIHtcclxuXHQgICAgICAgIC8vIExhbmRzY2FwZVxyXG5cdCAgICAgICAgJCgnLmJyZWFrX21vYmlsZV9jb3ZlcicpLmZhZGVJbigpO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICBcdC8vIFBvcnRyYWl0XHJcblx0ICAgIFx0JCgnLmJyZWFrX21vYmlsZV9jb3ZlcicpLmZhZGVPdXQoKTtcclxuXHQgICAgfVxyXG5cdH1cclxuXHRmdW5jdGlvbiBjaGVja0hlcm8oKXtcclxuXHRcdHZhciBfeSA9IE1hdGguYWJzKCBvLmhlcm9tb3VzZVlfZW5kIC0gby5oZXJvbW91c2VZKTtcclxuXHRcdHZhciBfeCA9IG8uaGVyb21vdXNlWF9lbmQgLSBvLmhlcm9tb3VzZVg7XHJcblx0XHRpZihfeSA+PSBvLnRvdWNodmFsdWVZKSByZXR1cm47XHJcblx0XHRlbHNle1xyXG5cdFx0XHRpZihNYXRoLmFicyhfeCk8PW8udG91Y2h2YWx1ZVgpIHJldHVybjtcclxuXHJcblx0XHRcdHZhciBub3dudW0gPSQoJy5wZXJzb24nKS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoJ3BlcnNvbiBwZScsJycpLnJlcGxhY2UoJyBvbicsJycpKjE7XHJcblx0XHRcdGlmKF94PjApIG5vd251bSA9IG5vd251bSoxIC0gMTtcclxuXHRcdFx0ZWxzZSBub3dudW0gPSBub3dudW0qMSArIDE7XHJcblx0XHRcdGlmKG5vd251bTwxKXtub3dudW09NTt9XHJcblx0XHRcdGVsc2UgaWYobm93bnVtPjUpe25vd251bT0xO31cclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaGVybycrbm93bnVtKycuaHRtbCc7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNob3dtZW51KF90KXtcclxuXHRcdGlmKF90KXtcclxuXHRcdFx0aWYoby53cnAuaGFzQ2xhc3MoJ2luZGV4Jykpe1xyXG5cdFx0XHRcdCQoJy5icmVha190b3BfYmFyaW4nKS5yZW1vdmVDbGFzcygnaW5kZXgnKTtcclxuXHRcdFx0XHQkKCcuYnJlYWtfdG9wX2JhcmluIC5sb2dvJykuc3RvcCgpLmFuaW1hdGUoeydvcGFjaXR5JzoxfSwzMDApO1xyXG5cdFx0XHR9XHJcblx0XHRcdCQoJy5icmVha190b3BfYmFyJykuY3NzKCdoZWlnaHQnLCQod2luZG93KS5oZWlnaHQoKSkuYWRkQ2xhc3MoJ29uJyk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYoby53cnAuaGFzQ2xhc3MoJ2luZGV4Jykpe1xyXG5cdFx0XHRcdCQoJy5icmVha190b3BfYmFyaW4nKS5hZGRDbGFzcygnaW5kZXgnKTtcclxuXHRcdFx0XHQkKCcuYnJlYWtfdG9wX2JhcmluIC5sb2dvJykuc3RvcCgpLmFuaW1hdGUoeydvcGFjaXR5JzowfSwzMDApO1xyXG5cdFx0XHR9XHJcblx0XHRcdCQoJy5icmVha190b3BfYmFyJykuYXR0cignc3R5bGUnLCcnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gbWVudW1vdXNlT3V0KCl7XHJcblx0XHRvLmJsdWVfbGluZXRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdGNsZWFyVGltZW91dChvLmJsdWVfbGluZXRpbWVvdXQpO1xyXG5cdFx0XHRibHVlX2xpbmUoby5ibHVlX2xpbmVpbml0KTtcclxuXHRcdH0sMTUwMCk7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGhlcm9fYm94ZmMoKXtcclxuXHRcdHZhciBsZWZ0YnRuID0gJCh0aGlzKS5maW5kKCcubGVmdGJ0bicpLFxyXG5cdFx0XHRyaWdodGJ0biA9ICQodGhpcykuZmluZCgnLnJpZ2h0YnRuJyksXHJcblx0XHRcdHBlcnNvbiA9ICQodGhpcykuZmluZCgnLnBlcnNvbicpLFxyXG5cdFx0XHRidCA9ICQodGhpcykuZmluZCgnLnN1YicpLmZpbmQoJy5idCcpLFxyXG5cdFx0XHRfbWF4ID0gNSxcclxuXHRcdFx0bm93bnVtID1wZXJzb24uYXR0cignY2xhc3MnKS5yZXBsYWNlKCdwZXJzb24gcGUnLCcnKS5yZXBsYWNlKCcgb24nLCcnKSoxO1xyXG5cclxuXHRcdHBlcnNvbi5hZGRDbGFzcygnb24nKTtcclxuXHRcdGJ0LmVxKG5vd251bS0xKS5hZGRDbGFzcygnb24nKTtcclxuXHRcdGxlZnRidG4uY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdFx0bm93bnVtLT0xO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdHJpZ2h0YnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHRcdG5vd251bSs9MTtcclxuXHRcdFx0Y2hhbmdlaGVybygpO1xyXG5cdFx0fSk7XHJcblx0XHRidC5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0XHRub3dudW0gPSAkKHRoaXMpLmluZGV4KCkgKyAxO1xyXG5cdFx0XHRjaGFuZ2VoZXJvKCk7XHJcblx0XHR9KTtcclxuXHRcdGZ1bmN0aW9uIGNoYW5nZWhlcm8oKXtcclxuXHRcdFx0aWYobm93bnVtPDEpe25vd251bT1fbWF4O31cclxuXHRcdFx0ZWxzZSBpZihub3dudW0+X21heCl7bm93bnVtPTE7fVxyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdoZXJvJytub3dudW0rJy5odG1sJztcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gc2hhcmVGYihfbGluayl7XHJcbiAgICAgICAgRkIudWkoeyAgICAgICAgICAgICBcclxuICAgICAgICAgICAgbWV0aG9kOiAnZmVlZCcsXHJcbiAgICAgICAgICAgIG5hbWU6IG8uc2hhcmV0aXRsZSxcclxuICAgICAgICAgICAgY2FwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG8uc2hhcmVkZXMsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6XCJwb3B1cFwiLFxyXG4gICAgICAgICAgICBsaW5rOiBfbGlua1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgfSk7ICAgICAgICBcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNoYXJlRmJ2aWRlbyhfbGluayl7XHJcbiAgICAgICAgRkIudWkoeyAgICAgICAgICAgICBcclxuICAgICAgICAgICAgbWV0aG9kOiAnZmVlZCcsXHJcbiAgICAgICAgICAgIG5hbWU6IG8uc2hhcmV0aXRsZSxcclxuICAgICAgICAgICAgY2FwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG8uc2hhcmVkZXMsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6XCJwb3B1cFwiLFxyXG4gICAgICAgICAgICBsaW5rOiBfbGluayxcclxuXHQgICAgICAgIHR5cGU6ICd2aWRlbydcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIH0pOyAgICAgICAgXHJcbiAgICB9XHJcblx0ZnVuY3Rpb24gY3JlYXRlVmlkZW8oX28sX2lkLF9hdXRvcGxheSl7XHJcbiAgICAgICAgby52aWRlbyA9IG5ldyBZVC5QbGF5ZXIoX28sIHtcclxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgIHZpZGVvSWQ6IF9pZCxcclxuICAgICAgICAgIHBsYXllclZhcnM6e1xyXG4gICAgICAgICAgICAnY29udHJvbHMnOjAsXHJcbiAgICAgICAgICAgICdhdXRvcGxheSc6X2F1dG9wbGF5LFxyXG4gICAgICAgICAgICAnZW5hYmxlanNhcGknOicwJyxcclxuICAgICAgICAgICAgJ2hkJzonMScsXHJcbiAgICAgICAgICAgICdyZWwnOicwJyxcclxuICAgICAgICAgICAgJ3Nob3dpbmZvJzonMCcsXHJcbiAgICAgICAgICAgICdtb2Rlc3RicmFuZGluZyc6JzEnLFxyXG4gICAgICAgICAgICAnY2NfbG9hZF9wb2xpY3knOicxJyxcclxuICAgICAgICAgICAgJ3dtb2RlJzondHJhbnNwYXJlbnQnICAgICAgXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXZlbnRzOiB7XHJcblx0ICAgICAgICAnb25SZWFkeSc6IHZpZGVvUmVhZHlcclxuXHQgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB2aWRlb1JlYWR5KCl7XHJcbiAgICBcdG8udmlkZW8uc2Vla1RvKDEpLnBhdXNlVmlkZW8oKTtcclxuICAgIFx0c2hvd2xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG5cdGZ1bmN0aW9uIHNob3dsb2FkaW5nKF90KXtcclxuXHRcdGlmKF90KXtcclxuXHRcdFx0JCgnLmJyZWFrX2xvYWRpbmcnKS5mYWRlSW4oKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHQkKCcuYnJlYWtfbG9hZGluZycpLmZhZGVPdXQoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gYmx1ZV9saW5lKF9vKXtcclxuXHRcdGlmKG8ubW9iaWxlKXtcclxuXHRcdFx0dmFyIF90b3AgPSBfby5vZmZzZXQoKS50b3AgLSAkKCcuYnJlYWtfdG9wX2JhcicpLm9mZnNldCgpLnRvcCArIF9vLmhlaWdodCgpKjAuNzU7XHJcblx0XHRcdGlmKG8uYmx1ZV9saW5lPT1fdG9wKXtyZXR1cm59XHJcblx0XHRcdG8uYmx1ZV9saW5lID0gX3RvcDtcclxuXHRcdFx0dmFyIF93aWR0aDtcclxuXHRcdFx0aWYoX28uaW5kZXgoKT09MCkgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiAzMztcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0xKSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDEwNztcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT0yKSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDg0O1xyXG5cdFx0XHRlbHNlIGlmKF9vLmluZGV4KCk9PTMpIF93aWR0aCA9IF9vLmhlaWdodCgpKjAuNSAvIDE2ICogNjk7XHJcblx0XHRcdGVsc2UgaWYoX28uaW5kZXgoKT09NCkgX3dpZHRoID0gX28uaGVpZ2h0KCkqMC41IC8gMTYgKiA2ODtcclxuXHRcdFx0ZWxzZSBpZihfby5pbmRleCgpPT01KSBfd2lkdGggPSBfby5oZWlnaHQoKSowLjUgLyAxNiAqIDExODtcclxuXHRcdFx0JCgnLmJsdWVfbGluZScpLmFuaW1hdGUoeyd0b3AnOm8uYmx1ZV9saW5lLCd3aWR0aCc6X3dpZHRofSxvLmJsdWVfbGluZV9zcGVlZCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYoby5ibHVlX2xpbmU9PShfby5vZmZzZXQoKS5sZWZ0IC0gJCgnLmJyZWFrX3RvcF9iYXJpbicpLm9mZnNldCgpLmxlZnQpKXtyZXR1cm59XHJcblx0XHRcdG8uYmx1ZV9saW5lID0gX28ub2Zmc2V0KCkubGVmdCAtICQoJy5icmVha190b3BfYmFyaW4nKS5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHQkKCcuYmx1ZV9saW5lJykuYW5pbWF0ZSh7J2xlZnQnOm8uYmx1ZV9saW5lLCd3aWR0aCc6X28ud2lkdGgoKX0sby5ibHVlX2xpbmVfc3BlZWQpO1xyXG5cdFx0fVxyXG5cdH1cclxuICBcclxufSkvL3JlYWR5IGVuZCAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
